<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8"/>
        <link rel="icon" href="_imagens/favicon.ico"/>
        <title>Aprenda PHP</title>
        <link rel="stylesheet" href="_css/estilo.css"/>
    </head>
    <body>
        <div>
            <header>
                <h1>Aprenda PHP</h1>
                <menu>
                    <li><a href="index.html">Página Inicial</a></li>
                    <li><a href="contato.html">Contato!</a></li>
                    <li><a href="tudo-sobre-php-1.html">Tudo sobre PHP Parte 1!</a></li>
                    <li><a href="tudo-sobre-php-2.html">Tudo sobre PHP Parte 2!</a></li>
                    <li><a href="tudo-sobre-php-3.html">Tudo sobre PHP Parte 3!</a></li>
                    <li><a href="tudo-sobre-php-4.html" onclick="alert('Você já Está na Matéria desse Link!'); return false">Tudo sobre PHP Parte 4!</a></li>
                    <li><a href="tudo-sobre-php-5.html">Tudo sobre PHP Parte 5!</a></li>
                    <li><a href="tudo-sobre-php-6.html">Tudo sobre PHP Parte 6!</a></li>
                </menu>
            </header>
                           
<h2>Tudo sobre PHP Parte 4</h2>

<h3>Estrutura de Repetição While</h3>

<p>Uma das formas de criar repetições em PHP é com a estrutura <code>while</code> (enquanto). Veja um exemplo simples de repetição com PHP:</p>

<pre>
<code>
$c = 1;
while($c &lt;= 10) {
    echo $c . "&lt;br/&gt;";
    $c++;
}
</code>
</pre>

<p>A mesma repetição, só que voltando a contagem:</p>

<pre>
<code>
$c = 10;
while($c &gt;= 1) {
    echo $c . "&lt;br/&gt;";
    $c--;
}
</code>
</pre>

<p>Também podemos usar outros valores, dessa forma:</p>

<pre>
<code>
$c = 10;
while($c &gt;= 0) {
    echo $c . "&lt;br/&gt;";
    $c -= 2; // $c = $c - 2;
}
</code>
</pre>

<p>A repetição while realiza um teste lógico no início do loop, e cada vez que o teste retornar verdadeiro, os comandos associados ao laço são executados. Se retornar falso, o laço é encerrado e o processamento volta para o fluxo principal do programa.</p>

<p>Podemos usar o <code>break</code> e o <code>continue</code> para interromper e continuar (ao encontrar algum dado que não deve ser executado) uma estrutura while, respectivamente, mas esses códigos são pouco usados. Veja um exemplo:</p>

<pre>
<code>
$volta = 0;
while(true) {
    $volta++;
    if($volta == 13 || $volta == 16) {
        continue;
    }
    else if($volta == 24) {
        break;
    }
    echo "Volta Nº $volta.&lt;br/&gt;";
}
</code>
</pre>

<p>Podemos usar ele em HTML também (inclusive, é um recurso muito utilizado por muitos sites). Veja um exemplo de como criar caixas de input em formulários:</p>

<pre>
<code>
$c = 1;
while($c &lt;= 5) {
    echo "Valor $c: &lt;input type='number' name='v$c' min='0' max='100' value='0'/&gt;"
    echo "&lt;br/&gt;";
    $c++;
}
</code>
</pre>

<p>PS: A supertag PHP deve estar entre as tags form, antes do input de submit.</p>

<p>Esse é o código da segunda página:</p>

<pre>
<code>
$i = 1;
while($i &lt;= 5) {
    $v = "num" . $i;
    $url = "v" . $i;
    $$v = isset($_GET[$url]) ? $_GET[$url] : 0;
    $i++;
}
$i = 1;
while($i &lt;= 5) {
    $v = "num" . $i;
    echo "Valor $i: " . $$v . "&lt;br/&gt;";
    $i++;
}
</code>
</pre>

<p>Agora devemos criar um contador personalizável, no qual escolheremos o número inicial, o final e o incremento (e ao escolher o número inicial maior que o final, ele fará o decremento).</p>

<p>HTML da primeira página:</p>

<pre>
<code>
&lt;form method="get" action="testes.php"&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Contador Personalizável&lt;/legend&gt;
        Início: &lt;input type="number" name="ini" min="0" max="100" value="0"/&gt;
        Final: &lt;input type="number" name="fin" min="0" max="100" value="0"/&gt;
        Incremento:
        &lt;select name="inc"&gt;
            &lt;option&gt;1&lt;/option&gt;
            &lt;option&gt;2&lt;/option&gt;
            &lt;option&gt;3&lt;/option&gt;
            &lt;option&gt;4&lt;/option&gt;
            &lt;option&gt;5&lt;/option&gt;
        &lt;/select&gt;
    &lt;/fieldset&gt;
    &lt;input type="submit" value="Calcular"/&gt;
&lt;/form&gt;
</code>
</pre>

<p>PHP da segunda página:</p>

<pre>
<code>
$ini = isset($_GET["ini"]) ? (int)$_GET["ini"] : 0;
$fin = isset($_GET["fin"]) ? (int)$_GET["fin"] : 0;
$inc = isset($_GET["inc"]) ? (int)$_GET["inc"] : 0;
if($ini &lt; $fin) {
    while($ini &lt;= $fin) {
        echo "$ini&lt;br/&gt;";
        $ini += $inc;
    }
}
else if($ini &gt; $fin) {
    while($ini &gt;= $fin) {
        echo "$ini&lt;br/&gt;";
        $ini -= $inc;
    }
}
else {
    echo "Início ($ini) e Fim ($fin) são Iguais.";
}
</code>
</pre>

<h3>Estrutura de Repetição Do While</h3>

<p>Outra forma de criar repetição é a <code>do while</code>, significando repita. Diferente do while, a do while é colocada no final, praticamente o contrário dela. Veja um exemplo:</p>

<pre>
<code>
$c = 1;
do {
    echo " $c";
    $c++;
}
while($c &lt;= 10);
</code>
</pre>

<p>Vamos fazer o mesmo, pulando de 2 em 2:</p>

<pre>
<code>
$c = 0;
do {
    echo " $c";
    $c += 2;
}
while($c &lt;= 20);
</code>
</pre>

<p>Outro exemplo, mas contando de trás pra frente:</p>

<pre>
<code>
$c = 10;
do {
    echo " $c";
    $c--;
}
while($c &gt;= 1);
</code>
</pre>

<p>PS: Pode ver que, por esse fator, o comando do será executado, e só depois ele testará, independente do valor recebido. O que garante que pelo menos uma vez, o bloco de comandos é executado.</p>

<p>Vamos fazer um formulário onde calcularemos o fatorial de um número:</p>

<p>HTML da primeira página:</p>

<pre>
<code>
&lt;form method="get" action="testes.php"&gt;
    Valor: &lt;input type="number" name="val" min="1" max="15" value="1"/&gt;
    &lt;input type="submit" value="Fatorial"/&gt;
&lt;/form&gt;
</code>
</pre>

<p>PHP da segunda página:</p>

<pre>
<code>
$v = isset($_GET["val"]) ? (int)$_GET["val"] : 1;
echo "&lt;p&gt;Calculando o fatorial de $v.&lt;/p&gt;";
$c = $v;
$fat = 1;
do {
    $fat = $fat * $c;
    $c--;
}
while($c &gt;= 1);
echo "&lt;p&gt;$v! = $fat.&lt;/p&gt;";
</code>
</pre>

<p>PS: Fatorial é nada mais que multiplicar ele por todos os números menores que ele, por exemplo, fatorial de 3 é 3 x 2 x 1.</p>

<p>Agora faremos um formulário no qual mostrará os números da tabuada que o usuário escolher.</p>

<p>HTML na primeira página:</p>

<pre>
<code>
&lt;form method="get" action="testes.php"&gt;
    Selecione o número da tabuada: &lt;input type="number" name="tab" min="0" max="10" value="1"/&gt;
    &lt;input type="submit" value="Calcular Tabuada"/&gt;
&lt;/form&gt;
</code>
</pre>

<p>PHP na segunda página:</p>

<pre>
<code>
$valor = isset($_GET["tab"]) ? (int)$_GET["tab"] : 0;
$cont = 1;
$mult = 1;
do {
    $mult = $valor * $cont;
    echo "$valor x $cont = $mult&lt;br/&gt;";
    $cont++;
}
while($cont &lt;= 10);
</code>
</pre>

<h3>Estrutura de Repetição For</h3>

<p>Podemos também usar o for para repetições, ele também tem uma herança do while. Veja um exemplo de repetição:</p>

<pre>
<code>
for($i = 1; $i &lt;= 10; $i++) {
    echo "$i&lt;br/&gt;";
}
</code>
</pre>

<p>Outro exemplo:</p>

<pre>
<code>
for($i = 10; $i &gt;= 1; $i--) {
    echo "$i&lt;br/&gt;";
}
</code>
</pre>

<p>Mais um, com incremento de 5:</p>

<pre>
<code>
for($i = 0; $i &lt;= 100; $i += 5) {
    echo "$i&lt;br/&gt;";
}
</code>
</pre>

<p>Da mesma forma:</p>

<pre>
<code>
for($i = 20; $i >= 0; $i -= 2) {
    echo "$i&lt;br/&gt;";
}
</code>
</pre>

<p>A estrutura for é usada para construir estruturas de loop nos casos para que se conhecem de antemão o número de repetições que devem ser realizadas (como 10 vezes, 20 vezes, etc.).</p>

<p>Podemos também usar isso em formulários, veja nesse exemplo, onde colocamos uma supertag PHP dentro dos select para gerar as opções (coloque ela dentro das tags form):</p>

<pre>
<code>
for($c = 1; $c &lt;= 10; $c++) {
    echo "&lt;option&gt;$c&lt;/option&gt;";
}
</code>
</pre>

<p>Na outra página, colocamos esse código pra calcular a tabuada:</p>

<pre>
<code>
$n = isset($_GET["num"]) ? (int)$_GET["num"] : 1;
for($c = 1; $c &lt;= 10; $c++) {
    $r = $n * $c;
    echo "$n x $c = $r&lt;br/&gt;";
}
</code>
</pre>

<p>Agora faremos um script que verificará se o número é primo (os que são divisíveis apenas por ele mesmo e por 1).</p>

<p>Código HTML:</p>

<pre>
<code>
&lt;form method="get" action="testes.php"&gt;
    Digite um número: &lt;input type="number" name="n"/&gt;
    &lt;input type="submit" value="Consultar"/&gt;
&lt;/form&gt;
</code>
</pre>

<p>PHP da segunda página:</p>

<pre>
<code>
$valor = isset($_GET["n"]) ? (int)$_GET["n"] : 0;
echo "Analisando o número $valor.&lt;br/&gt;";
echo "Valores múltiplos: ";
$tot = 0;
for($i = 1; $i &lt;= $valor; $i++) {
    if($valor % $i == 0) {
        $exi = $i;
        $tot++;
        echo "$exi ";
    }
}
echo "&lt;br/&gt;";
echo "Total de múltiplos: $tot&lt;br/&gt;";
if($tot == 2) {
    echo "É Primo!";
}
else {
    echo "Não é Primo!";
}
</code>
</pre>

<ul>
    <li><a href="tudo-sobre-php-3.html">Parte Anterior da Matéria!</a></li>
    <li><a href="tudo-sobre-php-5.html">Continuação da Matéria!</a></li>
</ul>
        </div>
    </body>
</html>