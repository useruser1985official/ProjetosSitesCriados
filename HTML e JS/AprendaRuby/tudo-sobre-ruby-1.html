<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8"/>
        <link rel="icon" href="imagens/favicon.ico"/>
        <title>Aprenda Ruby</title>
        <link rel="stylesheet" href="css/estilo.css"/>
    </head>
    <body>
        <div>
            <header>
                <h1>Aprenda Ruby</h1>
                <menu>
                    <li><a href="index.html">Página Inicial</a></li>
                    <li><a href="contato.html">Contato!</a></li>
                    <li><a href="tudo-sobre-ruby-1.html" onclick="alert('Você já Está na Matéria desse Link!'); return false">Tudo sobre Ruby Parte 1!</a></li>
                    <li><a href="tudo-sobre-ruby-2.html">Tudo sobre Ruby Parte 2!</a></li>
                    <li><a href="tudo-sobre-ruby-3.html">Tudo sobre Ruby Parte 3!</a></li>
                    <li><a href="tudo-sobre-ruby-4.html">Tudo sobre Ruby Parte 4!</a></li>
                </menu>
            </header>
            
<h2>Tudo sobre Ruby Parte 1</h2>

<h3>Primeiros Passos em Ruby</h3>

<p>Basicamente, a saída padrão do Ruby é com o <code>puts</code>, dessa forma:</p>

<pre>
<code>
puts "Olá, Mundo!"
</code>
</pre>

<p>Os comentários são inseridos dessa forma:</p>

<pre>
<code>
# Comentário de uma linha

=begin
Comentário
de
várias
linhas! 
=end
</code>
</pre>

<p>Veja a declaração dos tipos mais comuns (inteiro, float, string e booleano):</p>

<pre>
<code>
numero = 50
real = 9.85
letra = "A"
frase = "Isso é uma String"
logico = true

puts numero
puts real
puts letra
puts frase
puts logico
</code>
</pre>

<p>No Ruby, todos os tipos são classes, onde a classe pai é a Object, de onde todas as outras classes herdam. Os tipos Integer e Float são filhos da classe Numeric. Temos também os tipos String, Symbols e outros. Para ver os tipos das variáveis, digite <code>.class</code> na variável desejada.</p>

<p>Para pegar dados da linha de comando, usamos o <code>gets</code>, dessa forma:</p>

<pre>
<code>
print "Digite um número inteiro: " # O print não pula uma linha
numero = gets.to_i # Converte pra inteiro

print "Digite um número real: "
real = gets.to_f # Converte para real

print "Digite uma única letra: "
letra = gets[0] # Pega só o primeiro caractere

print "Digite uma frase: "
frase = gets.strip # Pega a string pura, o strip é pra remover espaços

puts numero
puts real
puts letra
puts frase
</code>
</pre>

<p>Só pra complementar, a conversão de strings é usando a propriedade <code>to_s</code>.</p>

<p>PS: Podemos rodar o Ruby no terminal interativamente digitando <code>irb</code>. Ele também permite operações aritméticas diretas, como digitar <code>10 + 5</code>.</p>

<h3>Strings e Aspas</h3>

<p>Existem várias formas de declaras strings em Ruby, veja abaixo:</p>

<pre>
<code>
d1 = "Isto é uma string de aspas duplas!"
d2 = %Q{Isto é uma string de aspas duplas!}
d3 = %{Isto é uma string de aspas duplas!}
d4 = %/Isto é uma string de aspas duplas!/

s1 = 'Isto é uma string de aspas simples!'
s2 = %q{Isto é uma string de aspas simples!}

puts d1
puts d2
puts d3
puts d4
puts s1
puts s2
</code>
</pre>

<p>A concatenação é feita usando <code>+</code> ou <code>&lt;&lt;</code> (este último altera variáveis), como podem ver:</p>

<pre>
<code>
preco = 10.99

puts "O produto custa " + '%.2f' % preco + "."
# Pode ser &lt;&lt; no lugar do +, mas este altera a variável
</code>
</pre>

<p>Nas strings de aspas duplas, podemos colocar variáveis, números e outros componentes de códigos com interpolações, como por exemplo:</p>

<pre>
<code>
preco = 10.99

puts "O produto custa #{'%.2f' % preco}."
</code>
</pre>

<p>Como visto acima, podemos formatar usando máscaras, são praticamente as mesmas usadas em C (%s para strings, %d para inteiro e %f para float).</p>

<pre>
<code>
puts "#{'%s' % 'String'}"
puts "#{'%d' % 50}"
puts "#{'%f' % 9.85}"
</code>
</pre>

<p>E também podemos usar métodos do objeto da string, como estes:</p>

<pre>
<code>
texto = "Exemplo de String"

puts texto.upcase # Deixa tudo em letra maiúscula
puts texto.downcase # Deixa tudo em minúscula
puts texto.reverse # Inverte o texto
puts texto.concat(" com mais algo") # Concatena texto
puts texto.split # Divide a string
puts texto.gsub!("String", "Texto") # Substituí algo
</code>
</pre>

<p>Isso serve pra criar hashs de senhas:</p>

<pre>
<code>
require "digest/md5"

senha = "123"

md5 = Digest::MD5.new

crip = md5.hexdigest senha

puts crip
</code>
</pre>

<p>PS: Podemos usar também a opção SHA1 para criar hashs.</p>

<p>O Digest é uma gem do Ruby, falaremos delas mais pra frente.</p>

<h3>Operações Aritméticas</h3>

<p>Basicamente, os operadores são os mesmos de outras linguagens, como por exemplo:</p>

<pre>
<code>
print "Digite o primeiro número: "
n1 = gets.to_i

print "Digite o segundo número: "
n2 = gets.to_i

soma = n1 + n2
subs = n1 - n2
mult = n1 * n2
divi = n1 / n2
rest = n1 % n2

puts "#{n1} + #{n2} = #{soma}."
puts "#{n1} - #{n2} = #{subs}."
puts "#{n1} * #{n2} = #{mult}."
puts "#{n1} / #{n2} = #{divi}."
puts "#{n1} % #{n2} = #{rest}."
</code>
</pre>

<p>PS: Da forma acima, ele retornará a divisão inteira. Para divisões reais, faça a conversão, dessa forma:</p>

<pre>
<code>
divi = n1.to_f / n2.to_f
</code>
</pre>

<p>A ordem de precedência matemática é a mesma das demais linguagens (primeiro parênteses, depois multiplicações e divisões incluindo restos, e depois adições e subtrações).</p>

<p>PS: Podemos também colocar atribuição com algum valor, como por exemplo <code>num += 2</code> ou <code>num -= 3</code>, que faça a atribuição e a operação juntos no mesmo comando. Concatenação com atribuição também pode ser colocada com o <code>+=</code>.</p>

<p>Veja um exemplo pra analisar notas:</p>

<pre>
<code>
print "Digite a primeira nota: "
nota1 = gets.to_f

print "Digite a segunda nota: "
nota2 = gets.to_f

media = (nota1 + nota2) / 2

puts "A média das notas é de #{'%.1f' % media}."
</code>
</pre>

<p>Mas diferente de outras linguagens, a biblioteca Math não faz todas as operações como potências e arredondamentos, nós fazemos isso em Python usando métodos do próprio objeto (apenas as raizes são calculadas pelo Math), por exemplo:</p>

<pre>
<code>
print "Digite o primeiro número: "
n1 = gets.to_f

print "Digite o segundo número: "
n2 = gets.to_f

puts "O número absoluto de #{n1} é #{n1.abs}."
puts "A raiz quadrada de #{n1} é #{Math.sqrt(n1)}."
puts "A raiz cúbica de #{n1} é #{Math.cbrt(n1)}."
puts "O quadrado de #{n1} é #{n1 ** 2}."
puts "O cubo de #{n1} é #{n1 ** 3}."
puts "#{n1} elevado à #{n2} é #{n1 ** n2}."
puts "O número #{n1} arredondado pra cima é #{n1.ceil}."
puts "O número #{n1} arredondado pra baixo é #{n1.floor}."
puts "O número #{n1} arredondado pro mais próximo é #{n1.round}."
puts "Número aleatório entre #{n1} e #{n2}: #{rand(n1..n2)}"
</code>
</pre>

<h3>Operadores Lógicos e Relacionais</h3>

<p>No Ruby também temos os operadores lógicos e relacionais. São os mesmos das linguagens C-like. Veja um exemplo de uso deles:</p>

<pre>
<code>
print "Digite sua idade: "
idade = gets.to_i

if idade >= 18 && idade < 70 then
    puts "Voto Obrigatório!"
elsif idade >= 16 && idade < 18 || idade >= 70 then
    puts "Voto Opcional!"
else
    puts "Voto Proibido!"
end
</code>
</pre>

<p>Outro exemplo:</p>

<pre>
<code>
print "Você Fuma? [S/N] "
opc = gets.strip[0]

logico = (opc == "S" || opc == "s") # Retorna um booleano

res = !logico ? "não fuma" : "fuma"

puts "Ele #{res}!"
</code>
</pre>

<p>Veja os operadores Relacionais:</p>

<table>
    <tr>
        <th>Operador Aritmético</th>
        <th>Significado</th>
    </tr>
    <tr>
        <td>==</td>
        <td>Igualdade.</td>
    </tr>
    <tr>
        <td>!=</td>
        <td>Diferente.</td>
    </tr>
    <tr>
        <td>&gt;</td>
        <td>Maior.</td>
    </tr>
    <tr>
        <td>&lt;</td>
        <td>Menor.</td>
    </tr>
    <tr>
        <td>&gt;=</td>
        <td>Maior ou Igual.</td>
    </tr>
    <tr>
        <td>&lt;=</td>
        <td>Menor ou Igual.</td>
    </tr>
</table>

<p>Os operadores lógicos são usados:</p>

<table>
    <tr>
        <th>Operador</th>
        <th>Operação</th>
        <th>Significado</th>
    </tr>
    <tr>
        <td>&&</td>
        <td>AND</td>
        <td>E</td>
    </tr>
    <tr>
        <td>||</td>
        <td>OR</td>
        <td>Ou</td>
    </tr>
    <tr>
        <td>!</td>
        <td>NOT</td>
        <td>Não</td>
    </tr>
</table>

<ul>
    <li><a href="tudo-sobre-ruby-2.html">Continuação da Matéria!</a></li>
</ul>

        </div>
    </body>
</html>