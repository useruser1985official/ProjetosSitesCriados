<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8"/>
        <link rel="icon" href="_imagens/favicon.ico"/>
        <title>Aprenda C</title>
        <link rel="stylesheet" href="_css/estilo.css"/>
    </head>
    <body>
        <div>
            <header>
                <h1>Aprenda C</h1>
                <menu>
                    <li><a href="index.html">Página Inicial</a></li>
                    <li><a href="contato.html">Contato!</a></li>
                    <li><a href="tudo-sobre-c-1.html">Tudo sobre C Parte 1!</a></li>
                    <li><a href="tudo-sobre-c-2.html" onclick="alert('Você já Está na Matéria desse Link!'); return false">Tudo sobre C Parte 2!</a></li>
                    <li><a href="tudo-sobre-c-3.html">Tudo sobre C Parte 3!</a></li>
                    <li><a href="tudo-sobre-c-4.html">Tudo sobre C Parte 4!</a></li>
                    <li><a href="tudo-sobre-c-5.html">Tudo sobre C Parte 5!</a></li>
                    <li><a href="tudo-sobre-c-6.html">Tudo sobre C Parte 6!</a></li>
                    <li><a href="tudo-sobre-c-7.html">Tudo sobre C Parte 7!</a></li>
                    <li><a href="tudo-sobre-c-8.html">Tudo sobre C Parte 8!</a></li>
                    <li><a href="tudo-sobre-c-9.html">Tudo sobre C Parte 9!</a></li>
                </menu>
            </header>
            
<h2>Tudo sobre C Parte 2</h2>

<h3>Função prinf - Tamanho de Campos</h3>

<p>O tamanho exato de um campo no qual os dados são mostrados é especificado por um tamanho de campo.</p>

<p>Para representar o tamanho do campo desejado devemos inserir um inteiro entre o símbolo <code>%</code> e o especificador da conversão (por exemplo, <code>%5d</code>).</p>

<p>Caso o campo seja mais largo que os dados à serem mostrados, eles serão alinhados à direita do campo, e se for mais curto, só aparecerão os primeiros caracteres que ocuparão o espaço. Em ambos os casos, os espaços ocupados são os mesmos. Veja os exemplos abaixo:</p>

<pre>
<code>
printf("d: %d\n", 6);
printf("5d: %5d\n", 6);
printf("10d: %10d\n", 6);
printf("10d: %10d\n", 700);
printf("c: %c\n", 'T');
printf("1c: %1c\n", 'A');
printf("2c: %2c\n", 'B');
printf("3c: %3c\n", 'C');
printf("4c: %4c\n", 'D');
printf("10f: %10f\n", 23.8); // Os espaços continuam, do outro lado.
printf("-10d: %-10d (-10d)\n", 700); // Quando o número é negativo, alinha à esquerda.
</code>
</pre>

<p>PS: Quando usar máscaras para char, use sempre aspas simples somente nos valores.</p>

<h3>Função printf - Precisão de Exibição de Dados</h3>

<p>A precisão com a qual os dados serão exibidos possuí significado diferente para cada tipo.</p>

<p>Quando usada com especificadores de conversão de inteiros, a precisão indica o número mínimo de dígitos à serem impressos. Caso o valor à ser mostrado tenha menos dígitos que a precisão especificada, serão prefixados zeros até totalizar o número de dígitos equivalentes.</p>

<p>Quando usada com especificadores de conversão de strings (<code>s</code>), a precisão é o número máximo de caracteres que serão mostrados da cadeia.</p>

<p>Para usarmos a precisão, devemos inserir um ponto seguido de um número inteiro que representa a precisão desejada entre o sinal <code>%</code> e o especificador de conversão.</p>

<pre>
<code>
int x = 450;
float f = 250.12345;
char s[] = "Isso é uma Frase!"; // Pode ser usado char* para evitar escrever arrays.
    
printf("Precisão em inteiros:\n");
printf("%d\n", x);
printf("%.5d\n", x);
printf("%.12d\n", x);
printf("\nPrecisão em ponto flutuante:\n");
printf("%f\n", f);
printf("%.2f\n", f);
printf("\n\nPrecisão em literais:\n");
printf("%s\n", s);
printf("%.5s\n", s);
printf("%.18s\n", s);
</code>
</pre>

<p>Isso é muito usado para limitar o número de casas decimais, mas pode ver que usamos em outros casos também.</p>

<p>PS: Podemos utilizar char* para strings, só não esqueça do ponteiro (*). Isso é pra evitar vetores.</p>

<p>Podemos também combinar os tamanhos de campos com as precisões, como por exemplo <code>%10.5d</code>. No caso, o primeiro número é o tamanho e o segundo é a precisão.</p>

<p>Veja o mesmo código acima com alterações:</p>

<pre>
<code>
printf("Precisão em inteiros:\n");
printf("%10.5d\n", x); // 10 espaços e mostra 5 dados (só dentro deles tem zeros).
printf("%15.12d", x); // 15 espaços e mostra 12 dados (só dentro deles tem zeros).
printf("\n\nPrecisão em ponto flutuante:\n");
printf("%8.2f\n", f); // 8 espaços e mostra 2 casas decimais.
printf("\n\nPrecisão em literais:\n");
printf("%10.4s\n", s); // 10 espaços e mostra 4 caracteres da string.
</code>
</pre>

<p>PS: Tanto os tamanhos de campos quando a precisão de dados podem ser usadas em outras linguagens compatíveis com o printf como Java e PHP.</p>

<h3>Função printf - Sequências de Escape</h3>

<p>A maioria dos caracteres podem ser mostradas diretamente pela função de print, porém, há alguns caracteres que precisam de formatação especial para serem exibidos, como aspas, símbolos de tabulação e porcentagem, por serem caracteres de controle.</p>

<p>Uma sequência de escape é representada por uma barra invertida seguda por um caractere de escape.</p>

<p>Veja algumas das sequências mais usadas:</p>

<table>
    <tr>
        <th>Sequência de Escape</th>
        <th>Representa</th>
    </tr>
    <tr>
        <td>\a</td>
        <td>Emitir Campainha</td>
    </tr>
    <tr>
        <td>\b</td>
        <td>Backspace</td>
    </tr>
    <tr>
        <td>\f</td>
        <td>Avanço de Página</td>
    </tr>
    <tr>
        <td>\n</td>
        <td>Coloca o Cursor numa Nova Linha</td>
    </tr>
    <tr>
        <td>\r</td>
        <td>Coloca o Cursor no Início da Linha Atual</td>
    </tr>
    <tr>
        <td>\t</td>
        <td>Inserir Tabulação Horizontal</td>
    </tr>
    <tr>
        <td>\v</td>
        <td>Inserir Tabulação Vertical</td>
    </tr>
    <tr>
        <td>\'</td>
        <td>Aspas Simples</td>
    </tr>
    <tr>
        <td>\"</td>
        <td>Aspas Duplas</td>
    </tr>
    <tr>
        <td>\\</td>
        <td>Barra Invertida</td>
    </tr>
    <tr>
        <td>\?</td>
        <td>Ponto de Interrogação Literal</td>
    </tr>
    <tr>
        <td>\ ooo</td>
        <td>Caractere ASCII em Notação Octal</td>
    </tr>
    <tr>
        <td>\x hh</td>
        <td>Caractere ASCII em Notação Hexadecimal</td>
    </tr>
    <tr>
        <td>\x hhhh</td>
        <td>Caractere Unicode em Notação Hexadecimal</td>
    </tr>
	<tr>
        <td>\0</td>
        <td>Caractere Delimitador de Final de String</td>
    </tr>
</table>

<p>Veja abaixo um exemplo com algumas delas:</p>

<pre>
<code>
printf("Aspas Simples: \' \n");
printf("Aspas Dupla: \" \n");
printf("Interrogação: \? \n");
printf("Barra Invertida: \\ \n");
printf("Mudar de Linha:\n \n");
printf("Tab: \t Tabulado \n");
printf("Cursor no Início da Linha:\r \n");
printf("Sinal Sonoro:\a \n");
</code>
</pre>

<p>PS: Caso precise exibir o símbolo de porcentagem num printf, use a sequência de dois símbolos, igual se faz num BAT, no caso <code>%%</code>.</p>

<h3>Função scanf - Lendo Dados a Partir do Teclado</h3>

<p>A função <code>scanf</code> lê valores digitados no teclado, formata-os e os armazena em variáveis na memória. Veja um exemplo de sintaxe:</p>

<pre>
<code>
scanf("Digite algo: %d", &amp;teste);
</code>
</pre>

<p>O que está entre aspas descreve os formatos de entradas, e os outros argumentos são endereços para variáveis nas quais as entradas serão armazenadas.</p>

<p>Ao usarmos o scanf precisamos indicar o endereço da variável de armazenamento do dado lido prefixando-a com o caractere <code>&amp;</code>.</p>

<p>Veja alguns dos especificadores de conversão, observe que a maioria se assemelham as máscaras:</p>

<table>
    <tr>
        <th>Especificador</th>
        <th>Descrição</th>
    </tr>
    <tr>
        <td>%d</td>
        <td>Lê um Número Inteiro Decimal com Sinal</td>
    </tr>
    <tr>
        <td>%c</td>
        <td>Lê um Caractere Único. NULL não é Adicionado.</td>
    </tr>
    <tr>
        <td>%f, %e ou %E</td>
        <td>Lê um Número Decimal (Real ou de Ponto Flutuante)</td>
    </tr>
    <tr>
        <td>%i</td>
        <td>Lê um Número Inteiro Decimal, Octal ou Hexadecimal (Diferentes na Entrada e Saída de Dados)</td>
    </tr>
    <tr>
        <td>%o</td>
        <td>Lê um Número Inteiro em Formato Octal sem Sinal</td>
    </tr>
    <tr>
        <td>%x ou %X</td>
        <td>Lê um Número Inteiro em Formato Hexadecimal sem Sinal.</td>
    </tr>
    <tr>
        <td>%u</td>
        <td>Lê um Número Inteiro Decimal sem Sinal</td>
    </tr>
    <tr>
        <td>%h ou %l</td>
        <td>Colocado Antes de um Especificador Inteiro para Indicar Valor Short ou Long (por exemplo %ld)</td>
    </tr>
    <tr>
        <td>%L</td>
        <td>Colocado Antes de um Especificador de Ponto Flutuante para indicar valor Long Double</td>
    </tr>
    <tr>
        <td>%s</td>
        <td>Lê uma Cadeia de Caracteres (String ou Ponto pra char), incluindo o NULL.</td>
    </tr>
</table>

<p>Veja um exemplo de uso:</p>

<pre>
<code>
int inteiro;
float f1, f2;
char letra;
char frase[15];

printf("Digite um Número Inteiro: ");
scanf("%d", &inteiro);
printf("Digite dois Números Reais: ");
scanf("%f%f", &f1, &f2);
fflush(stdin); // Isso limpa o buffer do teclado
printf("Digite uma letra: ");
scanf("\n%c", &letra); // Para evitar erros
fflush(stdin);
printf("Digite uma Frase: ");
scanf("\n"); // Para evitar erros
fgets(frase, 15, stdin);

// Isso é pra remover a quebra de linha:
size_t len;
len = strlen(frase); // Inclua string.h

if(frase[len - 1] == '\n') frase[--len] = 0;

printf("\nNúmero Inteiro: %d\n", inteiro);
printf("Ponto Flutuante: %.2f e %.2f\n", f1, f2);
printf("Letra: %c\n", letra);
printf("Frase: %s\n", frase);
</code>
</pre>

<p>PS: Por padrão, o <code>scanf</code> só lê a primeira palavra de uma cadeia de caracteres, para ler palavras compostas use o <code>fgets</code>, como indicado acima.</p>

<p>O procedimento <code>fgets</code> permite ler uma string de outra variável, no caso, quando passamos o parâmetro <code>stdin</code>, ele lê da entrada padrão do sistema, igual ao scanf, só que ele permite usar frases com espaços. Esse método, assim como o printf e o scanf, pertence a biblioteca stdio.h.</p>

<p>Em alguns casos, dependendo dos comandos do programa, o scanf pode ser ignorado. Nesse caso, basta apenas colocar uma sequência de escape \n antes da máscara para que ele seja identificado numa nova linha (por exemplo, <code>"\n%d"</code>). Mas o recomendado é usar o <code>fflush(stdin)</code>, como mostrado acima, o fflush limpa o buffer do teclado, mas tem casos que temos que usar a quebra de linha mesmo.</p>

<p>Veja outro exemplo:</p>

<pre>
<code>
int dia, mes, ano;

printf("Digite uma data no formato dd/mm/aa: ");
scanf("%d%*c%d%*c%d", &dia, &mes, &ano);
printf("Dia: %d\n", dia);
printf("Mês: %d\n", mes);
printf("Ano: %d\n", ano);
</code>
</pre>

<p>Você pode ver que ali, nós digitamos num formato de data de uma vez só, no caso, dia, mês e ano ficarão em variáveis separadas. As barras da data é ignorada com a máscara de caracteres <code>%*c</code>, nesse caso, o asterisco significa "ignore".</p>

<p>PS: Quando estamos trabalhando com vetores de char, podemos colocar no scanf a variável sem o &, por exemplo:</p>

<pre>
<code>
char nome[20];

printf("Qual é o seu nome? ");
scanf("%s", nome);

printf("Olá %s, é um prazer te conhecer!\n", nome);
</code>
</pre>

<h3>Operadores e Expressões Aritméticas</h3>

<p>Os operadores aritméticos em C são os mesmos da maioria das linguagens: Multiplicação, divisão, módulo, adição e subtração (nessa ordem de procedência, os parênteses tem prioridade a todos esses operadores), assim como a maioria das funções.</p>

<p>O símbolo de divisão inteira e divisão comum são os mesmos, ele retorna uma divisão inteira se o numerador e o denominador são inteiros.</p>

<p>Veja algumas operações aritméricas sendo executadas:</p>

<pre>
<code>
int x, z, w, k, m, n;
float f;
    
x = -2 * 3;
z = 4 % 2;
w = 8 / 4;
k = 7 / 2;
f = 7.0 / 2.0;
m = w + x;
n = m - k;
    
printf("X: %d\n", x);
printf("Z: %d\n", z);
printf("W: %d\n", w);
printf("K: %d\n", k);
printf("F: %.2f\n", f);
printf("M: %d\n", m);
printf("N: %d\n", n);
</code>
</pre>

<p>Veja outro exemplo:</p>

<pre>
<code>
int x, y, z, w;
printf("Digite um número: ");
scanf("%d", &x);
printf("Digite o valor à somar: ");
scanf("%d", &y);
    
z = x + y;
w = pow(x, 3); // Adicione Biblioteca math.h
printf("\nA soma de %d com %d equivale à %d.\n", x, y, z);
printf("%d elevado ao cubo: %d", x, w);
</code>
</pre>

<p>PS: Para funções aritméricas, como o <code>pow()</code>, é necessário adicionar a biblioteca <code>math.h</code>.Veja algumas dessas funções abaixo:</p>

<ul>
    <li><code>abs()</code> para pegar o valor absoluto de um número.</li>
    <li><code>pow()</code> para criar uma potencialização entre dois números.</li>
    <li><code>sqrt()</code> para mostrar a raiz quadrada.</li>
    <li><code>cbrt()</code> para mostrar a raiz cúbica.</li>
    <li><code>round()</code> para mostrar o número arredondado para o inteiro mais próximo. Para cima se usa <code>ceil()</code> e para baixo <code>floor()</code>.</li>
    <li><code>rand()</code> para gerar um número aleatório, definindo o mínimo e o máximo.</li>
</ul>

<p>Só lembrando que para <code>rand()</code>, o que se importa é o stdlib.h, e para ele gerar números aleatórios corretamente, precisamos "zerar" ele com srand, dessa forma:</p>

<pre>
<code>
int main() {
    srand(time(NULL)); // Importe stdlib.h pro rand/srand e time.h pro time. Deverá estar fora de laços de repetição, caso existam.
    printf("%d\n", rand() % 5); // Gera de 0 a 4.
    rand() % 5 + 1; // Esse gera de 1 a 5.
    12 + (rand() % (14 - (12 - 1))); // Gera de 12 a 14, a sintaxe é: mini + (rand() % (maxi - (mini - 1)))

    // Para gerar reais aleatórios de 0.00 a 1.00:

    float n = rand() % 100 + 1;
    float ale = n / 100;
    printf("%.2f\n", ale);

    return 0;
}
</code>
</pre>

<p>Os operadores lógicos <code>&&</code> (and), <code>||</code> (or) e <code>!</code> (not), ou mais raramente o <code>^</code> (xor), também são usados no C. Assim como os operadores ternários, por exemplo:</p>

<pre>
<code>
int main() {
    int idade;
    char* maior;

    printf("Digite sua idade: ");
    scanf("%d", &idade);
    maior = (idade >= 18 && idade < 70) ? "Voto Obrigatório!" : "Voto não-obrigatório!";

    printf("%s", maior);

    return 0;
}
</code>
</pre>

<p>PS: Podemos também colocar atribuição com algum valor, como por exemplo <code>num += 2</code> ou <code>num -= 3</code>, que faça a atribuição e a operação juntos no mesmo comando. Concatenação com atribuição também pode ser colocada com o <code>+=</code>. O incremento de mais um é colocado apenas usando um <code>++</code> antes ou depois da variável desejada (e a posição faz toda a diferença), da mesma forma podemos decrementar menos um com <code>--</code>. Veja um exemplo abaixo:</p>

<pre>
<code>
int num = 5;

printf("Número: %d\n", num);

num++; // Nesse caso pode usar o pós

printf("Número incrementado: %d\n", num);

num += 2;
  
printf("Número com mais 2: %d\n", num);

num--;

printf("Número decrementado: %d\n", num);

num -= 3;

printf("Número com menos 3: %d\n", num);
printf("Número com pré-incremento: %d\n", ++num); // Nesse caso usa o pré, que incrementa antes de exibir
printf("Número com pré-decremento: %d\n", --num);
</code>
</pre>

<ul>
    <li><a href="tudo-sobre-c-1.html">Parte Anterior da Matéria!</a></li>
    <li><a href="tudo-sobre-c-3.html">Continuação da Matéria!</a></li>
</ul>

        </div>
    </body>
</html>