<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8"/>
        <link rel="icon" href="imagens/favicon.ico"/>
        <title>Aprenda C#</title>
        <link rel="stylesheet" href="css/estilo.css"/>
    </head>
    <body>
        <div>
            <header>
                <h1>Aprenda C#</h1>
                <menu>
                    <li><a href="index.html">Página Inicial</a></li>
                    <li><a href="contato.html">Contato!</a></li>
                    <li><a href="tudo-sobre-csharp-1.html" onclick="alert('Você já Está na Matéria desse Link!'); return false">Tudo sobre C# Parte 1!</a></li>
                    <li><a href="tudo-sobre-csharp-2.html">Tudo sobre C# Parte 2!</a></li>
                    <li><a href="tudo-sobre-csharp-3.html">Tudo sobre C# Parte 3!</a></li>
                    <li><a href="tudo-sobre-csharp-4.html">Tudo sobre C# Parte 4!</a></li>
                    <li><a href="tudo-sobre-csharp-5.html">Tudo sobre C# Parte 5!</a></li>
                    <li><a href="tudo-sobre-csharp-6.html">Tudo sobre C# Parte 6!</a></li>
                    <li><a href="tudo-sobre-csharp-7.html">Tudo sobre C# Parte 7!</a></li>
                    <li><a href="tudo-sobre-csharp-8.html">Tudo sobre C# Parte 8!</a></li>
                    <li><a href="tudo-sobre-csharp-9.html">Tudo sobre C# Parte 9!</a></li>
                    <li><a href="tudo-sobre-csharp-10.html">Tudo sobre C# Parte 10!</a></li>
                </menu>
            </header>
            
<h2>Tudo sobre C# Parte 1</h2>

<h3>Estrutura de um Programa Básico e Classe Console</h3>

<p>O C# seria uma evolução do C++ (seria quatro + formando um #), mas de uma forma mais simplificada e fácil de trabalhar, e se assemelha com o Java em muita coisa. O C# permite criar aplicações para Windows facilmente, mas necessita ter o framework .NET instalado.</p>

<p>Para começar a criar programas em C#, primeiro abra o Visual Studio, abra um projeto novo C# e escolha o template Console Application (aplicação de console). Para visualizar os arquivos dele, vá em exibir e em gerenciador de soluções (ou solution explorer).</p>

<p>Como pode ver essa é a estrutura básica de um programa em C#:</p>

<pre>
<code>
using System;

namespace OlaMundo {
    class Program {
        static void Main(string[] args) {

        }
    }
}
</code>
</pre>

<p>O namespace (espaço de nome), é derivado do nome do projeto (seria o equivalente ao pacote do Java), dentro dela tem uma classe denominada Program, e dentro dessa o método main, que é o método principal do programa.</p>

<p>Para exibir uma mensagem, usamos a classe Console, no caso o objeto, Console.WriteLine(), dessa forma:</p>

<pre>
<code>
using System;

namespace OlaMundo {
    class Program {
        static void Main(string[] args) {
            Console.WriteLine("Olá Mundo!");
            Console.ReadLine();
        }
    }
}
</code>
</pre>

<p>PS: Podemos escrever apenas cw e dar um tab para escrever Console.WriteLine().</p>

<p>Como visto acima, usamos um Console.ReadLine() no programa, isso é para pausar o programa de forma que podemos visualizar ele.</p>

<p>Para não ter que colocar ele, podemos usar Ctrl F5 para executar os programas.</p>

<p>PS: O WriteLine e o ReadLine pulam uma linha, se não quiser que pule linhas, use Console.Write() e Console.Read().</p>

<p>Os comentários de uma linha se colocam ao lado de <code>//</code>, e de várias linhas entre <code>/* */</code>, por exemplo:</p>

<pre>
<code>
// Comentário de uma linha

/*
Comentário
de
várias
linhas
*/
</code>
</pre>

<p>PS: Para personalizar o editor, impedindo que ele quebre a linha em condicionais, laços e funções, vá em Ferramentas, Opções, Editor de Texto, C# e Geral, e vá em "Desativar quebra automática de linha". Também vá em Ferramentas, Opções, Editor de Texto, C#, Estilo do Código, Formatação e Geral e vá em "Desativar formatar automaticamente ao digitar". Ainda em Editor, C#, Estilo do Código, Formatação, Novas Linhas, desmarque todas as opções.</p>

<p>Para compilar um programa em C# sem depender do Visual Studio, use no CMD o comando <code>C:\Windows\Microsoft.NET\Framework\v3.5\csc.exe /out:Aplicacao.exe Aplicacao.cs</code>.</p>

<h3>Namespaces, Assemblies e a Diretiva Using</h3>

<p>O namespace é usado para organizar tipos e classes, evitando colisões de nomes (diferente do namespace do C++, na verdade seria algo mais próximo do package do Java). Basicamente, um namespace é uma coleção nomeada de classes, e todas as classes devem estar dentro desse namespace.</p>

<p>A classe Console, por exemplo, pertence ao namespace System, que é chamado pelo using no programa, o nome completo dela seria System.Console. Se criarmos uma classe Console no nosso projeto, ela será diferenciada pelo namespace, por exemplo:</p>

<pre>
<code>
System.Console.WriteLine("Padrão do C#");
MinhasClasses.Console.FuncaoInventada();
</code>
</pre>

<p>A diretiva using traz o namespace para o escopo do nosso projeto, assim não é necessário qualificar explicitamente os objetos com o respectivo namespace (o Console.WriteLine(), por exemplo, com o using, não precisa ter escrito o nome completo System.Console.WriteLine()). Ou seja, inclui outros namespaces no programa (de forma parecida com o import do Java ou o include do C/C++). Veja abaixo um exemplo de Olá, Mundo sem o using:</p>

<pre>
<code>
namespace OlaMundo {
    class Program {
        static void Main(string[] args) {
            System.Console.WriteLine("Olá Mundo!");
            System.Console.ReadLine();
        }
    }
}
</code>
</pre>

<p>As classes sempre são compiladas em assemblies (montagens), os assemblies são containers para as classes, que são arquivos usualmente com a extensão .dll (bibliotecas de vínculo dinâmico do Windows). As classes mais comuns, como a System.Console pertencem ao assembly mscorlib.dll (presente na plataforma .NET), que permite o reuso de código para que funcione corretamente nos programas em C#.</p>

<p>Uma montagem (assembly) pode conter classes definitdas em muitos namespaces, e um namespace também podem ocupar vários assemblies (principalmente quando tem muitas classes). Para que possamos usar as classes de um assembly, devemos adicionar uma referência no projeto e incluir a diretiva using adequada.</p>

<p>Uma referência permite que utilizemos tipos disponível em outros assemblies, tanto do FCL (Framework Class Library, as classes padrões do C#) quanto de terceiros.</p>

<p>No gerenciador de soluções, podemos ver que tem uma pasta com o nome referências, que mostra todas as referências vinculadas a nossa aplicação, podemos adicionar outras referências por ali mesmo ou pelo menu em projeto.</p>

<p>Vamos fazer um exemplo de como adicionar uma referência, no caso, para utilizar o MessageBox.show(), que abrirá uma caixinha gráfica, veja o código abaixo. Para o código funcionar, vamos em projeto, adicionar referência, e em .NET, procuraremos System.Windows.Forms, que é para interfaces gráficas.</p>

<p>Para utilizar essa referência, chame ela com a diretiva using System.Windows.Forms, veja o código completo abaixo:</p>

<pre>
<code>
using System;
using System.Windows.Forms;

namespace OlaMundo {
    class Program {
        static void Main(string[] args) {
            Console.WriteLine("Olá Mundo!");
            MessageBox.Show("Apredendo a Utilizar Referências", "Referências");
        }
    }
}
</code>
</pre>

<p>Podemos exibir outras opções nas MessageBox, como por exemplo:</p>

<pre>
<code>
MessageBox.Show("Ocorreu um Erro no aplicativo!", "Erro", MessageBoxButtons.OK, MessageBoxIcon.Error); // Para erros
MessageBox.Show("Aviso do aplicativo!", "Aviso", MessageBoxButtons.OK, MessageBoxIcon.Warning); // Para avisos
MessageBox.Show("Informação do aplicativo!", "Informação", MessageBoxButtons.OK, MessageBoxIcon.Information); // Para informações
</code>
</pre>

<p>Podemos também gerar caixas de pergunta, como nesse exemplo:</p>

<pre>
<code>
DialogResult resultado = MessageBox.Show("Pergunta do aplicativo!", "Pergunta", MessageBoxButtons.YesNo, MessageBoxIcon.Question);

if(resultado == DialogResult.Yes) {
    MessageBox.Show("Foi escolhido o sim!", "Informação", MessageBoxButtons.OK, MessageBoxIcon.Information);
}
else {
    MessageBox.Show("Foi escolhido o não!", "Informação", MessageBoxButtons.OK, MessageBoxIcon.Information);
}
</code>
</pre>

<h3>Declaração e Atribuição de Variáveis</h3>

<p>Esse é um exemplo básico de criação de variáveis comuns em C#:</p>

<pre>
<code>
int numero;
string nome;
</code>
</pre>

<p>Para atribuir valores também não há segredo, igual outras linguagens, utilizamos o =, dessa forma:</p>

<pre>
<code>
int numero;
string nome;

numero = 30;
nome = "Teste";
</code>
</pre>

<p>PS: O = é usado para atribuição, se formos comparar igualdade de valores numéricos usaremos ==, se for strings e objetos usaremos o método <code>Equals()</code>.</p>

<p>E assim como em outras linguagens semelhantes, também podemos atribuir junto com a declaração, e declarar variáveis do mesmo tipo juntas, dessa forma:</p>

<pre>
<code>
int num2 = 50;
int x = 20, y = 40;

int x = 20;
bool a = true;
</code>
</pre>

<p>Esses são os tipos de variáveis usadas em C#:</p>

<table>
    <tr>
        <th>Tipo</th>
        <th>Descrição</th>
        <th>Tamanho (bytes)</th>
        <th>Faixa</th>
    </tr>
    <tr>
        <td>int (Int32)</td>
        <td>Números Inteiros</td>
        <td>4</td>
        <td>-2147483648 a 2147483647</td>
    </tr>
    <tr>
        <td>int (Int64)</td>
        <td>Números Inteiros</td>
        <td>8</td>
        <td>-2<sup>63</sup> até 2<sup>63</sup> - 1</td>
    </tr>
    <tr>
        <td>float</td>
        <td>Ponto Flutuante</td>
        <td>4</td>
        <td>+- 1,5 x 10<sup>-45</sup> a +- 3,4 x 10<sup>38</sup></td>
    </tr>
    <tr>
        <td>double</td>
        <td>Ponto Flutuante</td>
        <td>8</td>
        <td>+- 5,0 x 10<sup>-324</sup> a +- 1,7 x 10<sup>308</sup></td>
    </tr>
    <tr>
        <td>decimal</td>
        <td>Valores Monetários</td>
        <td>16</td>
        <td>28 Dígitos Significativos</td>
    </tr>
    <tr>
        <td>string</td>
        <td>Sequência de Catacteres</td>
        <td>2 p/ caractere</td>
        <td>Infinita</td>
    </tr>
    <tr>
        <td>char</td>
        <td>Caractere Único</td>
        <td>2</td>
        <td>0 até 2<sup>16</sup> - 1</td>
    </tr>
    <tr>
        <td>bool</td>
        <td>Lógico</td>
        <td>1</td>
        <td>true ou false</td>
    </tr>
    <tr>
        <td>DateTime</td>
        <td>Data e Hora</td>
        <td>Indefinido</td>
        <td>Precisão até 100ns</td>
    </tr>
</table>

<p>PS: Letras únicas em char se coloca entre aspas simples, cadeias de caracteres se coloca entre aspas duplas.</p>

<p>Lembrando que, em números float, pode ser necessário colocar um f após ele, principalmente em parâmetros, como <code>45.9f</code>, e o char só permite uma letra e deve usar aspas simples.</p>

<p>Existem outros tipos de variáveis em C#, mas esses são os mais comuns. No C# todo tipo primitivo é um objeto, igual as classes invólucro, diferente do Java que nele os tipos primitivos não são objetos.</p>

<p>Veja um exemplo prático de código em C#:</p>

<pre>
<code>
using System;

namespace Variaveis {
    class Program {
        static void Main(string[] args) {
            int x = 20;
            bool a = true;

            Console.WriteLine("O número é " + x);
            Console.WriteLine("E o valor lógico é: " + a);
            Console.Read();
        }
    }
}
</code>
</pre>

<p>Pode ver no código acima que a concatenação de variáveis é feita utilizando o +.</p>

<p>PS: Pode ser que seja necessário converter a variável antes de exibir, nesse caso basta usar o método assim:</p>

<pre>
<code>
Console.WriteLine("O número é " + x.ToString());
Console.WriteLine("E o valor lógico é: " + a.ToString());
</code>
</pre>

<p>Veja o código completo e mais detalhado abaixo:</p>

<pre>
<code>
using System;

namespace Variaveis {
    class Program {
        static void Main(string[] args) {
            int x = 90;
            bool a = true;
            int y;
            y = x;

            Console.WriteLine("O número é " + x.ToString());
            Console.WriteLine("E o valor lógico é: " + a.ToString());
            Console.WriteLine("O número é: " + y.ToString());
            Console.Read();
        }
    }
}
</code>
</pre>

<p>PS: Para declarar constantes (que não podem ser alteradas), basta colocar const antes do nome e tipo e inicializar elas, por exemplo:</p>

<pre>
<code>
const double PI = 3.14159;
</code>
</pre>

<p>Podemos também criar variáveis com classes invólucros, como objetos, por exemplo:</p>

<pre>
<code>
Int32 numero = new Int32();
Double real = new Double();
Boolean logico = new Boolean();
Char letra = new Char();
String texto;

numero = 30;
real = 9.85;
logico = true;
letra = 'A';
texto = "Texto com Classe Invólucro";

Console.WriteLine(numero);
Console.WriteLine(real);
Console.WriteLine(logico);
Console.WriteLine(letra);
Console.WriteLine(texto);
</code>
</pre>

<p>Tirando os casos de int e bool, as outras classes invólucro são basicamente com o mesmo nome do tipo primitivo, só que com a primeira maiúscula.</p>

<h3>Operadores Aritméticos e Método Int32.Parse</h3>

<p>Os operadores aritméticos usados em C# são os mesmos da maioria das outras linguagens, e a ordem de procedência também. Veja um exemplo de utilização logo abaixo:</p>

<pre>
<code>
using System;

namespace OperadoresAritmeticos {
    class Program {
        static void Main(string[] args) {
            int num1 = 20;
            int num2 = 11;

            Console.WriteLine("Soma: " + (num1 + num2));
            Console.WriteLine("Subtração: " + (num1 - num2));
            Console.WriteLine("Multiplicação: " + (num1 * num2));
            Console.WriteLine("Divisão: " + (num1 / num2));
            Console.WriteLine("Módulo: " + (num1 % num2));
            Console.ReadLine();
        }
    }
}
</code>
</pre>

<p>PS: Cuidado para não confundir o + da concatenação com o + da soma, por isso, as operações são feitas dentro de um parênteses, quando existem concatenações. O + só é reconhecido como soma quanto só existem números.</p>

<p>Lembrando que pode ser necessário usar o método ToString nesse caso, dessa forma:</p>

<pre>
<code>
Console.WriteLine("Soma: " + (num1 + num2).ToString());
</code>
</pre>

<p>Lembrando que divisão por zero retorna infinito, se fizermos 5.0 / 0.0 ele retornará infinito, isso é usado pelo double e float para representar esse valor, só que dividir 0 por 0 retorna NaN (not a number).</p>

<p>Veja um exemplo disso abaixo:</p>

<pre>
<code>
using System;

namespace OperadoresAritmeticos {
    class Program {
        static void Main(string[] args) {
            double a = 5.0;
            double b = 0.0;

            Console.WriteLine("Valor dividido por zero: " + (a / b));
            Console.WriteLine("Zero dividido por algum valor: " + (b / a));
            Console.WriteLine("Zero dividido por zero: " + (b / b));
            Console.WriteLine("Soma de NaN com um valor qualquer, como 15: " + (15 + (b / b)));
            Console.WriteLine("Soma de Infinity com um valor qualquer, como 15: " + (15 + (a / b)));
            Console.WriteLine("Zero vezes Infinity: " + (0 * (a / b)));
            Console.WriteLine("Zero vezes NaN: " + (0 * (b / b)));
            Console.ReadLine();
        }
    }
}
</code>
</pre>

<p>A ordem de procedência dos operadores, é a mesma de qualquer linguagem e da matemática em geral, parênteses, depois multiplicação, divisão e módulo, e por último adição e subtração.</p>

<p>Podemos usar o Random para gerar números aleatórios, assim:</p>

<pre>
<code>
Random aleatorio = new Random();

Console.WriteLine(aleatorio.Next(12, 14 + 1)); // Gera de 12 a 14.
</code>
</pre>

<p>Ele gera números especificando o mínimo e o máximo (excluindo ele mesmo). Com apenas um número no Next(), ele só retorna números menores que este, sem número ele gerará aleatoriamente números inteiros.</p>

<p>Temos também métodos matemáticos para utilizar no C#, esses são alguns deles:</p>

<ul>
    <li><code>Math.Abs()</code> para pegar o valor absoluto de um número.</li>
    <li><code>Math.Pow()</code> para criar uma potencialização entre dois números.</li>
    <li><code>Math.Sqrt()</code> para mostrar a raiz quadrada.</li>
    <li><code>Math.Cbrt()</code> para mostrar a raiz cúbica.</li>
    <li><code>Math.Round()</code> para mostrar o número arredondado para o inteiro mais próximo. Para cima se usa <code>Math.Ceiling()</code> e para baixo <code>Math.Floor()</code>.</li>
</ul>

<p>Temos também o método Int32.Parse() para converter strings em inteiros, dessa forma:</p>

<pre>
<code>
using System;

namespace OperadoresAritmeticos {
    class Program {
        static void Main(string[] args) {
            string valor = "25";
            int num = Int32.Parse(valor);
            int res = num * 2;

            Console.WriteLine("Resultado: " + res.ToString());

            Console.ReadLine();
        }
    }
}
</code>
</pre>

<p>PS: Também podemos converter para double usando o método Parse de Double (e podemos usar um typecast para forçar conversão para float), e converter para char usando o método Parse de Char. Veja um exemplo de uso:</p>

<pre>
<code>
string dinheiro = "R$ 125,94";

float grana = (float)Double.Parse(dinheiro.Replace(",", ".").Replace("R$", "").Trim());

Console.WriteLine(grana);
</code>
</pre>

<p>PS: Isso de colocar o tipo entre parênteses, é chamado de typecast, pode ser feito com qualquer tipo pra forçar uma conversão, mas só funciona quando é de tipos semelhantes (como forçar conversão de float para int, por exemplo).</p>

<ul>
    <li><a href="tudo-sobre-csharp-2.html">Continuação da Matéria!</a></li>
</ul>

        </div>
    </body>
</html>