MTMainAndWorker=function(){var e={TVR_TIMERS:0,setWorkerObjectRefs:function(e){this.MTloop=e.mod.MTloop},set_worker_and_main_common_reference:function(t){e=t},isDefined:function(e){return""!==e&&"undefined"!==e&&null!=e},checkObject:function(e,t,r){if(!e)return!1;for(var n=0;n<t.length;n++){if(null==e||!e.hasOwnProperty(t[n]))return!!r&&void 0;e=e[t[n]]}return e},profiler:{},log_concurrent:0,startT:function(t,r){(r||TVR_DEV_MODE&&e.TVR_TIMERS)&&(t===Object(t)&&(t=t.callee.name),e.isDefined(e.profiler[t])||(e.profiler[t]={fName:t,sT:[],eT:[],elT:[],calls:0,avg_time:0,total_time:0}),e.profiler[t].sT[++e.profiler[t].calls]=(new Date).getTime())},endT:function(t,r,n){if(n||TVR_DEV_MODE&&e.TVR_TIMERS){t===Object(t)&&(t=t.callee.name),e.profiler[t]||console.log("function timer was not started: ",t);var o=e.profiler[t].calls;e.profiler[t].eT[o]=(new Date).getTime();var i=e.profiler[t].eT[o]-e.profiler[t].sT[o];e.profiler[t].elT[o]=i,e.profiler[t].total_time=e.profiler[t].total_time+i,e.profiler[t].avg_time=e.profiler[t].total_time/o,(r||e.log_concurrent)&&e.showT(t)}},showT:function(t,r){if(TVR_DEV_MODE&&e.TVR_TIMERS){var n="";if("all"!==t)n=e.msgT(e.profiler[t],e.profiler[t].calls);else{var o=[];for(var t in e.profiler)e.profiler.hasOwnProperty(t)&&o.push(e.profiler[t]);for(var i in r=r||"avg_time",o.sort(e.firstBy(r,-1)),o)o.hasOwnProperty(i)&&(n+=e.msgT(o[i]))}console&&console.log&&console.log(n)}},msgT:function(t,r){e.isDefined(t.eT[t.calls])||(console.log(t.fName+" was not endT() finished",t),e.endT(t.fName));var n="",o=t.fName,i=t.total_time.toFixed(2),a=t.avg_time?t.avg_time.toFixed(2):i,s=r?t.elT[r]:e.isDefined(t.elT[1])?t.elT[1]:"[error]";return n+=(r=r||t.calls)+" calls\t\t"+s+"ms\t\tavg: "+a+"ms\t\ttot: "+i+"ms\t\t"+o+"\n"},clear_console:function(){void 0!==console._commandLineAPI?console.API=console._commandLineAPI:void 0!==console._inspectorCommandLineAPI?console.API=console._inspectorCommandLineAPI:void 0!==console.clear&&(console.API=console),console.API.clear()},firstBy:function(){function e(e){return e}function t(e){return"string"==typeof e?e.toLowerCase():e}function r(r,n){if(n="number"==typeof n?{direction:n}:n||{},"function"!=typeof r){var o=r;r=function(e){return e[o]?e[o]:""}}if(1===r.length){var i=r,a=n.ignoreCase?t:e;r=function(e,t){return a(i(e))<a(i(t))?-1:a(i(e))>a(i(t))?1:0}}return-1===n.direction?function(e,t){return-r(e,t)}:r}function n(e,t){return(e=r(e,t)).thenBy=o,e}function o(e,t){var o=this;return e=r(e,t),n((function(t,r){return o(t,r)||e(t,r)}))}return n}(),unique_key:function(){return Math.random().toString(16).slice(2)+(new Date).getTime()},reg:{html_tag:function(e){var t=e.tag,r=e.capParts?"(":"",n=e.capParts?")":"";return r+"<\\s*("+t+")[^>]*>"+n+r+"(?:[\\s\\S]*?)"+n+r+"<\\s*\\/\\s*(?:\\"+e.closeTagCap+")>"+n},html_att:function(e){return"("+e.att+")=(['\"]+)(?:[\\s\\S]*?)(?:['\"]+)"},builder_html_atts:function(e){return"("+e.att+")=(['\"]+)(?:[\\s\\S]*?)(?:['\"]+)"}},truncate_html_string:function(t,r,n,o,i,a){return t=t.replace(/(?=<!--)([\s\S]*?)-->/gm,""),r&&(t=t.replace(new RegExp(e.reg.html_tag({tag:r.join("|"),closeTagCap:"1"}),"gm"),"<$1>(MT truncated)</$1>")),n&&(t=t.replace(new RegExp(e.reg.html_att({att:n.join("|")}),"gm"),'$1="(MT truncated)"')),o&&(i=i||"",t=t.replace(o,i)),t},add_pseudo_placeholders_to_html_string:function(t,r,n){e.startT(arguments);var o=e.parse(t,{},{tagIndex:-1,data:{}}),i={traverseBackwards:1,data:{pseudoCount:0,pseudoCheckCount:0,hasPseudo:r},cb:{tag:[{f:e.remove_mt_ignore_and_subsequent,a:[n]},{f:e.add_pseudos}]}};return e.traverse(0,o,i),t=e.stringify(o),e.endT(arguments),t},get_all_matches:function(e,t,r,n){r=r||0;for(var o,i=[],a=(n=n||{}).autoIncrement;o=t.exec(e);){var s=o[r]?o[r]:o[r+1];void 0===s&&void 0!==a&&"[]"===o[0]&&(s=a);var c=n.itemObj?{value:s,start:o.index,end:o.index+s.length,match:o}:s;i.push(c)}return i},beautifyHTMLOpts:{html:{no_preserve_newlines:!0,max_preserve_newlines:0,indent_inner_html:!0,indent_handlebars:!0,indent_size:2,wrap_line_length:0,inline:[],extra_liners:[],unformatted:[],content_unformatted:[]}},mtArtificalClassRegex:function(){let e="(?:\\s*(?:tvr-hover-element|tvr-trigger-el|tvr-element-overlay)){0,3}\\s*",t='\\s*class="'+e+'"|'+e.replace("{0,3}","{1,3}");return new RegExp(t,"g")},formatHTMLString:function(t,r,n,o,i){e.startT(arguments),t=t.replace(e.mtArtificalClassRegex(),""),t=e.truncate_html_string(t,["noscript","script","style"],!1,r.pattern,r.repl);return t=(t=(t=o(t=e.add_pseudo_placeholders_to_html_string(t,n,i),e.beautifyHTMLOpts)).replace(/<mtphtagtext>([\s\S]+?)<\/mtphtagtext>/g,"$1")).replace(/<mtphtag(::)?(.+?)\/>/g,"$1$2"),e.endT(arguments),t},beautifyHTMLString:function(t){return self.html_beautify(t,e.beautifyHTMLOpts)},voidElements:{area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,source:1,track:1,wbr:1},noPseudo:{mtbefore:1,mtafter:1,html:1,head:1,title:1,meta:1,link:1,script:1,style:1,path:1,select:1,option:1,defs:1,filter:1,feColorMatrix:1,feComponentTransfer:1,feFuncR:1,feFuncG:1,feFuncB:1,feFuncA:1,feComposite:1},parseTag:function(t,r){++r.tagIndex;var n=e.voidElements,o=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;return function(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=e.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(t.name=i[1],t.i=r.tagIndex,(n[i[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=e.indexOf("--\x3e");return{type:"comment",comment:-1!==a?e.slice(4,a):""}}for(var s=new RegExp(o),c=null;null!==(c=s.exec(e));)if(c[0].trim())if(c[1]){var l=c[1].trim(),u=[l,""];l.indexOf("=")>-1&&(u=l.split("=")),t.attrs[u[0]]=u[1],s.lastIndex--}else c[2]&&(t.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return t}(t)},parse:function(t,r,n){var o=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,a=Object.create(null);return function(t,r,n){r||(r={}),r.components||(r.components=a);var s,c=[],l=[],u=-1,d=!1;if(0!==t.indexOf("<")){var f=t.indexOf("<");c.push({type:"text",content:-1===f?t:t.substring(0,f)})}return t.replace(o,(function(o,a){if(d){if(o!=="</"+s.name+">")return;d=!1}var f,m="/"!==o.charAt(1),p=o.startsWith("\x3c!--"),g=a+o.length,h=t.charAt(g);if(p){var _=e.parseTag(o,r,n);return u<0?(c.push(_),c):((f=l[u]).children.push(_),c)}if(m&&(u++,"tag"===(s=e.parseTag(o,n)).type&&r.components[s.name]&&(s.type="component",d=!0),s.voidElement||d||!h||"<"===h||s.children.push({type:"text",content:t.slice(g,t.indexOf("<",g))}),0===u&&c.push(s),(f=l[u-1])&&f.children.push(s),l[u]=s),(!m||s.voidElement)&&(u>-1&&(s.voidElement||s.name===o.slice(2,-1))&&(u--,s=-1===u?c:l[u]),!d&&"<"!==h&&h)){f=-1===u?c:l[u].children;var v=t.indexOf("<",g),b=t.slice(g,-1===v?void 0:v);i.test(b)&&(b=" "),(v>-1&&u+f.length>=0||" "!==b)&&f.push({type:"text",content:b})}})),c}(t,r,n)},stringify:function(e){function t(e,r){switch(r.type){case"text":return e+r.content;case"tag":return e+="<"+r.name+(r.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(r.attrs):"")+(r.voidElement?"/>":">"),r.voidElement?e:e+r.children.reduce(t,"")+"</"+r.name+">";case"comment":return e+="\x3c!--"+r.comment+"--\x3e"}}return e.reduce((function(e,r){return e+t("",r)}),"")},traverse:function(t,r,n,o){var i,a=r.length;if(n.traverseBackwards)for(i=a-1;i>=0;i--)s(i,t,r,n,o);else for(i=0;i<a;i++)s(i,t,r,n,o);function s(t,r,n,o,i){var a=n[t],s={};if(o.arrKey=t,"tag"===a.type){if((s=e.maybe_run_callbacks("tag",a,o,i)).continue)return!0;a.children&&!s.skipChildren&&(++r,e.traverse(r,a.children,o,a),--r)}}},maybe_run_callbacks:function(t,r,n,o){var i=e.checkObject(n,["cb",t]),a={};if(i)for(var s=0;s<i.length;s++){var c=i[s],l=[r,n,o];if(l=c.a?l.concat(c.a):l,(a=c.f.apply(this,l||[]))&&a.continue)return a}return a||{}},pseudos:["after","before"],remove_mt_ignore_and_subsequent:function(t,r,n,o){var i=!1;return r.mtStuffRemoved||("mt-stuff-ignore"===e.checkObject(t,["attrs","id"])?(n.children.splice(r.arrKey,1),r.mtStuffRemoved=1,i=!0):o||"html"===t.name||"body"===t.name||(n.children.splice(r.arrKey,1),i=!0)),{continue:i}},add_pseudos:function(t,r,n){var o=e,i=o.pseudos,a=t.name;if(!t.isPH&&!o.voidElements[a]&&!o.noPseudo[a]){r.data.pseudoCheckCount++;for(var s=0;s<i.length;s++){var c=i[s];if(e.checkObject(r,["data","hasPseudo",t.i,c])){r.data.pseudoCount++;var l=t.children,u={name:"mtphtag::"+c,type:"tag",voidElement:1,isPH:1};e.convert_text_node_to_placeholder_tag(t,c),"before"===c?l.unshift(u):l.push(u)}}}},convert_text_node_to_placeholder_tag:function(e,t){for(var r=e.children,n=r.length-1;n>=0;n--){var o=r[n];"text"!==o.type||o.content.match(/^\s*$/)||(r[n]={name:"mtphtagtext",type:"tag",children:[o],voidElement:!1})}},eq_str:function(e){let t=25-name.length,r="";t=t>0?t:1;for(let e=t;e>=0;e--)r+="=";return r},getCallbacks:function(e,t){return e.cbs[t]||[]},maybeLoopSelectors:function(t,r,n,o){t.cbs.selector&&Object.entries(r).forEach((([i,a])=>{if("this"!==i){t.trail=e.get_js_object_data([n,i],o,!1,!0).levels,t.selector=a,t.selector_key=i;let s=t.targetSelector===i;(t.allSelectors||s)&&t.cbs.selector.forEach((e=>{e.item.apply(this,[t,r,n,o,i,a])}))}}))},loopUiData:function(t,r,n){let o=(r=r||TvrUi.uiData).non_section.m_query,i=o?Object.keys(o):[];return t.existingCSS||(t.existingCSS=""),t.recurse||(t.recurse={mq_key:"all-devices"}),Object.entries(r).forEach((([r,a])=>{if("non_section"!==r){t.trail=[r],t.section=a,t.section_key=r,t.recurse.mq_key="all-devices";let s=t.targetSection===r;(t.allSections||s||t.loadingSections&&t.loadingSections[r])&&(n&&"all-devices"!==n||(e.getCallbacks(t,"section").forEach((e=>{e.item.apply(this,[t,a,r,"all-devices"])})),e.maybeLoopSelectors(t,a,r,"all-devices")),t.skipMediaQueries||i.forEach((i=>{let a=e.checkObject(o,[i,r]);t.trail=e.get_js_object_data([r],i,!1,!0).levels,(a&&!n||n===i)&&(t.recurse.mq_key=i,e.getCallbacks(t,"mq").forEach((e=>{e.item.apply(this,[t,a,r,i])})),e.maybeLoopSelectors(t,a,r,i))})))}})),t},db:{dbInstance:null,isInitialized:!1,async init(e="settingsDB",t="settings"){if(!this.isInitialized||!this.dbInstance?.objectStoreNames.contains(t))return new Promise(((r,n)=>{const o=o=>{const i=indexedDB.open(e,o);i.onupgradeneeded=e=>{const r=e.target.result;r.objectStoreNames.contains(t)||r.createObjectStore(t,{keyPath:"id"})},i.onsuccess=e=>{this.dbInstance=e.target.result,this.isInitialized=!0,r()},i.onerror=e=>{console.error("IndexedDB initialization error:",e.target.error),n(e.target.error)}},i=indexedDB.open(e);i.onsuccess=e=>{const n=e.target.result;if(n.objectStoreNames.contains(t))this.dbInstance=n,this.isInitialized=!0,r();else{const e=n.version+1;n.close(),o(e)}},i.onerror=e=>{console.error("Error checking IndexedDB version:",e.target.error),n(e.target.error)}}))},async ensureInitialized(){this.isInitialized||await this.init()},async save(e,t){return await this.ensureInitialized(),new Promise(((r,n)=>{const o=this.dbInstance.transaction([e],"readwrite").objectStore(e).put(t);o.onsuccess=()=>r(t),o.onerror=e=>{console.error("Error saving data:",e.target.error),n(e.target.error)}}))},async get(e,t){return await this.ensureInitialized(),new Promise(((r,n)=>{const o=this.dbInstance.transaction([e],"readonly").objectStore(e).get(t);o.onsuccess=e=>r(e.target.result),o.onerror=e=>{console.error("Error retrieving data:",e.target.error),n(e.target.error)}}))},async delete(e,t){return await this.ensureInitialized(),new Promise(((r,n)=>{const o=this.dbInstance.transaction([e],"readwrite").objectStore(e).delete(t);o.onsuccess=()=>r(t),o.onerror=e=>{console.error("Error deleting data:",e.target.error),n(e.target.error)}}))},async clear(e){return await this.ensureInitialized(),new Promise(((t,r)=>{const n=this.dbInstance.transaction([e],"readwrite").objectStore(e).clear();n.onsuccess=()=>t(),n.onerror=e=>{console.error("Error clearing data:",e.target.error),r(e.target.error)}}))}}};return e}();