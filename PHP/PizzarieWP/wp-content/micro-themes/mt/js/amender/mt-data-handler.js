export default class ElementDataHandler{constructor(t){this.isEditing=t,this.store=this.isEditing?new WeakMap:null}attach(t,s,e){if(!this.isEditing||e||!t||!s)return;const i=Array.isArray(t)?t:[t];for(const t of i)if(t&&t.nodeType){const e=this.store.get(t)||{};e[s]=1,this.store.set(t,e)}}clear(t,s){if(!this.isEditing||!t||!s)return;const e=Array.isArray(t)?t:[t];for(const t of e)if(t&&t.nodeType&&this.store.has(t)){const e=this.store.get(t);delete e[s],0===Object.keys(e).length&&this.store.delete(t)}}get(t){if(this.isEditing&&t)return this.store.get(t)}}