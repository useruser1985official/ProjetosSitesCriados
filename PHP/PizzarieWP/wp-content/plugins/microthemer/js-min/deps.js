function CSSUtilities(){}window.TvrMT={data:{prog:{},dyn:{},templates:{},template_map:{}},TvrCom:{},TvrUi:{},init:{},MTF:!1,mod:{MTace:{},MTint:{},MTloop:{},MTsave:{},MTsass:{},MTgrid:{},MTfolder:{},MTtransform:{},MTlayout:{},MTwidget:{},MThtml:{},MTai:{},MTRegExp:{}},integrate:{FLBuilder:!1,elementor:!1,oxygen:!1}},function(){function e(e,n){var r=!1;if(e instanceof RegExp&&(e=e.source,r=!0),e){this.regexGroupStructure=function(e){if(!e)return console.error('The "regex" is empty! Returning empty array!'),[];var n=[],r=[""],i=[];i[0]=!1;var a=t(e,[0,0,0],!0,n,r,i);if(i[0]){var o=function(e){for(var t,r="",i=0;i<e[2].length;i++)if(r+=t=e[2].charAt(i),"\\"!==t)if("["!==t);else{if(i+1===e[2].length)continue;for(i++,t=e[2].charAt(i);("]"!==t||"\\"===e[2].charAt(i-1)&&"\\"!==e[2].charAt(i-2))&&i<e[2].length;)r+=t,i++,t=e[2].charAt(i);r+=t}else{if(i+1===e[2].length)continue;i++,t=e[2].charAt(i);for(var a="";t>="0"&&t<="9";)a+=t,i++,t=e[2].charAt(i);a?(r+=n[a],i--):r+=t}e[2]=r;for(var s=0;s<e[3].length;s++)o(e[3][s])};o(a)}return[a,n,r]}(e),this.source=r?e:this.regexGroupStructure[2][0];try{this.regex=new RegExp(this.regexGroupStructure[0][2],n)}catch(t){new RegExp(e,n)}}else this.regex=new RegExp(e,n),this.source=this.regex.source;this.flags=this.regex.flags,this.global=this.regex.global,this.ignoreCase=this.regex.ignoreCase,this.multiline=this.regex.multiline,this.sticky=this.regex.sticky,this.unicode=this.regex.unicode,this.lastIndex=this.regex.lastIndex}function t(e,r,i,a,o,s){var l;i?(l=[r[1],r[2],"",[]],a[r[2]]=r[1]):l=[void 0,void 0,"",[]];var c,u="";for(r[0];r[0]<e.length;r[0]++)if("\\"!==(c=e.charAt(r[0])))if("["!==c)if("|"!==c){if(")"===c)return l[2]+=u+")",o[0]+=")",l;if("("===c){var d;u&&(r[1]++,u="("+u+")",l[3].push([r[1],void 0,u,[]])),r[0]++;var p=r[1]+1;if(i=!0,"?"===e.charAt(r[0])&&r[0]+1<e.length&&("="===e.charAt(r[0]+1)||"!"===e.charAt(r[0]+1)||":"===e.charAt(r[0]+1))){r[0]++;var f=e.charAt(r[0]);r[0]++,":"===f&&(i=!1),o[0]+="(?"+f,(d=t(e,r,!1,a,o,s))[2]="(?"+f+d[2]}else r[1]++,r[2]++,o[0]+="(",(d=t(e,r,!0,a,o,s))[2]="("+d[2];var h=r[0],_="";if(r[0]+1<e.length){if("*"===(c=e.charAt(r[0]+1)))r[0]++,_="*";else if("+"===c)r[0]++,_="+";else if("?"===c)r[0]++,_="?";else if("{"===c){for(r[0]++,_="{",r[0]++,c=e.charAt(r[0]);c>="0"&&c<="9"&&r[0]<e.length;)_+=c,r[0]++,c=e.charAt(r[0]);if("}"===c)_+="}";else if(","===c){for(_+=",",r[0]++,c=e.charAt(r[0]);c>="0"&&c<="9"&&r[0]<e.length;)_+=c,r[0]++,c=e.charAt(r[0]);"}"===c?_+="}":_=""}else _=""}_.length>0?(d[2]+=_,o[0]+=_,"?"===e.charAt(r[0]+1)&&(r[0]++,d[2]+="?",o[0]+="?")):r[0]=h}(_.length>0||!i)&&(n(d,a),d=[p,void 0,"("+d[2]+")",[d]],r[1]++),l[2]+=u+d[2],l[3].push(d),u=""}else u+=c=e.charAt(r[0]),o[0]+="/"===c?"\\"+c:c}else l[2]+=u+"|",u="",o[0]+="|";else{if(u+="[",o[0]+="[",r[0]+1===e.length)continue;for(r[0]++,c=e.charAt(r[0]);("]"!==c||"\\"===e.charAt(r[0]-1)&&"\\"!==e.charAt(r[0]-2))&&r[0]<e.length;)u+=c,o[0]+=c,r[0]++,c=e.charAt(r[0]);u+=c,o[0]+=c}else{if(r[0]+1===e.length){u+="\\",o[0]+="\\";continue}r[0]++,c=e.charAt(r[0]);for(var g="";c>="0"&&c<="9";)g+=c,r[0]++,c=e.charAt(r[0]);g?(a[g]?(u+="\\"+g,s[0]=!0):g.indexOf("8")>=0||g.indexOf("9")>=0?u+=g:u+="\\x"+("0"+parseInt(g,8).toString(16)).slice(-2).toUpperCase(),o[0]+="\\"+g,r[0]--):(u+="\\"+c,o[0]+="\\"+c)}return l[2]+=u,l}function n(e,t){e[0]&&(e[0]++,e[1]&&(t[e[1]]=e[0]));for(var r=0;r<e[3].length;r++)n(e[3][r],t)}Symbol="undefined"==typeof Symbol?[]:Symbol,e.prototype=Object.create(RegExp.prototype,{flags:{value:null,enumerable:!0,configurable:!0,writable:!0},global:{value:null,enumerable:!0,configurable:!0,writable:!0},ignoreCase:{value:null,enumerable:!0,configurable:!0,writable:!0},multiline:{value:null,enumerable:!0,configurable:!0,writable:!0},source:{value:null,enumerable:!0,configurable:!0,writable:!0},sticky:{value:null,enumerable:!0,configurable:!0,writable:!0},unicode:{value:null,enumerable:!0,configurable:!0,writable:!0}}),e.prototype.constructor=e,e.prototype.toString=function(){return"/"+this.source+"/"+this.flags},e.prototype.test=function(e){return this.regex.test(e)},e.prototype[Symbol.search]=function(e){return this.regex[Symbol.search](e)},e.prototype[Symbol.split]=function(e,t){return this.regex[Symbol.split](e)},e.prototype.exec=function(e){var t=[];t.index=[];var n=this.regex.exec(e);if(this.lastIndex=this.regex.lastIndex,!n)return n;t[0]=n[0],t.index[0]=n.index,t.input=e;var r=function(e,i){for(var a=e,o=0;o<i.length;o++){var s=i[o][0],l=i[o][1];l&&(t[l]=n[s],void 0===t[l]?t.index[l]=void 0:t.index[l]=a),i[o][3]&&r(a,i[o][3]),void 0!==n[s]&&(a+=n[s].length)}};return this.regexGroupStructure&&this.regexGroupStructure[0][3]&&r(n.index,this.regexGroupStructure[0][3]),t},e.prototype[Symbol.match]=function(e){this.lastIndex=0,this.regex.lastIndex=0;var t=this.exec(e);if(!t)return null;for(var n=[];t&&(n.push(t),0===t[0].length&&this.regex.lastIndex++,this.global);)t=this.exec(e);return this.lastIndex=0,this.regex.lastIndex=0,n},e.prototype[Symbol.replace]=function(e,t){if(this.lastIndex=0,this.regex.lastIndex=0,!e)return e;var n=this.exec(e);if(!n)return e;t instanceof Array||(t=[t]);for(var r="",i=0,a=function(r){var i="",a="",o=t[r];if("string"==typeof o)for(var s=0;s<o.length;s++)if("$"===(a=o.charAt(s)))if(s++,"$"===(a=o.charAt(s)))i+="$";else if("&"===a)i+=n[r];else if("`"===a)i+=e.substring(0,n.index[r]);else if("'"===a)i+=e.substring(n.index[r]+n[r].length);else if(a>="0"&&a<="9"){var l=a;for(s++,a=o.charAt(s);a>="0"&&a<="9";)l+=a,s++,a=o.charAt(s);s--,n[l]?i+=n[l]:i+="$"+l}else i+="$"+a;else i+=a;else if(o instanceof Function){for(var c=[n[r]],u=0;u<n.length;u++)c.push(n[u]);for(var d=0;u<n.index.length;d++)c.push(n.index[d]);c.push(e),i+=o.apply(this,c)}return i},o=function(s){for(var l=0;l<s.length;l++){var c=s[l][1];c?t[c]||""===t[c]?(n[c]||""===n[c])&&(r+=e.substring(i,n.index[c])+a(c),i=n.index[c]+n[c].length):s[l][3]&&o(s[l][3]):o(s[l][3])}};n&&(t[0]||""===t[0]?(r+=e.substring(i,n.index[0])+a(0),i=n.index[0]+n[0].length):this.regexGroupStructure&&this.regexGroupStructure[0][3]&&o(this.regexGroupStructure[0][3]),0===n[0].length&&this.regex.lastIndex++,this.global);)n=this.exec(e);return this.lastIndex=0,this.regex.lastIndex=0,r+e.substring(i,e.length)},TvrMT.mod.MTRegExp=e}(),
/**
 * gridstack.js 1.0.0-dev
 * http://troolee.github.io/gridstack.js/
 * (c) 2014-2018 Pavel Reznikov, Dylan Weiss
 * gridstack.js may be freely distributed under the MIT license.
 * @preserve
*/
function(e){if("function"==typeof define&&define.amd)define(["jquery","exports"],e);else if("undefined"!=typeof exports){var t;try{t=require("jquery")}catch(e){}e(t||window.jQuery,exports)}else e(window.jQuery,window)}((function(e,t){var n=function(e,t,n){var r=function(){return console.warn("gridstack.js: Function `"+t+"` is deprecated as of v0.2.5 and has been replaced with `"+n+"`. It will be **completely** removed in v1.0."),e.apply(this,arguments)};return r.prototype=e.prototype,r},r=function(e,t){console.warn("gridstack.js: Option `"+e+"` is deprecated as of v0.2.5 and has been replaced with `"+t+"`. It will be **completely** removed in v1.0.")},i={isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},sort:function(e,t,n){if(!n){var r=e.map((function(e){return e.x+e.width}));n=Math.max.apply(Math,r)}return t=-1!=t?1:-1,i.sortBy(e,(function(e){return t*(e.x+e.y*n)}))},createStylesheet:function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-gs-style-id",e),t.styleSheet?t.styleSheet.cssText="":t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet},removeStylesheet:function(t){e("STYLE[data-gs-style-id="+t+"]").remove()},insertCSSRule:function(e,t,n,r){"function"==typeof e.insertRule?e.insertRule(t+"{"+n+"}",r):"function"==typeof e.addRule&&e.addRule(t,n,r)},toBool:function(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"==e||"false"==e||"0"==e):Boolean(e)},_collisionNodeCheck:function(e){return e!=this.node&&i.isIntercepted(e,this.nn)},_didCollide:function(e){return i.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},e)},_isAddNodeIntercepted:function(e){return i.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},e)},parseHeight:function(e){var t=e,n="px";if(t&&"string"==typeof t){var r=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);if(!r)throw new Error("Invalid height");n=r[2]||"px",t=parseFloat(r[1])}return{height:t,unit:n}},without:function(e,t){var n=e.indexOf(t);return-1!==n&&(e=e.slice(0)).splice(n,1),e},sortBy:function(e,t){return e.slice(0).sort((function(e,n){var r=t(e),i=t(n);return i===r?0:r>i?1:-1}))},defaults:function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])})),e},clone:function(t){return e.extend({},t)},throttle:function(e,t){var n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout((function(){n=!1}),t))}},removePositioningStyles:function(e){var t=e[0].style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")},getScrollParent:function(e){return null==e?null:e.scrollHeight>e.clientHeight?e:i.getScrollParent(e.parentNode)},updateScrollPosition:function(e,t,n){var r=e.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;if(r.top<0||r.bottom>a){var o=r.bottom-a,s=r.top,l=i.getScrollParent(e);if(null!=l){var c=l.scrollTop;r.top<0&&n<0?e.offsetHeight>a?l.scrollTop+=n:l.scrollTop+=Math.abs(s)>Math.abs(n)?n:s:n>0&&(e.offsetHeight>a?l.scrollTop+=n:l.scrollTop+=o>n?n:o),t.position.top+=l.scrollTop-c}}}};function a(e){this.grid=e}i.is_intercepted=n(i.isIntercepted,"is_intercepted","isIntercepted"),i.create_stylesheet=n(i.createStylesheet,"create_stylesheet","createStylesheet"),i.remove_stylesheet=n(i.removeStylesheet,"remove_stylesheet","removeStylesheet"),i.insert_css_rule=n(i.insertCSSRule,"insert_css_rule","insertCSSRule"),a.registeredPlugins=[],a.registerPlugin=function(e){a.registeredPlugins.push(e)},a.prototype.resizable=function(e,t){return this},a.prototype.draggable=function(e,t){return this},a.prototype.droppable=function(e,t){return this},a.prototype.isDroppable=function(e){return!1},a.prototype.on=function(e,t,n){return this};var o=0,s=function(e,t,n,r,i){this.width=e,this.float=n||!1,this.height=r||0,this.nodes=i||[],this.onchange=t||function(){},this._updateCounter=0,this._float=this.float,this._addedNodes=[],this._removedNodes=[]};s.prototype.batchUpdate=function(){this._updateCounter=1,this.float=!0},s.prototype.commit=function(){0!==this._updateCounter&&(this._updateCounter=0,this.float=this._float,this._packNodes(),this._notify())},s.prototype.getNodeDataByDOMEl=function(e){return this.nodes.find((function(t){return e.get(0)===t.el.get(0)}))},s.prototype._fixCollisions=function(e){this._sortNodes(-1);var t=e,n=Boolean(this.nodes.find((function(e){return e.locked})));for(this.float||n||(t={x:0,y:e.y,width:this.width,height:e.height});;){var r=this.nodes.find(i._collisionNodeCheck,{node:e,nn:t});if(void 0===r)return;this.moveNode(r,r.x,e.y+e.height,r.width,r.height,!0)}},s.prototype.isAreaEmpty=function(e,t,n,r){var a={x:e||0,y:t||0,width:n||1,height:r||1},o=this.nodes.find((function(e){return i.isIntercepted(e,a)}));return null==o},s.prototype._sortNodes=function(e){this.nodes=i.sort(this.nodes,e,this.width)},s.prototype._packNodes=function(){this._sortNodes(),this.float?this.nodes.forEach((function(e,t){if(!e._updating&&void 0!==e._origY&&e.y!=e._origY)for(var n=e.y;n>=e._origY;){this.nodes.slice(0,t).find(i._didCollide,{n:e,newY:n})||(e._dirty=!0,e.y=n),--n}}),this):this.nodes.forEach((function(e,t){if(!e.locked)for(;e.y>0;){var n=e.y-1,r=0===t;if(t>0)r=void 0===this.nodes.slice(0,t).find(i._didCollide,{n:e,newY:n});if(!r)break;e._dirty=e.y!=n,e.y=n}}),this)},s.prototype._prepareNode=function(e,t){return(e=i.defaults(e||{},{width:1,height:1,x:0,y:0})).x=parseInt(""+e.x),e.y=parseInt(""+e.y),e.width=parseInt(""+e.width),e.height=parseInt(""+e.height),e.autoPosition=e.autoPosition||!1,e.noResize=e.noResize||!1,e.noMove=e.noMove||!1,e.width>this.width?e.width=this.width:e.width<1&&(e.width=1),e.height<1&&(e.height=1),e.x<0&&(e.x=0),e.x+e.width>this.width&&(t?e.width=this.width-e.x:e.x=this.width-e.width),e.y<0&&(e.y=0),e},s.prototype._notify=function(){var e=Array.prototype.slice.call(arguments,0);if(e[0]=void 0===e[0]?[]:[e[0]],e[1]=void 0===e[1]||e[1],!this._updateCounter){var t=e[0].concat(this.getDirtyNodes());this.onchange(t,e[1])}},s.prototype.cleanNodes=function(){this._updateCounter||this.nodes.forEach((function(e){e._dirty=!1}))},s.prototype.getDirtyNodes=function(){return this.nodes.filter((function(e){return e._dirty}))},s.prototype.addNode=function(e,t){if(void 0!==(e=this._prepareNode(e)).maxWidth&&(e.width=Math.min(e.width,e.maxWidth)),void 0!==e.maxHeight&&(e.height=Math.min(e.height,e.maxHeight)),void 0!==e.minWidth&&(e.width=Math.max(e.width,e.minWidth)),void 0!==e.minHeight&&(e.height=Math.max(e.height,e.minHeight)),e._id=++o,e._dirty=!0,e.autoPosition){this._sortNodes();for(var n=0;;++n){var r=n%this.width,a=Math.floor(n/this.width);if(!(r+e.width>this.width)&&!this.nodes.find(i._isAddNodeIntercepted,{x:r,y:a,node:e})){e.x=r,e.y=a;break}}}return this.nodes.push(e),void 0!==t&&t&&this._addedNodes.push(i.clone(e)),window.TvrMT.TvrUi.grid&&window.TvrMT.TvrUi.grid.isTemplateAreas&&this._fixCollisions(e),this._packNodes(),this._notify(),e},s.prototype.removeNode=function(e,t){t=void 0===t||t,this._removedNodes.push(i.clone(e)),e._id=null,this.nodes=i.without(this.nodes,e),this._packNodes(),this._notify(e,t)},s.prototype.canMoveNode=function(t,n,r,i,a){if(!this.isNodeChangedPosition(t,n,r,i,a))return!1;var o,l=Boolean(this.nodes.find((function(e){return e.locked})));if(!this.height&&!l)return!0;var c=new s(this.width,null,this.float,0,this.nodes.map((function(n){return n==t?o=e.extend({},n):e.extend({},n)})));if(void 0===o)return!0;c.moveNode(o,n,r,i,a);var u=!0;return l&&(u&=!Boolean(c.nodes.find((function(e){return e!=o&&Boolean(e.locked)&&Boolean(e._dirty)})))),this.height&&(u&=c.getGridHeight()<=this.height),u},s.prototype.canBePlacedWithRespectToHeight=function(t){if(!this.height)return!0;var n=new s(this.width,null,this.float,0,this.nodes.map((function(t){return e.extend({},t)})));return n.addNode(t),n.getGridHeight()<=this.height},s.prototype.isNodeChangedPosition=function(e,t,n,r,i){return"number"!=typeof t&&(t=e.x),"number"!=typeof n&&(n=e.y),"number"!=typeof r&&(r=e.width),"number"!=typeof i&&(i=e.height),void 0!==e.maxWidth&&(r=Math.min(r,e.maxWidth)),void 0!==e.maxHeight&&(i=Math.min(i,e.maxHeight)),void 0!==e.minWidth&&(r=Math.max(r,e.minWidth)),void 0!==e.minHeight&&(i=Math.max(i,e.minHeight)),e.x!=t||e.y!=n||e.width!=r||e.height!=i},s.prototype.moveNode=function(e,t,n,r,i,a){if(!this.isNodeChangedPosition(e,t,n,r,i))return e;if("number"!=typeof t&&(t=e.x),"number"!=typeof n&&(n=e.y),"number"!=typeof r&&(r=e.width),"number"!=typeof i&&(i=e.height),void 0!==e.maxWidth&&(r=Math.min(r,e.maxWidth)),void 0!==e.maxHeight&&(i=Math.min(i,e.maxHeight)),void 0!==e.minWidth&&(r=Math.max(r,e.minWidth)),void 0!==e.minHeight&&(i=Math.max(i,e.minHeight)),e.x==t&&e.y==n&&e.width==r&&e.height==i)return e;var o=e.width!=r;return e._dirty=!0,e.x=t,e.y=n,e.width=r,e.height=i,e.lastTriedX=t,e.lastTriedY=n,e.lastTriedWidth=r,e.lastTriedHeight=i,e=this._prepareNode(e,o),window.TvrMT.TvrUi.grid&&window.TvrMT.TvrUi.grid.isTemplateAreas&&this._fixCollisions(e),a||(this._packNodes(),this._notify()),e},s.prototype.getGridHeight=function(){return this.nodes.reduce((function(e,t){return Math.max(e,t.y+t.height)}),0)},s.prototype.beginUpdate=function(e){this.nodes.forEach((function(e){e._origY=e.y})),e._updating=!0},s.prototype.endUpdate=function(){this.nodes.forEach((function(e){e._origY=e.y}));var e=this.nodes.find((function(e){return e._updating}));e&&(e._updating=!1)};var l=function(t,n){var o,l,c=this;n=n||{},this.container=e(t),void 0!==n.handle_class&&(n.handleClass=n.handle_class,r("handle_class","handleClass")),void 0!==n.item_class&&(n.itemClass=n.item_class,r("item_class","itemClass")),void 0!==n.placeholder_class&&(n.placeholderClass=n.placeholder_class,r("placeholder_class","placeholderClass")),void 0!==n.placeholder_text&&(n.placeholderText=n.placeholder_text,r("placeholder_text","placeholderText")),void 0!==n.cell_height&&(n.cellHeight=n.cell_height,r("cell_height","cellHeight")),void 0!==n.vertical_margin&&(n.verticalMargin=n.vertical_margin,r("vertical_margin","verticalMargin")),void 0!==n.min_width&&(n.minWidth=n.min_width,r("min_width","minWidth")),void 0!==n.static_grid&&(n.staticGrid=n.static_grid,r("static_grid","staticGrid")),void 0!==n.is_nested&&(n.isNested=n.is_nested,r("is_nested","isNested")),void 0!==n.always_show_resize_handle&&(n.alwaysShowResizeHandle=n.always_show_resize_handle,r("always_show_resize_handle","alwaysShowResizeHandle")),n.itemClass=n.itemClass||"grid-stack-item";var u=this.container.closest("."+n.itemClass).length>0;if(this.opts=i.defaults(n||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,cellHeight:60,verticalMargin:20,auto:!0,minWidth:768,float:!1,staticGrid:!1,_class:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),animate:Boolean(this.container.attr("data-gs-animate"))||!1,alwaysShowResizeHandle:n.alwaysShowResizeHandle||!1,resizable:i.defaults(n.resizable||{},{autoHide:!n.alwaysShowResizeHandle,handles:"se"}),draggable:i.defaults(n.draggable||{},{handle:(n.handleClass?"."+n.handleClass:n.handle?n.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"}),disableDrag:n.disableDrag||!1,disableResize:n.disableResize||!1,rtl:"auto",removable:!1,removableOptions:i.defaults(n.removableOptions||{},{accept:"."+n.itemClass}),removeTimeout:2e3,verticalMarginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:n.disableOneColumnMode||!1,oneColumnModeClass:n.oneColumnModeClass||"grid-stack-one-column-mode",ddPlugin:null}),!1===this.opts.ddPlugin?this.opts.ddPlugin=a:null===this.opts.ddPlugin&&(this.opts.ddPlugin=a.registeredPlugins[0]||a),this.dd=new this.opts.ddPlugin(this),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===this.container.css("direction")),this.opts.rtl&&this.container.addClass("grid-stack-rtl"),this.opts.isNested=u,(l="auto"===this.opts.cellHeight)?c.cellHeight(c.cellWidth(),!0):this.cellHeight(this.opts.cellHeight,!0),this.verticalMargin(this.opts.verticalMargin,!0),this.container.addClass(this.opts._class),this._setStaticClass(),u&&this.container.addClass("grid-stack-nested"),this._initStyles(),this.grid=new s(this.opts.width,(function(e,t){t=void 0===t||t;var n=0;this.nodes.forEach((function(e){n=Math.max(n,e.y+e.height)})),e.forEach((function(e){t&&null===e._id?e.el&&e.el.remove():e.el.attr("data-gs-x",e.x).attr("data-gs-y",e.y).attr("data-gs-width",e.width).attr("data-gs-height",e.height)})),c._updateStyles(n+10)}),this.opts.float,this.opts.height),this.opts.auto){var d=[],p=this;this.container.children("."+this.opts.itemClass+":not(."+this.opts.placeholderClass+")").each((function(t,n){n=e(n),d.push({el:n,i:parseInt(n.attr("data-gs-x"))+parseInt(n.attr("data-gs-y"))*p.opts.width})})),i.sortBy(d,(function(e){return e.i})).forEach((function(e){this._prepareElement(e.el)}),this)}if(this.setAnimation(this.opts.animate),this.placeholder=e('<div class="'+this.opts.placeholderClass+" "+this.opts.itemClass+'"><div class="placeholder-content">'+this.opts.placeholderText+"</div></div>").hide(),this._updateContainerHeight(),this._updateHeightsOnResize=i.throttle((function(){c.cellHeight(c.cellWidth(),!1)}),100),this.onResizeHandler=function(){if(l&&c._updateHeightsOnResize(),c._isOneColumnMode()&&!c.opts.disableOneColumnMode){if(o)return;c.container.addClass(c.opts.oneColumnModeClass),o=!0,c.grid._sortNodes(),c.grid.nodes.forEach((function(e){c.container.append(e.el),c.opts.staticGrid||(c.dd.draggable(e.el,"disable"),c.dd.resizable(e.el,"disable"),e.el.trigger("resize"))}))}else{if(!o)return;if(c.container.removeClass(c.opts.oneColumnModeClass),o=!1,c.opts.staticGrid)return;c.grid.nodes.forEach((function(e){e.noMove||c.opts.disableDrag||c.dd.draggable(e.el,"enable"),e.noResize||c.opts.disableResize||c.dd.resizable(e.el,"enable"),e.el.trigger("resize")}))}},e(window).on("resize",this.onResizeHandler),this.onResizeHandler(),!c.opts.staticGrid&&"string"==typeof c.opts.removable){var f=e(c.opts.removable);this.dd.isDroppable(f)||this.dd.droppable(f,c.opts.removableOptions),this.dd.on(f,"dropover",(function(t,n){var r=e(n.draggable);r.data("_gridstack_node")._grid===c&&(r.data("inTrashZone",!0),c._setupRemovingTimeout(r))})).on(f,"dropout",(function(t,n){var r=e(n.draggable);r.data("_gridstack_node")._grid===c&&(r.data("inTrashZone",!1),c._clearRemovingTimeout(r))}))}if(!c.opts.staticGrid&&c.opts.acceptWidgets){var h=null,_=function(e,t){var n=h,r=n.data("_gridstack_node"),i=c.getCellFromPixel({left:e.pageX,top:e.pageY},!0),a=Math.max(0,i.x),o=Math.max(0,i.y);r._added||(r._added=!0,r.el=n,r.autoPosition=!0,r.x=a,r.y=o,c.grid.cleanNodes(),c.grid.beginUpdate(r),c.grid.addNode(r),c.container.append(c.placeholder),c.placeholder.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).show(),r.el=c.placeholder,r._beforeDragX=r.x,r._beforeDragY=r.y,c._updateContainerHeight()),c.grid.canMoveNode(r,a,o)&&(c.grid.moveNode(r,a,o),c._updateContainerHeight())};this.dd.droppable(c.container,{accept:function(t){var n=(t=e(t)).data("_gridstack_node");return(!n||n._grid!==c)&&t.is(!0===c.opts.acceptWidgets?".grid-stack-item":c.opts.acceptWidgets)}}).on(c.container,"dropover",(function(t,n){c.container.offset();var r=e(n.draggable),i=c.cellWidth(),a=c.cellHeight(),o=r.data("_gridstack_node"),s=o?o.width:Math.ceil(r.outerWidth()/i),l=o?o.height:Math.ceil(r.outerHeight()/a);h=r;var u=c.grid._prepareNode({width:s,height:l,_added:!1,_temporary:!0});r.data("_gridstack_node",u),r.data("_gridstack_node_orig",o),r.on("drag",_)})).on(c.container,"dropout",(function(t,n){var r=e(n.draggable);if(r.data("_gridstack_node")){r.unbind("drag",_);var i=r.data("_gridstack_node");i.el=null,c.grid.removeNode(i),c.placeholder.detach(),c._updateContainerHeight(),r.data("_gridstack_node",r.data("_gridstack_node_orig"))}})).on(c.container,"drop",(function(t,n){c.placeholder.detach();var r=e(n.draggable).data("_gridstack_node");r._grid=c;var a=e(n.draggable).clone(!1);a.data("_gridstack_node",r);var o=e(n.draggable).data("_gridstack_node_orig");void 0!==o&&void 0!==o._grid&&o._grid._triggerRemoveEvent(),e(n.helper).remove(),r.el=a,c.placeholder.hide(),i.removePositioningStyles(a),a.find("div.ui-resizable-handle").remove(),a.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height).addClass(c.opts.itemClass).enableSelection().removeData("draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled").unbind("drag",_),c.container.append(a),c._prepareElementsByNode(a,r),c._updateContainerHeight(),c.grid._addedNodes.push(r),c._triggerAddEvent(),c._triggerChangeEvent(),c.grid.endUpdate(),e(n.draggable).unbind("drag",_),e(n.draggable).removeData("_gridstack_node"),e(n.draggable).removeData("_gridstack_node_orig"),c.container.trigger("dropped",[o,r])}))}};return l.prototype._triggerChangeEvent=function(e){var t=this.grid.getDirtyNodes(),n=!1,r=[];t&&t.length&&(r.push(t),n=!0),(n||!0===e)&&this.container.trigger("change",r)},l.prototype._triggerAddEvent=function(){this.grid._addedNodes&&this.grid._addedNodes.length>0&&(this.container.trigger("added",[this.grid._addedNodes.map(i.clone)]),this.grid._addedNodes=[])},l.prototype._triggerRemoveEvent=function(){this.grid._removedNodes&&this.grid._removedNodes.length>0&&(this.container.trigger("removed",[this.grid._removedNodes.map(i.clone)]),this.grid._removedNodes=[])},l.prototype._initStyles=function(){this._stylesId&&i.removeStylesheet(this._stylesId),this._stylesId="gridstack-style-"+(1e5*Math.random()).toFixed(),this._styles=i.createStylesheet(this._stylesId),null!==this._styles&&(this._styles._max=0)},l.prototype._updateStyles=function(e){if(null!==this._styles&&void 0!==this._styles){var t,n="."+this.opts._class+" ."+this.opts.itemClass,r=this;if(void 0===e&&(e=this._styles._max),this._initStyles(),this._updateContainerHeight(),this.opts.cellHeight&&!(0!==this._styles._max&&e<=this._styles._max)&&(t=this.opts.verticalMargin&&this.opts.cellHeightUnit!==this.opts.verticalMarginUnit?function(e,t){return e&&t?"calc("+(r.opts.cellHeight*e+r.opts.cellHeightUnit)+" + "+(r.opts.verticalMargin*t+r.opts.verticalMarginUnit)+")":r.opts.cellHeight*e+r.opts.verticalMargin*t+r.opts.cellHeightUnit}:function(e,t){return r.opts.cellHeight*e+r.opts.verticalMargin*t+r.opts.cellHeightUnit},0===this._styles._max&&i.insertCSSRule(this._styles,n,"min-height: "+t(1,0)+";",0),e>this._styles._max)){for(var a=this._styles._max;a<e;++a)i.insertCSSRule(this._styles,n+'[data-gs-height="'+(a+1)+'"]',"height: "+t(a+1,a)+";",a),i.insertCSSRule(this._styles,n+'[data-gs-min-height="'+(a+1)+'"]',"min-height: "+t(a+1,a)+";",a),i.insertCSSRule(this._styles,n+'[data-gs-max-height="'+(a+1)+'"]',"max-height: "+t(a+1,a)+";",a),i.insertCSSRule(this._styles,n+'[data-gs-y="'+a+'"]',"top: "+t(a,a)+";",a);this._styles._max=e}}},l.prototype._updateContainerHeight=function(){if(!this.grid._updateCounter){var e=this.grid.getGridHeight(),t=parseInt(this.container.css("min-height"));if(t>0){var n=(t+this.opts.verticalMargin)/(this.cellHeight()+this.opts.verticalMargin);e<n&&(e=n)}this.container.attr("data-gs-current-height",e),this.opts.cellHeight&&(this.opts.verticalMargin?this.opts.cellHeightUnit===this.opts.verticalMarginUnit?this.container.css("height",e*(this.opts.cellHeight+this.opts.verticalMargin)-this.opts.verticalMargin+this.opts.cellHeightUnit):this.container.css("height","calc("+(e*this.opts.cellHeight+this.opts.cellHeightUnit)+" + "+(e*(this.opts.verticalMargin-1)+this.opts.verticalMarginUnit)+")"):this.container.css("height",e*this.opts.cellHeight+this.opts.cellHeightUnit))}},l.prototype._isOneColumnMode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.minWidth},l.prototype._setupRemovingTimeout=function(t){var n=e(t).data("_gridstack_node");!n._removeTimeout&&this.opts.removable&&(n._removeTimeout=setTimeout((function(){t.addClass("grid-stack-item-removing"),n._isAboutToRemove=!0}),this.opts.removeTimeout))},l.prototype._clearRemovingTimeout=function(t){var n=e(t).data("_gridstack_node");n._removeTimeout&&(clearTimeout(n._removeTimeout),n._removeTimeout=null,t.removeClass("grid-stack-item-removing"),n._isAboutToRemove=!1)},l.prototype._prepareElementsByNode=function(t,n){var r,a,o=this,s=function(s,l){var c,u,d=Math.round(l.position.left/r),p=Math.floor((l.position.top+a/2)/a);if("drag"!=s.type&&(c=Math.round(l.size.width/r),u=Math.round(l.size.height/a)),"drag"==s.type){var f=l.position.top-n._prevYPix;if(n._prevYPix=l.position.top,i.updateScrollPosition(t[0],l,f),t.data("inTrashZone")||d<0||d>=o.grid.width||p<0||!o.grid.float&&p>o.grid.getGridHeight())return;o._clearRemovingTimeout(t),n._temporaryRemoved&&(o.grid.addNode(n),o.placeholder.attr("data-gs-x",d).attr("data-gs-y",p).attr("data-gs-width",c).attr("data-gs-height",u).show(),o.container.append(o.placeholder),n.el=o.placeholder,n._temporaryRemoved=!1)}else if("resize"==s.type&&d<0)return;var h=void 0!==c?c:n.lastTriedWidth,_=void 0!==u?u:n.lastTriedHeight;!o.grid.canMoveNode(n,d,p,c,u)||n.lastTriedX===d&&n.lastTriedY===p&&n.lastTriedWidth===h&&n.lastTriedHeight===_||(n.lastTriedX=d,n.lastTriedY=p,n.lastTriedWidth=c,n.lastTriedHeight=u,o.grid.moveNode(n,d,p,c,u),window.TvrMT.mod.MTgrid.gridsatckItemDragOrResize(n,t,s),o._updateContainerHeight(),"resize"==s.type&&e(s.target).trigger("gsresize",n))},l=function(i,s){o.container.append(o.placeholder);var l=e(this);o.grid.cleanNodes(),o.grid.beginUpdate(n),r=o.cellWidth();var c=Math.ceil(l.outerHeight()/l.attr("data-gs-height"));a=o.container.height()/parseInt(o.container.attr("data-gs-current-height")),o.placeholder.attr("data-gs-x",l.attr("data-gs-x")).attr("data-gs-y",l.attr("data-gs-y")).attr("data-gs-width",l.attr("data-gs-width")).attr("data-gs-height",l.attr("data-gs-height")).show(),n.el=o.placeholder,n._beforeDragX=n.x,n._beforeDragY=n.y,n._prevYPix=s.position.top,o.dd.resizable(t,"option","minWidth",r*(n.minWidth||1)),o.dd.resizable(t,"option","minHeight",c*(n.minHeight||1)),"resizestart"==i.type&&l.find(".grid-stack-item").trigger("resizestart")},c=function(r,a){var s=e(this);if(s.data("_gridstack_node")){var l=!1;if(o.placeholder.detach(),n.el=s,o.placeholder.hide(),n._isAboutToRemove)l=!0,t.data("_gridstack_node")._grid._triggerRemoveEvent(),t.removeData("_gridstack_node"),t.remove();else o._clearRemovingTimeout(t),n._temporaryRemoved?(i.removePositioningStyles(s),s.attr("data-gs-x",n._beforeDragX).attr("data-gs-y",n._beforeDragY).attr("data-gs-width",n.width).attr("data-gs-height",n.height),n.x=n._beforeDragX,n.y=n._beforeDragY,n._temporaryRemoved=!1,o.grid.addNode(n)):(i.removePositioningStyles(s),s.attr("data-gs-x",n.x).attr("data-gs-y",n.y).attr("data-gs-width",n.width).attr("data-gs-height",n.height));o._updateContainerHeight(),o._triggerChangeEvent(l),o.grid.endUpdate();var c=s.find(".grid-stack");c.length&&"resizestop"==r.type&&(c.each((function(t,n){e(n).data("gridstack").onResizeHandler()})),s.find(".grid-stack-item").trigger("resizestop"),s.find(".grid-stack-item").trigger("gsresizestop")),"resizestop"==r.type&&o.container.trigger("gsresizestop",s)}};this.dd.draggable(t,{start:l,stop:c,drag:s}).resizable(t,{start:l,stop:c,resize:s}),(n.noMove||this._isOneColumnMode()&&!o.opts.disableOneColumnMode||this.opts.disableDrag||this.opts.staticGrid)&&this.dd.draggable(t,"disable"),(n.noResize||this._isOneColumnMode()&&!o.opts.disableOneColumnMode||this.opts.disableResize||this.opts.staticGrid)&&this.dd.resizable(t,"disable"),t.attr("data-gs-locked",n.locked?"yes":null)},l.prototype._prepareElement=function(t,n){n=void 0!==n&&n;var r=(t=e(t)).attr("data-gs-id");r=window.TvrMT.TvrCom.isNumeric(r)?parseInt(r):r,t.addClass(this.opts.itemClass);var a=this.grid.addNode({x:parseInt(t.attr("data-gs-x"),10),y:parseInt(t.attr("data-gs-y"),10),width:t.attr("data-gs-width"),height:t.attr("data-gs-height"),maxWidth:t.attr("data-gs-max-width"),minWidth:t.attr("data-gs-min-width"),maxHeight:t.attr("data-gs-max-height"),minHeight:t.attr("data-gs-min-height"),autoPosition:i.toBool(t.attr("data-gs-auto-position")),noResize:i.toBool(t.attr("data-gs-no-resize")),noMove:i.toBool(t.attr("data-gs-no-move")),locked:i.toBool(t.attr("data-gs-locked")),resizeHandles:t.attr("data-gs-resize-handles"),el:t,id:r,_grid:this},n);t.data("_gridstack_node",a),this._prepareElementsByNode(t,a)},l.prototype.setAnimation=function(e){e?this.container.addClass("grid-stack-animate"):this.container.removeClass("grid-stack-animate")},l.prototype.addWidget=function(t,n,r,i,a,o,s,l,c,u,d){return t=e(t),void 0!==n&&t.attr("data-gs-x",n),void 0!==r&&t.attr("data-gs-y",r),void 0!==i&&t.attr("data-gs-width",i),void 0!==a&&t.attr("data-gs-height",a),void 0!==o&&t.attr("data-gs-auto-position",o?"yes":null),void 0!==s&&t.attr("data-gs-min-width",s),void 0!==l&&t.attr("data-gs-max-width",l),void 0!==c&&t.attr("data-gs-min-height",c),void 0!==u&&t.attr("data-gs-max-height",u),void 0!==d&&t.attr("data-gs-id",d),this.container.append(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},l.prototype.makeWidget=function(t){return t=e(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},l.prototype.willItFit=function(e,t,n,r,i){var a={x:e,y:t,width:n,height:r,autoPosition:i};return this.grid.canBePlacedWithRespectToHeight(a)},l.prototype.removeWidget=function(t,n){n=void 0===n||n;var r=(t=e(t)).data("_gridstack_node");r||(r=this.grid.getNodeDataByDOMEl(t)),this.grid.removeNode(r,n),t.removeData("_gridstack_node"),this._updateContainerHeight(),n&&t.remove(),this._triggerChangeEvent(!0),this._triggerRemoveEvent()},l.prototype.removeAll=function(e){this.grid.nodes.forEach((function(t){this.removeWidget(t.el,e)}),this),this.grid.nodes=[],this._updateContainerHeight()},l.prototype.destroy=function(t){e(window).off("resize",this.onResizeHandler),this.disable(),void 0===t||t?this.container.remove():(this.removeAll(!1),this.container.removeData("gridstack")),i.removeStylesheet(this._stylesId),this.grid&&(this.grid=null)},l.prototype.resizable=function(t,n){var r=this;return(t=e(t)).each((function(t,i){var a=(i=e(i)).data("_gridstack_node");null!=a&&(a.noResize=!n,a.noResize||r._isOneColumnMode()&&!r.opts.disableOneColumnMode?r.dd.resizable(i,"disable"):r.dd.resizable(i,"enable"))})),this},l.prototype.movable=function(t,n){var r=this;return(t=e(t)).each((function(t,i){var a=(i=e(i)).data("_gridstack_node");null!=a&&(a.noMove=!n,a.noMove||r._isOneColumnMode()&&!r.opts.disableOneColumnMode?(r.dd.draggable(i,"disable"),i.removeClass("ui-draggable-handle")):(r.dd.draggable(i,"enable"),i.addClass("ui-draggable-handle")))})),this},l.prototype.enableMove=function(e,t){this.movable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableDrag=!e)},l.prototype.enableResize=function(e,t){this.resizable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableResize=!e)},l.prototype.disable=function(){this.movable(this.container.children("."+this.opts.itemClass),!1),this.resizable(this.container.children("."+this.opts.itemClass),!1),this.container.trigger("disable")},l.prototype.enable=function(){this.movable(this.container.children("."+this.opts.itemClass),!0),this.resizable(this.container.children("."+this.opts.itemClass),!0),this.container.trigger("enable")},l.prototype.locked=function(t,n){return(t=e(t)).each((function(t,r){var i=(r=e(r)).data("_gridstack_node");null!=i&&(i.locked=n||!1,r.attr("data-gs-locked",i.locked?"yes":null))})),this},l.prototype.maxHeight=function(t,n){return(t=e(t)).each((function(t,r){var i=(r=e(r)).data("_gridstack_node");null!=i&&(isNaN(n)||(i.maxHeight=n||!1,r.attr("data-gs-max-height",n)))})),this},l.prototype.minHeight=function(t,n){return(t=e(t)).each((function(t,r){var i=(r=e(r)).data("_gridstack_node");null!=i&&(isNaN(n)||(i.minHeight=n||!1,r.attr("data-gs-min-height",n)))})),this},l.prototype.maxWidth=function(t,n){return(t=e(t)).each((function(t,r){var i=(r=e(r)).data("_gridstack_node");null!=i&&(isNaN(n)||(i.maxWidth=n||!1,r.attr("data-gs-max-width",n)))})),this},l.prototype.minWidth=function(t,n){return(t=e(t)).each((function(t,r){var i=(r=e(r)).data("_gridstack_node");null!=i&&(isNaN(n)||(i.minWidth=n||!1,r.attr("data-gs-min-width",n)))})),this},l.prototype._updateElement=function(t,n){var r=(t=e(t).first()).data("_gridstack_node");if(null!=r){var i=this;i.grid.cleanNodes(),i.grid.beginUpdate(r),n.call(this,t,r),i._updateContainerHeight(),i._triggerChangeEvent(),i.grid.endUpdate()}},l.prototype.resize=function(e,t,n){this._updateElement(e,(function(e,r){t=null!=t?t:r.width,n=null!=n?n:r.height,this.grid.moveNode(r,r.x,r.y,t,n)}))},l.prototype.move=function(e,t,n){this._updateElement(e,(function(e,r){t=null!=t?t:r.x,n=null!=n?n:r.y,this.grid.moveNode(r,t,n,r.width,r.height)}))},l.prototype.update=function(e,t,n,r,i){this._updateElement(e,(function(e,a){t=null!=t?t:a.x,n=null!=n?n:a.y,r=null!=r?r:a.width,i=null!=i?i:a.height,this.grid.moveNode(a,t,n,r,i)}))},l.prototype.verticalMargin=function(e,t){if(void 0===e)return this.opts.verticalMargin;var n=i.parseHeight(e);this.opts.verticalMarginUnit===n.unit&&this.opts.height===n.height||(this.opts.verticalMarginUnit=n.unit,this.opts.verticalMargin=n.height,t||this._updateStyles())},l.prototype.cellHeight=function(e,t){if(void 0===e){if(this.opts.cellHeight)return this.opts.cellHeight;var n=this.container.children("."+this.opts.itemClass).first();return Math.ceil(n.outerHeight()/n.attr("data-gs-height"))}var r=i.parseHeight(e);this.opts.cellHeightUnit===r.unit&&this.opts.cellHeight===r.height||(this.opts.cellHeightUnit=r.unit,this.opts.cellHeight=r.height,t||this._updateStyles())},l.prototype.cellWidth=function(){return Math.round(this.container.outerWidth()/this.opts.width)},l.prototype.getCellFromPixel=function(e,t){var n=void 0!==t&&t?this.container.offset():this.container.position(),r=e.left-n.left,i=e.top-n.top,a=Math.floor(this.container.width()/this.opts.width),o=Math.floor(this.container.height()/parseInt(this.container.attr("data-gs-current-height")));return{x:Math.floor(r/a),y:Math.floor(i/o)}},l.prototype.batchUpdate=function(){this.grid.batchUpdate()},l.prototype.commit=function(){this.grid.commit(),this._updateContainerHeight()},l.prototype.isAreaEmpty=function(e,t,n,r){return this.grid.isAreaEmpty(e,t,n,r)},l.prototype.setStatic=function(e){this.opts.staticGrid=!0===e,this.enableMove(!e),this.enableResize(!e),this._setStaticClass()},l.prototype._setStaticClass=function(){var e="grid-stack-static";!0===this.opts.staticGrid?this.container.addClass(e):this.container.removeClass(e)},l.prototype._updateNodeWidths=function(e,t){this.grid._sortNodes(),this.grid.batchUpdate();for(var n={},r=0;r<this.grid.nodes.length;r++)n=this.grid.nodes[r],this.update(n.el,Math.round(n.x*t/e),void 0,Math.round(n.width*t/e),void 0);this.grid.commit()},l.prototype.setGridWidth=function(e,t){this.container.removeClass("grid-stack-"+this.opts.width),!0!==t&&this._updateNodeWidths(this.opts.width,e),this.opts.width=e,this.grid.width=e,this.container.addClass("grid-stack-"+e)},s.prototype.batch_update=n(s.prototype.batchUpdate),s.prototype._fix_collisions=n(s.prototype._fixCollisions,"_fix_collisions","_fixCollisions"),s.prototype.is_area_empty=n(s.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),s.prototype._sort_nodes=n(s.prototype._sortNodes,"_sort_nodes","_sortNodes"),s.prototype._pack_nodes=n(s.prototype._packNodes,"_pack_nodes","_packNodes"),s.prototype._prepare_node=n(s.prototype._prepareNode,"_prepare_node","_prepareNode"),s.prototype.clean_nodes=n(s.prototype.cleanNodes,"clean_nodes","cleanNodes"),s.prototype.get_dirty_nodes=n(s.prototype.getDirtyNodes,"get_dirty_nodes","getDirtyNodes"),s.prototype.add_node=n(s.prototype.addNode,"add_node","addNode, "),s.prototype.remove_node=n(s.prototype.removeNode,"remove_node","removeNode"),s.prototype.can_move_node=n(s.prototype.canMoveNode,"can_move_node","canMoveNode"),s.prototype.move_node=n(s.prototype.moveNode,"move_node","moveNode"),s.prototype.get_grid_height=n(s.prototype.getGridHeight,"get_grid_height","getGridHeight"),s.prototype.begin_update=n(s.prototype.beginUpdate,"begin_update","beginUpdate"),s.prototype.end_update=n(s.prototype.endUpdate,"end_update","endUpdate"),s.prototype.can_be_placed_with_respect_to_height=n(s.prototype.canBePlacedWithRespectToHeight,"can_be_placed_with_respect_to_height","canBePlacedWithRespectToHeight"),l.prototype._trigger_change_event=n(l.prototype._triggerChangeEvent,"_trigger_change_event","_triggerChangeEvent"),l.prototype._init_styles=n(l.prototype._initStyles,"_init_styles","_initStyles"),l.prototype._update_styles=n(l.prototype._updateStyles,"_update_styles","_updateStyles"),l.prototype._update_container_height=n(l.prototype._updateContainerHeight,"_update_container_height","_updateContainerHeight"),l.prototype._is_one_column_mode=n(l.prototype._isOneColumnMode,"_is_one_column_mode","_isOneColumnMode"),l.prototype._prepare_element=n(l.prototype._prepareElement,"_prepare_element","_prepareElement"),l.prototype.set_animation=n(l.prototype.setAnimation,"set_animation","setAnimation"),l.prototype.add_widget=n(l.prototype.addWidget,"add_widget","addWidget"),l.prototype.make_widget=n(l.prototype.makeWidget,"make_widget","makeWidget"),l.prototype.will_it_fit=n(l.prototype.willItFit,"will_it_fit","willItFit"),l.prototype.remove_widget=n(l.prototype.removeWidget,"remove_widget","removeWidget"),l.prototype.remove_all=n(l.prototype.removeAll,"remove_all","removeAll"),l.prototype.min_height=n(l.prototype.minHeight,"min_height","minHeight"),l.prototype.min_width=n(l.prototype.minWidth,"min_width","minWidth"),l.prototype._update_element=n(l.prototype._updateElement,"_update_element","_updateElement"),l.prototype.cell_height=n(l.prototype.cellHeight,"cell_height","cellHeight"),l.prototype.cell_width=n(l.prototype.cellWidth,"cell_width","cellWidth"),l.prototype.get_cell_from_pixel=n(l.prototype.getCellFromPixel,"get_cell_from_pixel","getCellFromPixel"),l.prototype.batch_update=n(l.prototype.batchUpdate,"batch_update","batchUpdate"),l.prototype.is_area_empty=n(l.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),l.prototype.set_static=n(l.prototype.setStatic,"set_static","setStatic"),l.prototype._set_static_class=n(l.prototype._setStaticClass,"_set_static_class","_setStaticClass"),t.GridStackUI=l,t.GridStackUI.Utils=i,t.GridStackUI.Engine=s,t.GridStackUI.GridStackDragDropPlugin=a,e.fn.gridstack=function(t){return this.each((function(){var n=e(this);n.data("gridstack")||n.data("gridstack",new l(this,t))}))},t.GridStackUI})),
/**
 * gridstack.js 1.0.0-dev
 * http://troolee.github.io/gridstack.js/
 * (c) 2014-2017 Pavel Reznikov, Dylan Weiss
 * gridstack.js may be freely distributed under the MIT license.
 * @preserve
*/
function(e){if("function"==typeof define&&define.amd)define(["jquery","gridstack","exports","jquery-ui/data","jquery-ui/disable-selection","jquery-ui/focusable","jquery-ui/form","jquery-ui/ie","jquery-ui/keycode","jquery-ui/labels","jquery-ui/jquery-1-7","jquery-ui/plugin","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/scroll-parent","jquery-ui/tabbable","jquery-ui/unique-id","jquery-ui/version","jquery-ui/widget","jquery-ui/widgets/mouse","jquery-ui/widgets/draggable","jquery-ui/widgets/droppable","jquery-ui/widgets/resizable"],e);else if("undefined"!=typeof exports){try{jQuery=require("jquery")}catch(e){}try{gridstack=require("gridstack")}catch(e){}e(jQuery,gridstack.GridStackUI,exports)}else e(jQuery,GridStackUI,window)}((function(e,t,n){function r(e){t.GridStackDragDropPlugin.call(this,e)}return t.GridStackDragDropPlugin.registerPlugin(r),r.prototype=Object.create(t.GridStackDragDropPlugin.prototype),r.prototype.constructor=r,r.prototype.resizable=function(t,n){if(t=e(t),"disable"===n||"enable"===n)t.resizable(n);else if("option"===n){var r=arguments[2],i=arguments[3];t.resizable(n,r,i)}else{var a=t.data("gs-resize-handles")?t.data("gs-resize-handles"):this.grid.opts.resizable.handles;t.resizable(e.extend({},this.grid.opts.resizable,{handles:a},{start:n.start||function(){},stop:n.stop||function(){},resize:n.resize||function(){}}))}return this},r.prototype.draggable=function(t,n){return t=e(t),"disable"===n||"enable"===n?t.draggable(n):t.draggable(e.extend({},this.grid.opts.draggable,{containment:this.grid.opts.isNested?this.grid.container.parent():null,start:n.start||function(){},stop:n.stop||function(){},drag:n.drag||function(){}})),this},r.prototype.droppable=function(t,n){return(t=e(t)).droppable(n),this},r.prototype.isDroppable=function(t,n){return t=e(t),Boolean(t.data("droppable"))},r.prototype.on=function(t,n,r){return e(t).on(n,r),this},n.JQueryUIGridStackDragDropPlugin=r,r})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e:e(jQuery)}((function(e,t){"use strict";var n={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",belongsTo:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],i=!!/msie/i.exec(window.navigator.userAgent),a=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),o=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(i)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-wrap'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>",'<div class="sp-mt-inputs">','<div class="sp-alpha"><div class="sp-alpha-inner"><div class="sp-alpha-handle"></div></div></div>','<input type="text" class="sp-input-rgb sp-input">','<input type="text" class="sp-input-hsl sp-input">','<input type="text" class="sp-input-hex sp-input">','<div class="tvr-input-wrap input-var-wrap"><span class="color-var-label" title="'+TvrLang.color_var_label+'">VAR</span><input type="text" class="sp-input sp-input-var combobox has-suggestions" rel="color_extra"><span class="combo-arrow combo-dots"></span><span class="mt-clear-field"></span></div>',"</div>","</div>","</div>"].join("")}();function l(t,n,r,i){for(var o=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var d=c.toString(i.preferredFormat||"rgb"),p=a?"background-color:"+c.toRgbString():"filter:"+c.toFilter();o.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+p+';" /></span></span>')}else{o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+r+"'>"+o.join("")+"</div>"}function c(c,u){var h,_,g,m,v=function(t,r){var i=e.extend({},n,t);return i.callbacks={move:d(i.move,r),change:d(i.change,r),show:d(i.show,r),hide:d(i.hide,r),beforeShow:d(i.beforeShow,r)},i}(u,c),y=v.flat,b=v.showSelectionPalette,w=v.localStorageKey,T=v.theme,x=v.callbacks,k=(h=$e,_=10,function(){var e=this,t=arguments,n=function(){m=null,h.apply(e,t)};g&&clearTimeout(m),!g&&m||(m=setTimeout(n,_))}),S=!1,C=!1,M=0,A=0,O=0,E=0,P=0,D=0,j=0,I=0,L=0,R=0,N=1,F=[],q=[],U={},z=v.selectionPalette.slice(0),B=v.maxSelectionSize,$="sp-dragging",H=null,V=c.ownerDocument,W=(V.body,e(c)),G=!1,K=e(s,V).addClass(T),Q=K.find(".sp-picker-container"),X=K.find(".sp-color"),Y=K.find(".sp-dragger"),J=K.find(".sp-hue"),Z=K.find(".sp-slider"),ee=K.find(".sp-alpha-inner"),te=K.find(".sp-alpha"),ne=K.find(".sp-alpha-handle"),re=K.find(".sp-input:not(.sp-input-opacity)"),ie=K.find(".sp-palette"),ae=K.find(".sp-initial"),oe=K.find(".sp-cancel"),se=K.find(".sp-clear"),le=K.find(".sp-choose"),ce=K.find(".sp-palette-toggle"),ue=W.is("input"),de=ue&&"color"===W.attr("type")&&f(),pe=ue&&!y,fe=pe?e(o).addClass(T).addClass(v.className).addClass(v.replacerClassName):e([]),he=pe?fe:W,_e=fe.find(".sp-preview-inner"),ge=v.color||ue&&W.val(),me=!1,ve=v.preferredFormat,ye=ve,be=!v.showButtons||v.clickoutFiresChange,we=!ge,Te=v.allowEmpty&&!de;function xe(){if(v.showPaletteOnly&&(v.showPalette=!0),ce.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),v.palette){F=v.palette.slice(0),q=Array.isArray(F[0])?F:[F],U={};for(var e=0;e<q.length;e++)for(var t=0;t<q[e].length;t++){var n=tinycolor(q[e][t]).toRgbString();U[n]=!0}}K.toggleClass("sp-flat",y),K.toggleClass("sp-input-disabled",!v.showInput),K.toggleClass("sp-alpha-enabled",v.showAlpha),K.toggleClass("sp-clear-enabled",Te),K.toggleClass("sp-buttons-disabled",!v.showButtons),K.toggleClass("sp-palette-buttons-disabled",!v.togglePaletteOnly),K.toggleClass("sp-palette-disabled",!v.showPalette),K.toggleClass("sp-palette-only",v.showPaletteOnly),K.toggleClass("sp-initial-disabled",!v.showInitial),K.addClass(v.className).addClass(v.containerClassName),K.data("picker-belongs-to",v.belongsTo),K.attr("id","picker-belongs-to-"+v.belongsTo),$e()}function ke(){if(w&&window.localStorage){try{var t=window.localStorage[w].split(",#");t.length>1&&(delete window.localStorage[w],e.each(t,(function(e,t){Se(t)})))}catch(e){}try{z=window.localStorage[w].split(";")}catch(e){}}}function Se(t){if(b){var n=tinycolor(t).toRgbString();if(!U[n]&&-1===e.inArray(n,z))for(z.push(n);z.length>B;)z.shift();if(w&&window.localStorage)try{window.localStorage[w]=z.join(";")}catch(e){}}}function Ce(){var t=Fe(),n=e.map(q,(function(e,n){return l(e,t,"sp-palette-row sp-palette-row-"+n,v)}));ke(),z&&n.push(l(function(){var e=[];if(v.showPalette)for(var t=0;t<z.length;t++){var n=tinycolor(z[t]).toRgbString();U[n]||e.push(z[t])}return e.reverse().slice(0,v.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",v)),ie.html(n.join(""))}function Me(){if(v.showInitial){var e=me,t=Fe();ae.html(l([e,t],t,"sp-palette-row-initial",v))}}function Ae(){(A<=0||M<=0||E<=0)&&$e(),C=!0,K.addClass($),H=null,W.trigger("dragstart.spectrum",[Fe()])}function Oe(){C=!1,K.removeClass($),W.trigger("dragstop.spectrum",[Fe()])}function Ee(e){var t=re.val();if(null!==t&&""!==t||!Te){var n=tinycolor(t);n.isValid()?(Ne(n),Be(!0)):re.addClass("sp-validation-error")}else Ne(null),Be(!0)}function Pe(){S?Le():De()}function De(){var t=e.Event("beforeShow.spectrum");S?$e():(W.trigger(t,[Fe()]),!1===x.beforeShow(Fe())||t.isDefaultPrevented()||(!function(){for(var e=0;e<r.length;e++)r[e]&&r[e].hide()}(),S=!0,e(V).on("keydown.spectrum",je),e(window).on("resize.spectrum",k),fe.addClass("sp-active"),K.removeClass("sp-hidden"),$e(),Ue(),me=Fe(),Me(),x.show(me),W.trigger("show.spectrum",[me])))}function je(e){27===e.keyCode&&Le()}function Ie(e){2!=e.button&&(C||(be?Be(!0):Re(),Le()))}function Le(){S&&!y&&(S=!1,e(V).unbind("keydown.spectrum",je),e(V).unbind("click.spectrum",Ie),e(window).unbind("resize.spectrum",k),fe.removeClass("sp-active"),K.addClass("sp-hidden"),x.hide(Fe()),W.trigger("hide.spectrum",[Fe()]))}function Re(){Ne(me,!0)}function Ne(e,t){var n,r;tinycolor.equals(e,Fe())?Ue():(!e&&Te?we=!0:(we=!1,r=(n=tinycolor(e)).toHsv(),I=r.h%360/360,L=r.s,R=r.v,N=r.a),Ue(),n&&n.isValid()&&!t&&(ye=ve||n.getFormat()))}function Fe(e){return e=e||{},Te&&we?null:tinycolor.fromRatio({h:I,s:L,v:R,a:Math.round(100*N)/100},{format:e.format||ye})}function qe(){Ue(),x.move(Fe()),W.trigger("move.spectrum",[Fe()])}function Ue(){re.removeClass("sp-validation-error"),ze();var e=tinycolor.fromRatio({h:I,s:1,v:1});X.css("background-color",e.toHexString());var t=ye;N<1&&(0!==N||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=Fe({format:t}),r="";if(_e.removeClass("sp-clear-display"),_e.css("background-color","transparent"),!n&&Te)_e.addClass("sp-clear-display");else{var o=n.toHexString(),s=n.toRgbString();if(a||1===n.alpha?_e.css("background-color",s):(_e.css("background-color","transparent"),_e.css("filter",n.toFilter())),v.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+o+")";i?ee.css("filter",tinycolor(c).toFilter({gradientType:1},o)):(ee.css("background","-webkit-"+u),ee.css("background","-moz-"+u),ee.css("background","-ms-"+u),ee.css("background","linear-gradient(to right, "+c+", "+o+")"))}r=n.toString(t)}v.showInput&&re.val(r),v.showPalette&&Ce(),Me()}function ze(){var e=L,t=R;if(Te&&we)ne.hide(),Z.hide(),Y.hide();else{ne.show(),Z.show(),Y.show();var n=e*M,r=A-t*A;n=Math.max(-O,Math.min(M-O,n-O)),r=Math.max(-O,Math.min(A-O,r-O)),Y.css({top:r+2+"px",left:n+2+"px"});var i=N*P;ne.css({left:i-D/2+"px"});var a=I*E;Z.css({top:a-j+"px"})}}function Be(e){var t=Fe(),n="",r=!tinycolor.equals(t,me);t&&(n=t.toString(ye),Se(t)),ue&&W.val(n),e&&r&&(x.change(t),W.trigger("change",[t]))}function $e(){M=X.width(),A=X.height(),O=Y.height(),J.width(),E=J.height(),j=Z.height(),P=te.width(),D=ne.width(),y||(K.css("position","absolute"),v.offset?K.offset(v.offset):K.offset(function(t,n){var r=0,i=t.outerWidth(),a=t.outerHeight(),o=n.outerHeight(),s=t[0].ownerDocument,l=s.documentElement,c=l.clientWidth+e(s).scrollLeft(),u=l.clientHeight+e(s).scrollTop(),d=n.offset();return d.top+=o,d.left-=Math.min(d.left,d.left+i>c&&c>i?Math.abs(d.left+i-c):0),d.top-=Math.min(d.top,d.top+a>u&&u>a?Math.abs(a+o-r):r),d}(K,he))),ze(),v.showPalette&&Ce(),W.trigger("reflow.spectrum")}function He(){Le(),G=!0,W.attr("disabled",!0),he.addClass("sp-disabled")}!function(){if(i&&K.find("*:not(input)").attr("unselectable","on"),xe(),pe&&W.after(fe).hide(),Te||se.hide(),y)W.after(K).hide();else{var t="parent"===v.appendTo?W.parent():e(v.appendTo);1!==t.length&&(t=e("body")),t.append(K)}function n(t){return t.data&&t.data.ignore?(Ne(e(t.target).closest(".sp-thumb-el").data("color")),qe()):(Ne(e(t.target).closest(".sp-thumb-el").data("color")),qe(),Be(!0),v.hideAfterPaletteSelect&&Le()),!1}ke(),he.on("click.spectrum touchstart.spectrum",(function(t){G||Pe(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(W.is(":disabled")||!0===v.disabled)&&He(),K.on("click",(function(t){e(t.target).closest(".tvr-input-wrap, .ui-autocomplete").length||function(e){e.stopPropagation()}(t)})),re.on("change",Ee),re.on("keydown",(function(e){13==e.keyCode&&Ee()})),oe.text(v.cancelText),oe.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Re(),Le()})),se.attr("title",v.clearText),se.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),TvrMT.TvrUi.setColorOnHide="",we=!0,qe(),y&&Be(!0)})),le.text(v.chooseText),le.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),i&&re.is(":focus")&&re.trigger("change"),re.hasClass("sp-validation-error")||(Be(!0),Le())})),ce.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),ce.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),v.showPaletteOnly=!v.showPaletteOnly,v.showPaletteOnly||y||K.css("left","-="+(Q.outerWidth(!0)+5)),xe()})),p(te,(function(e,t,n){N=e/P,we=!1,n.shiftKey&&(N=Math.round(10*N)/10),qe()}),Ae,Oe),p(J,(function(e,t){I=parseFloat(t/E),we=!1,v.showAlpha||(N=1),qe()}),Ae,Oe),p(X,(function(e,t,n){if(n.shiftKey){if(!H){var r=L*M,i=A-R*A,a=Math.abs(e-r)>Math.abs(t-i);H=a?"x":"y"}}else H=null;var o=!H||"y"===H;(!H||"x"===H)&&(L=parseFloat(e/M)),o&&(R=parseFloat((A-t)/A)),we=!1,v.showAlpha||(N=1),qe()}),Ae,Oe),ge?(Ne(ge),Ue(),ye=ve||tinycolor(ge).format,Se(ge)):Ue(),y&&De();var r=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ie.on(r,".sp-thumb-el",n),ae.on(r,".sp-thumb-el:nth-child(1)",{ignore:!0},n)}();var Ve={show:De,hide:Le,toggle:Pe,reflow:$e,option:function(n,r){return n===t?e.extend({},v):r===t?v[n]:(v[n]=r,void xe())},enable:function(){G=!1,W.attr("disabled",!1),he.removeClass("sp-disabled")},disable:He,offset:function(e){v.offset=e,$e()},set:function(e){Ne(e),Be()},get:Fe,destroy:function(){W.show(),he.unbind("click.spectrum touchstart.spectrum"),K.remove(),fe.remove(),r[Ve.id]=null},container:K};return Ve.id=r.push(Ve)-1,Ve}function u(){}function d(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function p(t,n,r,a){n=n||function(){},r=r||function(){},a=a||function(){};var o=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,p={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function h(e){if(s){if(i&&o.documentMode<9&&!e.button)return _();var r=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],a=r&&r.pageX||e.pageX,p=r&&r.pageY||e.pageY,h=Math.max(0,Math.min(a-l.left,u)),g=Math.max(0,Math.min(p-l.top,c));d&&f(e),n.apply(t,[h,g,e])}}function _(){s&&(e(o).off(p),e(o.body).removeClass("sp-dragging"),setTimeout((function(){a.apply(t,arguments)}),0)),s=!1}p.selectstart=f,p.dragstart=f,p["touchmove mousemove"]=h,p["touchend mouseup"]=_,e(t).on("touchstart mousedown",(function(n){(n.which?3==n.which:2==n.button)||s||!1!==r.apply(t,arguments)&&(s=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(o).on(p),e(o.body).addClass("sp-dragging"),h(n),f(n))}))}function f(){return e.fn.mtspectrum.inputTypeColorSupport()}var h="spectrum.id";e.fn.mtspectrum=function(t,n){if("string"==typeof t){var i=this,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=r[e(this).data(h)];if(n){var o=n[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=n.get():"container"==t?i=n.container:"option"==t?i=n.option.apply(n,a):"destroy"==t?(n.destroy(),e(this).removeData(h)):o.apply(n,a)}})),i}return this.mtspectrum("destroy").each((function(){var n=c(this,e.extend({},t,e(this).data()));e(this).data(h,n.id)}))},e.fn.mtspectrum.load=!0,e.fn.mtspectrum.loadOpts={},e.fn.mtspectrum.draggable=p,e.fn.mtspectrum.defaults=n,e.fn.mtspectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var n=e("<input type='color' value='!' />")[0];t._cachedResult="color"===n.type&&"!"!==n.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.mtspectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!f()&&t.mtspectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,n=0,r=Math,i=r.round,a=r.min,o=r.max,s=r.random,l=function(s,c){if(c=c||{},(s=s||"")instanceof l)return s;if(!(this instanceof l))return new l(s,c);var u=function(n){var i={r:0,g:0,b:0},s=1,l=!1,c=!1;"string"==typeof n&&(n=function(n){n=n.replace(e,"").replace(t,"").toLowerCase();var r,i=!1;if(C[n])n=C[n],i=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(r=F.rgb.exec(n))return{r:r[1],g:r[2],b:r[3]};if(r=F.rgba.exec(n))return{r:r[1],g:r[2],b:r[3],a:r[4]};if(r=F.hsl.exec(n))return{h:r[1],s:r[2],l:r[3]};if(r=F.hsla.exec(n))return{h:r[1],s:r[2],l:r[3],a:r[4]};if(r=F.hsv.exec(n))return{h:r[1],s:r[2],v:r[3]};if(r=F.hsva.exec(n))return{h:r[1],s:r[2],v:r[3],a:r[4]};if(r=F.hex8.exec(n))return{a:I(r[1]),r:P(r[2]),g:P(r[3]),b:P(r[4]),format:i?"name":"hex8"};if(r=F.hex6.exec(n))return{r:P(r[1]),g:P(r[2]),b:P(r[3]),format:i?"name":"hex"};if(r=F.hex3.exec(n))return{r:P(r[1]+""+r[1]),g:P(r[2]+""+r[2]),b:P(r[3]+""+r[3]),format:i?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(u=n.r,d=n.g,p=n.b,i={r:255*O(u,255),g:255*O(d,255),b:255*O(p,255)},l=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=j(n.s),n.v=j(n.v),i=function(e,t,n){e=6*O(e,360),t=O(t,100),n=O(n,100);var i=r.floor(e),a=e-i,o=n*(1-t),s=n*(1-a*t),l=n*(1-(1-a)*t),c=i%6,u=[n,s,o,o,l,n][c],d=[l,n,n,s,o,o][c],p=[o,o,l,n,n,s][c];return{r:255*u,g:255*d,b:255*p}}(n.h,n.s,n.v),l=!0,c="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=j(n.s),n.l=j(n.l),i=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=O(e,360),t=O(t,100),n=O(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(n.h,n.s,n.l),l=!0,c="hsl"),n.hasOwnProperty("a")&&(s=n.a));var u,d,p;return s=A(s),{ok:l,format:n.format||c,r:a(255,o(i.r,0)),g:a(255,o(i.g,0)),b:a(255,o(i.b,0)),a:s}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=i(100*this._a)/100,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=u.ok,this._tc_id=n++};function c(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var r,i,s=o(e,t,n),l=a(e,t,n),c=(s+l)/2;if(s==l)r=i=0;else{var u=s-l;switch(i=c>.5?u/(2-s-l):u/(s+l),s){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:c}}function u(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var r,i,s=o(e,t,n),l=a(e,t,n),c=s,u=s-l;if(i=0===s?0:u/s,s==l)r=0;else{switch(s){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:c}}function d(e,t,n,r){var a=[D(i(e).toString(16)),D(i(t).toString(16)),D(i(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function p(e,t,n,r){var a;return[D((a=r,Math.round(255*parseFloat(a)).toString(16))),D(i(e).toString(16)),D(i(t).toString(16)),D(i(n).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=E(n.s),l(n)}function h(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=E(n.s),l(n)}function _(e){return l(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=E(n.l),l(n)}function m(e,t){t=0===t?0:t||10;var n=l(e).toRgb();return n.r=o(0,a(255,n.r-i(-t/100*255))),n.g=o(0,a(255,n.g-i(-t/100*255))),n.b=o(0,a(255,n.b-i(-t/100*255))),l(n)}function v(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=E(n.l),l(n)}function y(e,t){var n=l(e).toHsl(),r=(i(n.h)+t)%360;return n.h=r<0?360+r:r,l(n)}function b(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function w(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+120)%360,s:t.s,l:t.l}),l({h:(n+240)%360,s:t.s,l:t.l})]}function T(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+90)%360,s:t.s,l:t.l}),l({h:(n+180)%360,s:t.s,l:t.l}),l({h:(n+270)%360,s:t.s,l:t.l})]}function x(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function k(e,t,n){t=t||6,n=n||30;var r=l(e).toHsl(),i=360/n,a=[l(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(l(r));return a}function S(e,t){t=t||6;for(var n=l(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(l({h:r,s:i,v:a})),a=(a+s)%1;return o}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=A(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*O(this._r,255))+"%",g:i(100*O(this._g,255))+"%",b:i(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*O(this._r,255))+"%, "+i(100*O(this._g,255))+"%, "+i(100*O(this._b,255))+"%)":"rgba("+i(100*O(this._r,255))+"%, "+i(100*O(this._g,255))+"%, "+i(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";e&&(n=l(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,n){n=0===n?0:n||50;var r,i=l(e).toRgb(),a=l(t).toRgb(),o=n/100,s=2*o-1,c=a.a-i.a,u=1-(r=((r=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:a.r*r+i.r*u,g:a.g*r+i.g*u,b:a.b*r+i.b*u,a:a.a*o+i.a*(1-o)};return l(d)},l.readability=function(e,t){var n=l(e),r=l(t),i=n.toRgb(),a=r.toRgb(),o=n.getBrightness(),s=r.getBrightness(),c=Math.max(i.r,a.r)-Math.min(i.r,a.r)+Math.max(i.g,a.g)-Math.min(i.g,a.g)+Math.max(i.b,a.b)-Math.min(i.b,a.b);return{brightness:Math.abs(o-s),color:c}},l.isReadable=function(e,t){var n=l.readability(e,t);return n.brightness>125&&n.color>500},l.mostReadable=function(e,t){for(var n=null,r=0,i=!1,a=0;a<t.length;a++){var o=l.readability(e,t[a]),s=o.brightness>125&&o.color>500,c=o.brightness/125*3+o.color/500;(s&&!i||s&&i&&c>r||!s&&!i&&c>r)&&(i=s,r=c,n=l(t[a]))}return n};var C=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=l.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(C);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function O(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=a(t,o(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return a(1,o(0,e))}function P(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function I(e){return P(e)/255}var L,R,N,F=(R="[\\s|\\(]+("+(L="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",N="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",{rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+N),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e((function(){e.fn.mtspectrum.load&&e.fn.mtspectrum.processNativeColorInputs()}))})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return"string"==typeof e}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return void 0===e}function s(e){return"object"==typeof e}function l(e){return!1!==e}function c(){return"undefined"!=typeof window}function u(e){return i(e)||r(e)}function d(e){return(me=ct(e,et))&&ln}function p(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")}function f(e,t){return!t&&console.warn(e)}function h(e,t){return e&&(et[e]=t)&&me&&(me[e]=t)||et}function _(){return 0}function g(e){var t,n,r=e[0];if(s(r)||i(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=st.length;n--&&!st[n].targetTest(r););t=st[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Pt(e[n],t)))||e.splice(n,1);return e}function m(e){return e._gsap||g(ht(e))[0]._gsap}function v(e,t){var n=e[t];return i(n)?e[t]():o(n)&&e.getAttribute(t)||n}function y(e,t){return(e=e.split(",")).forEach(t)||e}function b(e){return Math.round(1e5*e)/1e5||0}function w(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n}function T(e,t,n){var r,i=a(e[1]),o=(i?2:1)+(t<2?0:1),s=e[o];if(i&&(s.duration=e[1]),s.parent=n,t){for(r=s;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=l(n.vars.inherit)&&n.parent;s.immediateRender=l(r.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return s}function x(){var e,t,n=nt.length,r=nt.slice(0);for(rt={},e=nt.length=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)}function k(e,t,n,r){nt.length&&x(),e.render(t,n,r),nt.length&&x()}function S(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Ze).length<2?t:e}function C(e){return e}function M(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}function A(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])}function O(e,t){for(var n in t)e[n]=s(t[n])?O(e[n]||(e[n]={}),t[n]):t[n];return e}function E(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r}function P(e){var t=e.parent||fe,n=e.keyframes?A:M;if(l(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e}function D(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null}function j(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0}function I(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e}function L(e){return e._repeat?ut(e._tTime,e=e.duration()+e._rDelay)*e:0}function R(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)}function N(e){return e._end=b(e._start+(e._tDur/Math.abs(e._ts||e._rts||qe)||0))}function F(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=R(e.rawTime(),t),(!t._dur||pt(0,t.totalDuration(),n)-t._tTime>qe)&&t.render(n,!0)),I(e)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;e._zTime=-qe}}function q(e,t,n,r){return t.parent&&j(t),t._start=b(n+t._delay),t._end=b(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,r||F(e,t),e}function U(e,t){return(et.ScrollTrigger||p("scrollTrigger",t))&&et.ScrollTrigger.create(t,e)}function z(e,t,n,r){return Ft(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&ye!==wt.frame?(nt.push(e),e._lazy=[t,r],1):void 0:1}function B(e,t,n){var r=e._repeat,i=b(t)||0;return e._dur=i,e._tDur=r?r<0?1e10:b(i*(r+1)+e._rDelay*r):i,e._time>i&&(e._time=i,e._tTime=Math.min(e._tTime,e._tDur)),n||I(e.parent),e.parent&&N(e),e}function $(e){return e instanceof It?I(e):B(e,e._dur)}function H(e,t){var n,i,a=e.labels,o=e._recent||dt,s=e.duration()>=Fe?o.endTime(!1):e._dur;return r(t)&&(isNaN(t)||t in a)?"<"===(n=t.charAt(0))||">"===n?("<"===n?o._start:o.endTime(0<=o._repeat))+(parseFloat(t.substr(1))||0):(n=t.indexOf("="))<0?(t in a||(a[t]=s),a[t]):(i=+(t.charAt(n-1)+t.substr(n+1)),1<n?H(e,t.substr(0,n-1))+i:s+i):null==t?s:+t}function V(e,t){return e||0===e?t(e):t}function W(e){return(e+"").substr((parseFloat(e)+"").length)}function G(e,t){return e&&s(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&s(e[0]))&&!e.nodeType&&e!==he}function K(e){return e.sort((function(){return.5-Math.random()}))}function Q(e){if(i(e))return e;var t=s(e)?e:{each:e},n=Mt(t.ease),a=t.from||0,o=parseFloat(t.base)||0,l={},c=0<a&&a<1,u=isNaN(a)||c,d=t.axis,p=a,f=a;return r(a)?p=f={center:.5,edges:.5,end:1}[a]||0:!c&&u&&(p=a[0],f=a[1]),function(e,r,i){var s,c,h,_,g,m,v,y,w,T=(i||t).length,x=l[T];if(!x){if(!(w="auto"===t.grid?0:(t.grid||[1,Fe])[1])){for(v=-Fe;v<(v=i[w++].getBoundingClientRect().left)&&w<T;);w--}for(x=l[T]=[],s=u?Math.min(w,T)*p-.5:a%w,c=u?T*f/w-.5:a/w|0,y=Fe,m=v=0;m<T;m++)h=m%w-s,_=c-(m/w|0),x[m]=g=d?Math.abs("y"===d?_:h):$e(h*h+_*_),v<g&&(v=g),g<y&&(y=g);"random"===a&&K(x),x.max=v-y,x.min=y,x.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(T<w?T-1:d?"y"===d?T/w:w:Math.max(w,T/w))||0)*("edges"===a?-1:1),x.b=T<0?o-T:o,x.u=W(t.amount||t.each)||0,n=n&&T<0?Ct(n):n}return T=(x[e]-x.min)/x.max||0,b(x.b+(n?n(T):T)*x.v)+x.u}}function X(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return Math.floor(Math.round(parseFloat(n)/e)*e*t)/t+(a(n)?0:W(n))}}function Y(e,t){var n,r,o=We(e);return!o&&s(e)&&(n=o=e.radius||Fe,e.values?(e=ht(e.values),(r=!a(e[0]))&&(n*=n)):e=X(e.increment)),V(t,o?i(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,s=parseFloat(r?t.x:t),l=parseFloat(r?t.y:0),c=Fe,u=0,d=e.length;d--;)(i=r?(i=e[d].x-s)*i+(o=e[d].y-l)*o:Math.abs(e[d]-s))<c&&(c=i,u=d);return u=!n||c<=n?e[u]:t,r||u===t||a(t)?u:u+W(t)}:X(e))}function J(e,t,n,r){return V(We(e)?!t:!0===n?!!(n=0):!r,(function(){return We(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e+Math.random()*(t-e))/n)*n*r)/r}))}function Z(e,t,n){return V(n,(function(n){return e[~~t(n)]}))}function ee(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Ze:Ge),o+=e.substr(a,t-a)+J(i?n:+n[0],+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)}function te(e,t,n){var r,i,a,o=e.labels,s=Fe;for(r in o)(i=o[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a}function ne(e){return j(e),e.progress()<1&&gt(e,"onInterrupt"),e}function re(e,t,n){return(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*mt+.5|0}function ie(e,t,n){var r,i,o,s,l,c,u,d,p,f,h=e?a(e)?[e>>16,e>>8&mt,e&mt]:0:vt.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),vt[e])h=vt[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(r=e.charAt(1))+r+(i=e.charAt(2))+i+(o=e.charAt(3))+o),h=[(e=parseInt(e.substr(1),16))>>16,e>>8&mt,e&mt];else if("hsl"===e.substr(0,3))if(h=f=e.match(Ge),t){if(~e.indexOf("="))return h=e.match(Ke),n&&h.length<4&&(h[3]=1),h}else s=+h[0]%360/360,l=h[1]/100,r=2*(c=h[2]/100)-(i=c<=.5?c*(l+1):c+l-c*l),3<h.length&&(h[3]*=1),h[0]=re(s+1/3,r,i),h[1]=re(s,r,i),h[2]=re(s-1/3,r,i);else h=e.match(Ge)||vt.transparent;h=h.map(Number)}return t&&!f&&(r=h[0]/mt,i=h[1]/mt,o=h[2]/mt,c=((u=Math.max(r,i,o))+(d=Math.min(r,i,o)))/2,u===d?s=l=0:(p=u-d,l=.5<c?p/(2-u-d):p/(u+d),s=u===r?(i-o)/p+(i<o?6:0):u===i?(o-r)/p+2:(r-i)/p+4,s*=60),h[0]=~~(s+.5),h[1]=~~(100*l+.5),h[2]=~~(100*c+.5)),n&&h.length<4&&(h[3]=1),h}function ae(e){var t=[],n=[],r=-1;return e.split(yt).forEach((function(e){var i=e.match(Qe)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t}function oe(e,t,n){var r,i,a,o,s="",l=(e+s).match(yt),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=ie(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=ae(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(yt,"1").split(Qe)).length-1;u<o;u++)s+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(yt)).length-1;u<o;u++)s+=i[u]+l[u];return s+i[o]}function se(e){var t,n=e.join(" ");if(yt.lastIndex=0,yt.test(n))return t=bt.test(n),e[1]=oe(e[1],t),e[0]=oe(e[0],t,ae(e[1])),!0}function le(e,t){for(var n,r=e._first;r;)r instanceof It?le(r,t):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===t||(r.timeline?le(r.timeline,t):(n=r._ease,r._ease=r._yEase,r._yEase=n,r._yoyo=t)),r=r._next}function ce(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return y(e,(function(e){for(var t in xt[e]=et[e]=a,xt[i=e.toLowerCase()]=n,a)xt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=xt[e+"."+t]=a[t]})),a}function ue(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function de(e,t,n){function r(e){return 1===e?1:i*Math.pow(2,-10*e)*Ve((e-o)*a)+1}var i=1<=t?t:1,a=(n||(e?.3:.45))/(t<1?t:1),o=a/Ue*(Math.asin(1/i)||0),s="out"===e?r:"in"===e?function(e){return 1-r(1-e)}:ue(r);return a=Ue/a,s.config=function(t,n){return de(e,t,n)},s}function pe(e,t){function n(e){return e?--e*e*((t+1)*e+t)+1:0}void 0===t&&(t=1.70158);var r="out"===e?n:"in"===e?function(e){return 1-n(1-e)}:ue(n);return r.config=function(t){return pe(e,t)},r}var fe,he,_e,ge,me,ve,ye,be,we,Te,xe,ke,Se,Ce,Me,Ae,Oe,Ee,Pe,De,je,Ie,Le,Re={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ne={duration:.5,overwrite:!1,delay:0},Fe=1e8,qe=1/Fe,Ue=2*Math.PI,ze=Ue/4,Be=0,$e=Math.sqrt,He=Math.cos,Ve=Math.sin,We=Array.isArray,Ge=/(?:-?\.?\d|\.)+/gi,Ke=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,Qe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Xe=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,Ye=/\(([^()]+)\)/i,Je=/[+-]=-?[\.\d]+/,Ze=/[#\-+.]*\b[a-z\d-=+%.]+/gi,et={},tt={},nt=[],rt={},it={},at={},ot=30,st=[],lt="",ct=function(e,t){for(var n in t)e[n]=t[n];return e},ut=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},dt={_start:0,endTime:_},pt=function(e,t,n){return n<e?e:t<n?t:n},ft=[].slice,ht=function(e,t){return!r(e)||t||!_e&&Tt()?We(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){return r(e)&&!t||G(e,1)?n.push.apply(n,ht(e)):n.push(e)}))||n}(e,t):G(e)?ft.call(e,0):e?[e]:[]:ft.call(ge.querySelectorAll(e),0)},_t=function(e,t,n,r,i){var a=t-e,o=r-n;return V(i,(function(t){return n+((t-e)/a*o||0)}))},gt=function(e,t,n){var r,i,a=e.vars,o=a[t];if(o)return r=a[t+"Params"],i=a.callbackScope||e,n&&nt.length&&x(),r?o.apply(i,r):o.call(i)},mt=255,vt={aqua:[0,mt,mt],lime:[0,mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,mt],navy:[0,0,128],white:[mt,mt,mt],olive:[128,128,0],yellow:[mt,mt,0],orange:[mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[mt,0,0],pink:[mt,192,203],cyan:[0,mt,mt],transparent:[mt,mt,mt,0]},yt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in vt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),bt=/hsl[a]?\(/,wt=(Ce=Date.now,Me=500,Ae=33,Oe=Ce(),Ee=Oe,De=Pe=1/240,Se={time:0,frame:0,tick:function(){At(!0)},wake:function(){ve&&(!_e&&c()&&(he=_e=window,ge=he.document||{},et.gsap=ln,(he.gsapVersions||(he.gsapVersions=[])).push(ln.version),d(me||he.GreenSockGlobals||!he.gsap&&he||{}),ke=he.requestAnimationFrame),Te&&Se.sleep(),xe=ke||function(e){return setTimeout(e,1e3*(De-Se.time)+1|0)},we=1,At(2))},sleep:function(){(ke?he.cancelAnimationFrame:clearTimeout)(Te),we=0,xe=_},lagSmoothing:function(e,t){Me=e||1e8,Ae=Math.min(t,Me,0)},fps:function(e){Pe=1/(e||240),De=Se.time+Pe},add:function(e){je.indexOf(e)<0&&je.push(e),Tt()},remove:function(e){var t;~(t=je.indexOf(e))&&je.splice(t,1)},_listeners:je=[]}),Tt=function(){return!we&&wt.wake()},xt={},kt=/^[\d.\-M][\d.\-,\s]/,St=/["']/g,Ct=function(e){return function(t){return 1-e(1-t)}},Mt=function(e,t){return e&&(i(e)?e:xt[e]||function(e){var t=(e+"").split("("),n=xt[t[0]];return n&&1<t.length&&n.config?n.config.apply(null,~e.indexOf("{")?[function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(St,"").trim():+r,o=n.substr(t+1).trim();return i}(t[1])]:Ye.exec(e)[1].split(",").map(S)):xt._CE&&kt.test(e)?xt._CE("",e):n}(e))||t};function At(e){var t,n,r=Ce()-Ee,i=!0===e;Me<r&&(Oe+=r-Ae),Ee+=r,Se.time=(Ee-Oe)/1e3,(0<(t=Se.time-De)||i)&&(Se.frame++,De+=t+(Pe<=t?.004:Pe-t),n=1),i||(Te=xe(At)),n&&je.forEach((function(t){return t(Se.time,r,Se.frame,e)}))}function Ot(e){return e<Le?Ie*e*e:e<.7272727272727273?Ie*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?Ie*(e-=2.25/2.75)*e+.9375:Ie*Math.pow(e-2.625/2.75,2)+.984375}y("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;ce(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),xt.Linear.easeNone=xt.none=xt.Linear.easeIn,ce("Elastic",de("in"),de("out"),de()),Ie=7.5625,Le=1/2.75,ce("Bounce",(function(e){return 1-Ot(1-e)}),Ot),ce("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),ce("Circ",(function(e){return-($e(1-e*e)-1)})),ce("Sine",(function(e){return 1===e?1:1-He(e*ze)})),ce("Back",pe("in"),pe("out"),pe()),xt.SteppedEase=xt.steps=et.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*pt(0,.99999999,e)|0)+i)*n}}},Ne.ease=xt["quad.out"],y("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return lt+=e+","+e+"Params,"}));var Et,Pt=function(e,t){this.id=Be++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:v,this.set=t?t.getSetter:Kt},Dt=((Et=jt.prototype).delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},Et.duration=function(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},Et.totalDuration=function(e){return arguments.length?(this._dirty=0,B(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Et.totalTime=function(e,t){if(Tt(),!arguments.length)return this._tTime;var n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(this._start=b(n._time-(0<this._ts?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts)),N(this),n._dirty||I(n);n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&e<this._tDur||this._ts<0&&0<e||!this._tDur&&!e)&&q(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===qe||!e&&!this._initted)&&(this._ts||(this._pTime=e),k(this,e,t)),this},Et.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+L(this))%this._dur||(e?this._dur:0),t):this._time},Et.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Et.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+L(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Et.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?ut(this._tTime,n)+1:1},Et.timeScale=function(e){if(!arguments.length)return this._rts===-qe?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?R(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-qe?0:this._rts,function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this.totalTime(pt(0,this._tDur,t),!0))},Et.paused=function(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Tt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=qe)&&Math.abs(this._zTime)!==qe))),this):this._ps},Et.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return!t||!t._sort&&this.parent||q(t,this,e-this._delay),this}return this._start},Et.endTime=function(e){return this._start+(l(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},Et.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?R(t.rawTime(e),this):this._tTime:this._tTime},Et.repeat=function(e){return arguments.length?(this._repeat=e,$(this)):this._repeat},Et.repeatDelay=function(e){return arguments.length?(this._rDelay=e,$(this)):this._rDelay},Et.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},Et.seek=function(e,t){return this.totalTime(H(this,e),l(t))},Et.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,l(t))},Et.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},Et.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},Et.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},Et.resume=function(){return this.paused(!1)},Et.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-qe:0)),this):this._rts<0},Et.invalidate=function(){return this._initted=0,this._zTime=-qe,this},Et.isActive=function(e){var t,n=this.parent||this._dp,r=this._start;return!(n&&!(this._ts&&(this._initted||!e)&&n.isActive(e)&&(t=n.rawTime(!0))>=r&&t<this.endTime(!0)-qe))},Et.eventCallback=function(e,t,n){var r=this.vars;return 1<arguments.length?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},Et.then=function(e){var t=this;return new Promise((function(n){function r(){var e=t.then;t.then=null,i(a)&&(a=a(t))&&(a.then||a===t)&&(t.then=e),n(a),t.then=e}var a=i(e)?e:C;t._initted&&1===t.totalProgress()&&0<=t._ts||!t._tTime&&t._ts<0?r():t._prom=r}))},Et.kill=function(){ne(this)},jt);function jt(e,t){var n=e.parent||fe;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,B(this,+e.duration,1),this.data=e.data,we||wt.wake(),n&&q(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}M(Dt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-qe,_prom:0,_ps:!1,_rts:1});var It=function(e){function o(t,r){var i;return void 0===t&&(t={}),(i=e.call(this,t,r)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=l(t.sortChildren),i.parent&&F(i.parent,n(i)),t.scrollTrigger&&U(n(i),t.scrollTrigger),i}t(o,e);var s=o.prototype;return s.to=function(e,t,n,r){return new Bt(e,T(arguments,0,this),H(this,a(t)?r:n)),this},s.from=function(e,t,n,r){return new Bt(e,T(arguments,1,this),H(this,a(t)?r:n)),this},s.fromTo=function(e,t,n,r,i){return new Bt(e,T(arguments,2,this),H(this,a(t)?i:r)),this},s.set=function(e,t,n){return t.duration=0,t.parent=this,P(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Bt(e,t,H(this,n),1),this},s.call=function(e,t,n){return q(this,Bt.delayedCall(0,e,t),H(this,n))},s.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new Bt(e,n,H(this,i)),this},s.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,P(n).immediateRender=l(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},s.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,P(r).immediateRender=l(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},s.render=function(e,t,n){var r,i,a,o,s,l,c,u,d,p,f,h,_=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,v=this!==fe&&g-qe<e&&0<=e?g:e<qe?0:e,y=this._zTime<0!=e<0&&(this._initted||!m);if(v!==this._tTime||n||y){if(_!==this._time&&m&&(v+=this._time-_,e+=this._time-_),r=v,d=this._start,l=!(u=this._ts),y&&(m||(_=this._zTime),!e&&t||(this._zTime=e)),this._repeat&&(f=this._yoyo,(m<(r=b(v%(s=m+this._rDelay)))||g===v)&&(r=m),(o=~~(v/s))&&o===v/s&&(r=m,o--),p=ut(this._tTime,s),!_&&this._tTime&&p!==o&&(p=o),f&&1&o&&(r=m-r,h=1),o!==p&&!this._lock)){var w=f&&1&p,T=w===(f&&1&o);if(o<p&&(w=!w),_=w?0:m,this._lock=1,this.render(_||(h?0:b(o*s)),t,!m)._lock=0,!t&&this.parent&&gt(this,"onRepeat"),this.vars.repeatRefresh&&!h&&(this.invalidate()._lock=1),_!==this._time||l!=!this._ts)return this;if(T&&(this._lock=2,_=w?m+1e-4:-1e-4,this.render(_,!0),this.vars.repeatRefresh&&!h&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;le(this,h)}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(t<n)for(r=e._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,b(_),b(r)))&&(v-=r-(r=c._start)),this._tTime=v,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),_||!r||t||gt(this,"onStart"),_<=r&&0<=e)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(0<i._ts?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,a&&(v+=this._zTime=-qe);break}}i=a}else{i=this._last;for(var x=e<0?e:r;i;){if(a=i._prev,(i._act||x<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(0<i._ts?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,a&&(v+=this._zTime=x?-qe:qe);break}}i=a}}if(c&&!t&&(this.pause(),c.render(_<=r?0:-qe)._zTime=_<=r?1:-1,this._ts))return this._start=d,N(this),this.render(e,t,n);this._onUpdate&&!t&&gt(this,"onUpdate",!0),(v===g&&g>=this.totalDuration()||!v&&_)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||(!e&&m||!(v===g&&0<this._ts||!v&&this._ts<0)||j(this,1),t||e<0&&!_||!v&&!_||(gt(this,v===g?"onComplete":"onReverseComplete",!0),!this._prom||v<g&&0<this.timeScale()||this._prom())))}return this},s.add=function(e,t){var n=this;if(a(t)||(t=H(this,t)),!(e instanceof Dt)){if(We(e))return e.forEach((function(e){return n.add(e,t)})),I(this);if(r(e))return this.addLabel(e,t);if(!i(e))return this;e=Bt.delayedCall(0,e)}return this!==e?q(this,e,t):this},s.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-Fe);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof Bt?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},s.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},s.remove=function(e){return r(e)?this.removeLabel(e):i(e)?this.killTweensOf(e):(D(this,e),e===this._recent&&(this._recent=this._last),I(this))},s.totalTime=function(t,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=b(wt.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},s.addLabel=function(e,t){return this.labels[e]=H(this,t),this},s.removeLabel=function(e){return delete this.labels[e],this},s.addPause=function(e,t,n){var r=Bt.delayedCall(0,t||_,n);return r.data="isPause",this._hasPause=1,q(this,r,H(this,e))},s.removePause=function(e){var t=this._first;for(e=H(this,e);t;)t._start===e&&"isPause"===t.data&&j(t),t=t._next},s.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Rt!==r[i]&&r[i].kill(e,t);return this},s.getTweensOf=function(e,t){for(var n,r=[],i=ht(e),a=this._first;a;)a instanceof Bt?!w(a._targets,i)||t&&!a.isActive("started"===t)||r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},s.tweenTo=function(e,t){t=t||{};var n=this,r=H(n,e),i=t.startAt,a=t.onStart,o=t.onStartParams,s=Bt.to(n,M(t,{ease:"none",lazy:!1,time:r,duration:t.duration||Math.abs((r-(i&&"time"in i?i.time:n._time))/n.timeScale())||qe,onStart:function(){n.pause();var e=t.duration||Math.abs((r-n._time)/n.timeScale());s._dur!==e&&B(s,e).render(s._time,!0,!0),a&&a.apply(s,o||[])}}));return s},s.tweenFromTo=function(e,t,n){return this.tweenTo(t,M({startAt:{time:H(this,e)}},n))},s.recent=function(){return this._recent},s.nextLabel=function(e){return void 0===e&&(e=this._time),te(this,H(this,e))},s.previousLabel=function(e){return void 0===e&&(e=this._time),te(this,H(this,e),1)},s.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+qe)},s.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return I(this)},s.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},s.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._time=this._tTime=this._pTime=0,e&&(this.labels={}),I(this)},s.totalDuration=function(e){var t,n,r,i,a=0,o=this,s=o._last,l=Fe;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(i=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),l<(r=s._start)&&o._sort&&s._ts&&!o._lock?(o._lock=1,q(o,s,r-s._delay,1)._lock=0):l=r,r<0&&s._ts&&(a-=r,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-1/0),l=0),a<(n=N(s))&&s._ts&&(a=n),s=t;B(o,o===fe&&o._time>a?o._time:a,1),o._dirty=0}return o._tDur},o.updateRoot=function(e){if(fe._ts&&(k(fe,R(e,fe)),ye=wt.frame),wt.frame>=ot){ot+=Re.autoSleep||120;var t=fe._first;if((!t||!t._ts)&&Re.autoSleep&&wt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||wt.sleep()}}},o}(Dt);function Lt(e,t,n,a,o,l){var c,u,d,p;if(it[e]&&!1!==(c=new it[e]).init(o,c.rawVars?t[e]:function(e,t,n,a,o){if(i(e)&&(e=qt(e,o,t,n,a)),!s(e)||e.style&&e.nodeType||We(e))return r(e)?qt(e,o,t,n,a):e;var l,c={};for(l in e)c[l]=qt(e[l],o,t,n,a);return c}(t[e],a,o,l,n),n,a,l)&&(n._pt=u=new nn(n._pt,o,e,0,1,c.render,c,0,c.priority),n!==be))for(d=n._ptLookup[n._targets.indexOf(o)],p=c._props.length;p--;)d[c._props[p]]=u;return c}M(It.prototype,{_lock:0,_hasPause:0,_forcing:0});var Rt,Nt=function(e,t,n,a,o,s,l,c,u){i(a)&&(a=a(o||0,e,s));var d,f=e[t],h="get"!==n?n:i(f)?u?e[t.indexOf("set")||!i(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():f,_=i(f)?u?Gt:Wt:Vt;if(r(a)&&(~a.indexOf("random(")&&(a=ee(a)),"="===a.charAt(1)&&(a=parseFloat(h)+parseFloat(a.substr(2))*("-"===a.charAt(0)?-1:1)+(W(h)||0))),h!==a)return isNaN(h+a)?(f||t in e||p(t,a),function(e,t,n,r,i,a,o){var s,l,c,u,d,p,f,h,_=new nn(this._pt,e,t,0,1,Yt,null,i),g=0,m=0;for(_.b=n,_.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=ee(r)),a&&(a(h=[n,r],e,t),n=h[0],r=h[1]),l=n.match(Xe)||[];s=Xe.exec(r);)u=s[0],d=r.substring(g,s.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[m++]&&(p=parseFloat(l[m-1])||0,_._pt={_next:_._pt,p:d||1===m?d:",",s:p,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-p,m:c&&c<4?Math.round:0},g=Xe.lastIndex);return _.c=g<r.length?r.substring(g,r.length):"",_.fp=o,(Je.test(r)||f)&&(_.e=0),this._pt=_}.call(this,e,t,h,a,_,c||Re.stringFilter,u)):(d=new nn(this._pt,e,t,+h||0,a-(h||0),"boolean"==typeof f?Xt:Qt,0,_),u&&(d.fp=u),l&&d.modifier(l,this,e),this._pt=d)},Ft=function e(t,n){var r,i,a,o,s,c,u,d,p,f,h,_,v=t.vars,y=v.ease,b=v.startAt,w=v.immediateRender,T=v.lazy,k=v.onUpdate,S=v.onUpdateParams,C=v.callbackScope,A=v.runBackwards,O=v.yoyoEase,P=v.keyframes,D=v.autoRevert,I=t._dur,L=t._startAt,R=t._targets,N=t.parent,F=N&&"nested"===N.data?N.parent._targets:R,q="auto"===t._overwrite,U=t.timeline;if(!U||P&&y||(y="none"),t._ease=Mt(y,Ne.ease),t._yEase=O?Ct(Mt(!0===O?y:O,Ne.ease)):0,O&&t._yoyo&&!t._repeat&&(O=t._yEase,t._yEase=t._ease,t._ease=O),!U){if(_=(d=R[0]?m(R[0]).harness:0)&&v[d.prop],r=E(v,tt),L&&L.render(-1,!0).kill(),b){if(j(t._startAt=Bt.set(R,M({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:l(T),startAt:null,delay:0,onUpdate:k,onUpdateParams:S,callbackScope:C,stagger:0},b))),w)if(0<n)D||(t._startAt=0);else if(I)return}else if(A&&I)if(L)D||(t._startAt=0);else if(n&&(w=!1),a=ct(r,{overwrite:!1,data:"isFromStart",lazy:w&&l(T),immediateRender:w,stagger:0,parent:N}),_&&(a[d.prop]=_),j(t._startAt=Bt.set(R,a)),w){if(!n)return}else e(t._startAt,qe);for(t._pt=0,T=I&&l(T)||T&&!I,i=0;i<R.length;i++){if(u=(s=R[i])._gsap||g(R)[i]._gsap,t._ptLookup[i]=f={},rt[u.id]&&x(),h=F===R?i:F.indexOf(s),d&&!1!==(p=new d).init(s,_||r,t,h,F)&&(t._pt=o=new nn(t._pt,s,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(e){f[e]=o})),p.priority&&(c=1)),!d||_)for(a in r)it[a]&&(p=Lt(a,r,t,h,s,F))?p.priority&&(c=1):f[a]=o=Nt.call(t,s,a,"get",r[a],h,F,0,v.stringFilter);t._op&&t._op[i]&&t.kill(s,t._op[i]),q&&t._pt&&(Rt=t,fe.killTweensOf(s,f,"started"),Rt=0),t._pt&&T&&(rt[u.id]=1)}c&&tn(t),t._onInit&&t._onInit(t)}t._from=!U&&!!v.runBackwards,t._onUpdate=k,t._initted=!!t.parent},qt=function(e,t,n,a,o){return i(e)?e.call(t,n,a,o):r(e)&&~e.indexOf("random(")?ee(e):e},Ut=lt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",zt=(Ut+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Bt=function(e){function i(t,r,i,o){var c;"number"==typeof r&&(i.duration=r,r=i,i=null);var d,p,h,m,v,y,w,T,x=(c=e.call(this,o?r:P(r),i)||this).vars,k=x.duration,S=x.delay,C=x.immediateRender,A=x.stagger,O=x.overwrite,E=x.keyframes,D=x.defaults,j=x.scrollTrigger,I=x.yoyoEase,L=c.parent,R=(We(t)?a(t[0]):"length"in r)?[t]:ht(t);if(c._targets=R.length?g(R):f("GSAP target "+t+" not found. https://greensock.com",!Re.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=O,E||A||u(k)||u(S)){if(r=c.vars,(d=c.timeline=new It({data:"nested",defaults:D||{}})).kill(),d.parent=n(c),E)M(d.vars.defaults,{ease:"none"}),E.forEach((function(e){return d.to(R,e,">")}));else{if(m=R.length,w=A?Q(A):_,s(A))for(v in A)~Ut.indexOf(v)&&((T=T||{})[v]=A[v]);for(p=0;p<m;p++){for(v in h={},r)zt.indexOf(v)<0&&(h[v]=r[v]);h.stagger=0,I&&(h.yoyoEase=I),T&&ct(h,T),y=R[p],h.duration=+qt(k,n(c),p,y,R),h.delay=(+qt(S,n(c),p,y,R)||0)-c._delay,!A&&1===m&&h.delay&&(c._delay=S=h.delay,c._start+=S,h.delay=0),d.to(y,h,w(p,y,R))}d.duration()?k=S=0:c.timeline=0}k||c.duration(k=d.duration())}else c.timeline=0;return!0===O&&(Rt=n(c),fe.killTweensOf(R),Rt=0),L&&F(L,n(c)),(C||!k&&!E&&c._start===b(L._time)&&l(C)&&function e(t){return!t||t._ts&&e(t.parent)}(n(c))&&"nested"!==L.data)&&(c._tTime=-qe,c.render(Math.max(0,-S))),j&&U(n(c),j),c}t(i,e);var o=i.prototype;return o.render=function(e,t,n){var r,i,a,o,s,l,c,u,d,p=this._time,f=this._tDur,h=this._dur,_=f-qe<e&&0<=e?f:e<qe?0:e;if(h){if(_!==this._tTime||!e||n||this._startAt&&this._zTime<0!=e<0){if(r=_,u=this.timeline,this._repeat){if((h<(r=b(_%(o=h+this._rDelay)))||f===_)&&(r=h),(a=~~(_/o))&&a===_/o&&(r=h,a--),(l=this._yoyo&&1&a)&&(d=this._yEase,r=h-r),s=ut(this._tTime,o),r===p&&!n&&this._initted)return this;a!==s&&(u&&this._yEase&&le(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(b(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(z(this,r,n,t))return this._tTime=0,this;if(h!==this._dur)return this.render(e,t,n)}for(this._tTime=_,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/h),this._from&&(this.ratio=c=1-c),!r||p||t||gt(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:!r&&l?-qe:u._dur*c,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),gt(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&gt(this,"onRepeat"),_!==this._tDur&&_||this._tTime!==_||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),!e&&h||!(_===this._tDur&&0<this._ts||!_&&this._ts<0)||j(this,1),t||e<0&&!p||!_&&!p||(gt(this,_===f?"onComplete":"onReverseComplete",!0),!this._prom||_<f&&0<this.timeScale()||this._prom()))}}else!function(e,t,n,r){var i,a,o=e.ratio,s=t<0||!t&&o&&!e._start&&e._zTime>qe&&!e._dp._lock||e._ts<0||e._dp._ts<0?0:1,l=e._rDelay,c=0;if(l&&e._repeat&&(c=pt(0,e._tDur,t),ut(c,l)!==(a=ut(e._tTime,l))&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),e._initted||!z(e,t,r,n))if(s!==o||r||e._zTime===qe||!t&&e._zTime){for(a=e._zTime,e._zTime=t||(n?qe:0),n=n||t&&!a,e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,n||gt(e,"onStart"),i=e._pt;i;)i.r(s,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&gt(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&gt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&j(e,1),n||(gt(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},o.targets=function(){return this._targets},o.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},o.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return ne(this);if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Rt&&!0!==Rt.vars.overwrite)._first||ne(this),this.parent&&n!==this.timeline.totalDuration()&&B(this,this._dur*this.timeline._tDur/n),this}var i,a,o,s,l,c,u,d=this._targets,p=e?ht(e):d,f=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(d,p))return ne(this);for(i=this._op=this._op||[],"all"!==t&&(r(t)&&(l={},y(t,(function(e){return l[e]=1})),t=l),t=function(e,t){var n,r,i,a,o=e[0]?m(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=ct({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(d,t)),u=d.length;u--;)if(~p.indexOf(d[u]))for(l in a=f[u],"all"===t?(i[u]=t,s=a,o={}):(o=i[u]=i[u]||{},s=t),s)(c=a&&a[l])&&("kill"in c.d&&!0!==c.d.kill(l)||D(this,c,"_pt"),delete a[l]),"all"!==o&&(o[l]=1);return this._initted&&!this._pt&&h&&ne(this),this},i.to=function(e,t,n){return new i(e,t,n)},i.from=function(e,t){return new i(e,T(arguments,1))},i.delayedCall=function(e,t,n,r){return new i(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},i.fromTo=function(e,t,n){return new i(e,T(arguments,2))},i.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new i(e,t)},i.killTweensOf=function(e,t,n){return fe.killTweensOf(e,t,n)},i}(Dt);function $t(e,t,n){return e.setAttribute(t,n)}function Ht(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)}M(Bt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),y("staggerTo,staggerFrom,staggerFromTo",(function(e){Bt[e]=function(){var t=new It,n=ft.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Vt=function(e,t,n){return e[t]=n},Wt=function(e,t,n){return e[t](n)},Gt=function(e,t,n,r){return e[t](r.fp,n)},Kt=function(e,t){return i(e[t])?Wt:o(e[t])&&e.setAttribute?$t:Vt},Qt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Xt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Yt=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Jt=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Zt=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},en=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?D(this,r,"_pt"):r.dep||(t=1),r=n;return!t},tn=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},nn=(rn.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Ht,this.m=e,this.mt=n,this.tween=t},rn);function rn(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||Qt,this.d=o||this,this.set=s||Vt,this.pr=l||0,(this._next=e)&&(e._prev=this)}y(lt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return tt[e]=1})),et.TweenMax=et.TweenLite=Bt,et.TimelineLite=et.TimelineMax=It,fe=new It({sortChildren:!1,defaults:Ne,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Re.stringFilter=se;var an={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return function(e){var t=(e=!e.name&&e.default||e).name,n=i(e),r=t&&!n&&e.init?function(){this._props=[]}:e,a={init:_,render:Jt,add:Nt,kill:en,modifier:Zt,rawVars:0},o={targetTest:0,get:0,getSetter:Kt,aliases:{},register:0};if(Tt(),e!==r){if(it[t])return;M(r,M(E(e,a),o)),ct(r.prototype,ct(a,E(e,o))),it[r.prop=t]=r,e.targetTest&&(st.push(r),tt[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}h(t,r),e.register&&e.register(ln,r,nn)}(e)}))},timeline:function(e){return new It(e)},getTweensOf:function(e,t){return fe.getTweensOf(e,t)},getProperty:function(e,t,n,i){r(e)&&(e=ht(e)[0]);var a=m(e||{}).get,o=n?C:S;return"native"===n&&(n=""),e?t?o((it[t]&&it[t].get||a)(e,t,n,i)):function(t,n,r){return o((it[t]&&it[t].get||a)(e,t,n,r))}:e},quickSetter:function(e,t,n){if(1<(e=ht(e)).length){var r=e.map((function(e){return ln.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=it[t],o=m(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var r=new a;be._pt=0,r.init(e,n?t+n:t,be,0,[e]),r.render(1,r),be._pt&&Jt(1,be)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},isTweening:function(e){return 0<fe.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=Mt(e.ease,Ne.ease)),O(Ne,e||{})},config:function(e){return O(Re,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!it[e]&&!et[e]&&f(t+" effect requires "+e+" plugin.")})),at[t]=function(e,t,r){return n(ht(e),M(t||{},i),r)},a&&(It.prototype[t]=function(e,n,r){return this.add(at[t](e,s(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){xt[e]=Mt(t)},parseEase:function(e,t){return arguments.length?Mt(e,t):xt},getById:function(e){return fe.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new It(e);for(i.smoothChildTiming=l(e.smoothChildTiming),fe.remove(i),i._dp=0,i._time=i._tTime=fe._time,n=fe._first;n;)r=n._next,!t&&!n._dur&&n instanceof Bt&&n.vars.onComplete===n._targets[0]||q(i,n,n._start-n._delay),n=r;return q(fe,i,0),i},utils:{wrap:function e(t,n,r){var i=n-t;return We(t)?Z(t,e(0,t.length),n):V(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return We(t)?Z(t,e(0,t.length-1),n):V(r,(function(e){return t+(i<(e=(a+(e-t)%a)%a||0)?a-e:e)}))},distribute:Q,random:J,snap:Y,normalize:function(e,t,n){return _t(e,t,0,1,n)},getUnit:W,clamp:function(e,t,n){return V(n,(function(n){return pt(e,t,n)}))},splitColor:ie,toArray:ht,mapRange:_t,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||W(n))}},interpolate:function e(t,n,i,a){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,l,c,u,d,p=r(t),f={};if(!0===i&&(a=1)&&(i=null),p)t={p:t},n={p:n};else if(We(t)&&!We(n)){for(c=[],u=t.length,d=u-2,l=1;l<u;l++)c.push(e(t[l-1],t[l]));u--,o=function(e){e*=u;var t=Math.min(d,~~e);return c[t](e-t)},i=n}else a||(t=ct(We(t)?[]:{},t));if(!c){for(s in n)Nt.call(f,t,s,"get",n[s]);o=function(e){return Jt(e,f)||(p?t.p:t)}}}return V(i,o)},shuffle:K},install:d,effects:at,ticker:wt,updateRoot:It.updateRoot,plugins:it,globalTimeline:fe,core:{PropTween:nn,globals:h,Tween:Bt,Timeline:It,Animation:Dt,getCache:m,_removeLinkedListItem:D}};function on(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n}function sn(e,t){return{name:e,rawVars:1,init:function(e,n,i){i._onInit=function(e){var i,a;if(r(n)&&(i={},y(n,(function(e){return i[e]=1})),n=i),t){for(a in i={},n)i[a]=t(n[a]);n=i}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=(i=e._ptLookup[r][n])&&i.d)&&(i._pt&&(i=on(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}}y("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return an[e]=Bt[e]})),wt.add(It.updateRoot),be=an.to({},{duration:0});var ln=an.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],r,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},sn("roundProps",X),sn("modifiers"),sn("snap",Y))||an;function cn(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function un(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function dn(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)}function pn(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)}function fn(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)}function hn(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)}function _n(e,t,n){return e.style[t]=n}function gn(e,t,n){return e.style.setProperty(t,n)}function mn(e,t,n){return e._gsap[t]=n}function vn(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n}function yn(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)}function bn(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)}function wn(e,t){var n=$n.createElementNS?$n.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$n.createElement(e);return n.style?n:$n.createElement(e)}function Tn(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(vr,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&Tn(e,Sr(t)||t,1)||""}function xn(){"undefined"!=typeof window&&window.document&&(Bn=window,$n=Bn.document,Hn=$n.documentElement,Wn=wn("div")||{style:{}},Gn=wn("div"),Tr=Sr(Tr),xr=Sr(xr),Wn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Qn=!!Sr("perspective"),Vn=1)}function kn(e){var t,n=wn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,a=this.style.cssText;if(Hn.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=kn}catch(e){}else this._gsapBBox&&(t=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Hn.removeChild(n),this.style.cssText=a,t}function Sn(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])}function Cn(e){var t;try{t=e.getBBox()}catch(n){t=kn.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===kn||(t=kn.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Sn(e,["x","cx","x1"])||0,y:+Sn(e,["y","cy","y1"])||0,width:0,height:0}}function Mn(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Cn(e))}function An(e,t){if(t){var n=e.style;t in hr&&(t=Tr),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(vr,"-$1").toLowerCase())):n.removeAttribute(t)}}function On(e,t,n,r,i,a){var o=new nn(e._pt,t,n,0,1,a?hn:fn);return(e._pt=o).b=r,o.e=i,e._props.push(n),o}function En(e,t,n,r){var i,a,o,s,l=parseFloat(n)||0,c=(n+"").trim().substr((l+"").length)||"px",u=Wn.style,d=yr.test(t),p="svg"===e.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),h="px"===r,_="%"===r;return r===c||!l||Cr[r]||Cr[c]?l:("px"===c||h||(l=En(e,t,n,"px")),s=e.getCTM&&Mn(e),_&&(hr[t]||~t.indexOf("adius"))?b(l/(s?e.getBBox()[d?"width":"height"]:e[f])*100):(u[d?"width":"height"]=100+(h?c:r),a=~t.indexOf("adius")||"em"===r&&e.appendChild&&!p?e:e.parentNode,s&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==$n&&a.appendChild||(a=$n.body),(o=a._gsap)&&_&&o.width&&d&&o.time===wt.time?b(l/o.width*100):(!_&&"%"!==c||(u.position=Tn(e,"position")),a===e&&(u.position="static"),a.appendChild(Wn),i=Wn[f],a.removeChild(Wn),u.position="absolute",d&&_&&((o=m(a)).time=wt.time,o.width=a[f]),b(h?i*l/100:i&&l?100/i*l:0))))}function Pn(e,t,n,r){var i;return Vn||xn(),t in wr&&"transform"!==t&&~(t=wr[t]).indexOf(",")&&(t=t.split(",")[0]),hr[t]&&"transform"!==t?(i=Pr(e,r),i="transformOrigin"!==t?i[t]:Dr(Tn(e,xr))+" "+i.zOrigin+"px"):(i=e.style[t])&&"auto"!==i&&!r&&!~(i+"").indexOf("calc(")||(i=Ar[t]&&Ar[t](e,t,n)||Tn(e,t)||v(e,t)||("opacity"===t?1:0)),n&&!~(i+"").indexOf(" ")?En(e,t,i,n)+n:i}function Dn(e,t,n,r){if(!n||"none"===n){var i=Sr(t,e,1),a=i&&Tn(e,i,1);a&&a!==n&&(t=i,n=a)}var o,s,l,c,u,d,p,f,h,_,g,m,v=new nn(this._pt,e.style,t,0,1,Yt),y=0,b=0;if(v.b=n,v.e=r,n+="","auto"==(r+="")&&(e.style[t]=r,r=Tn(e,t)||r,e.style[t]=n),se(o=[n,r]),r=o[1],l=(n=o[0]).match(Qe)||[],(r.match(Qe)||[]).length){for(;s=Qe.exec(r);)p=s[0],h=r.substring(y,s.index),u?u=(u+1)%5:"rgba("!==h.substr(-5)&&"hsla("!==h.substr(-5)||(u=1),p!==(d=l[b++]||"")&&(c=parseFloat(d)||0,g=d.substr((c+"").length),(m="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),f=parseFloat(p),_=p.substr((f+"").length),y=Qe.lastIndex-_.length,_||(_=_||Re.units[t]||g,y===r.length&&(r+=_,v.e+=_)),g!==_&&(c=En(e,t,d,_)||0),v._pt={_next:v._pt,p:h||1===b?h:",",s:c,c:m?m*f:f-c,m:u&&u<4?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?hn:fn;return Je.test(r)&&(v.e=0),this._pt=v}function jn(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Mr[n]||n,t[1]=Mr[r]||r,t.join(" ")}function In(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;-1<--i;)n=s[i],hr[n]&&(r=1,n="transformOrigin"===n?xr:Tr),An(a,n);r&&(An(a,Tr),l&&(l.svg&&a.removeAttribute("transform"),Pr(a,1),l.uncache=1))}}function Ln(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function Rn(e){var t=Tn(e,Tr);return Ln(t)?Or:t.substr(7).match(Ke).map(b)}function Nn(e,t){var n,r,i,a,o=e._gsap||m(e),s=e.style,l=Rn(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Or:l:(l!==Or||e.offsetParent||e===Hn||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextSibling,Hn.appendChild(e)),l=Rn(e),i?s.display=i:An(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):Hn.removeChild(e))),t&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function Fn(e,t,n,r,i,a){var o,s,l,c=e._gsap,u=i||Nn(e,!0),d=c.xOrigin||0,p=c.yOrigin||0,f=c.xOffset||0,h=c.yOffset||0,_=u[0],g=u[1],m=u[2],v=u[3],y=u[4],b=u[5],w=t.split(" "),T=parseFloat(w[0])||0,x=parseFloat(w[1])||0;n?u!==Or&&(s=_*v-g*m)&&(l=T*(-g/s)+x*(_/s)-(_*b-g*y)/s,T=T*(v/s)+x*(-m/s)+(m*b-v*y)/s,x=l):(T=(o=Cn(e)).x+(~w[0].indexOf("%")?T/100*o.width:T),x=o.y+(~(w[1]||w[0]).indexOf("%")?x/100*o.height:x)),r||!1!==r&&c.smooth?(y=T-d,b=x-p,c.xOffset=f+(y*_+b*m)-y,c.yOffset=h+(y*g+b*v)-b):c.xOffset=c.yOffset=0,c.xOrigin=T,c.yOrigin=x,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[xr]="0px 0px",a&&(On(a,c,"xOrigin",d,T),On(a,c,"yOrigin",p,x),On(a,c,"xOffset",f,c.xOffset),On(a,c,"yOffset",h,c.yOffset)),e.setAttribute("data-svg-origin",T+" "+x)}function qn(e,t,n){var r=W(t);return b(parseFloat(t)+parseFloat(En(e,"x",n+"px",r)))+r}function Un(e,t,n,i,a,o){var s,l,c=360,u=r(a),d=parseFloat(a)*(u&&~a.indexOf("rad")?_r:1),p=o?d*o:d-i,f=i+p+"deg";return u&&("short"===(s=a.split("_")[1])&&(p%=c)!=p%180&&(p+=p<0?c:-c),"cw"===s&&p<0?p=(p+36e9)%c-~~(p/c)*c:"ccw"===s&&0<p&&(p=(p-36e9)%c-~~(p/c)*c)),e._pt=l=new nn(e._pt,t,n,i,p,un),l.e=f,l.u="deg",e._props.push(n),l}function zn(e,t,n){var r,i,a,o,s,l,c,u=Gn.style,d=n._gsap;for(i in u.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",u[Tr]=t,$n.body.appendChild(Gn),r=Pr(Gn,1),hr)(a=d[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=W(a)!==(c=W(o))?En(n,i,a,c):parseFloat(a),l=parseFloat(o),e._pt=new nn(e._pt,d,i,s,l-s,cn),e._pt.u=c||0,e._props.push(i));$n.body.removeChild(Gn)}Bt.version=It.version=ln.version="3.3.3",ve=1,c()&&Tt();var Bn,$n,Hn,Vn,Wn,Gn,Kn,Qn,Xn=xt.Power0,Yn=xt.Power1,Jn=xt.Power2,Zn=xt.Power3,er=xt.Power4,tr=xt.Linear,nr=xt.Quad,rr=xt.Cubic,ir=xt.Quart,ar=xt.Quint,or=xt.Strong,sr=xt.Elastic,lr=xt.Back,cr=xt.SteppedEase,ur=xt.Bounce,dr=xt.Sine,pr=xt.Expo,fr=xt.Circ,hr={},_r=180/Math.PI,gr=Math.PI/180,mr=Math.atan2,vr=/([A-Z])/g,yr=/(?:left|right|width|margin|padding|x)/i,br=/[\s,\(]\S/,wr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Tr="transform",xr=Tr+"Origin",kr="O,Moz,ms,Ms,Webkit".split(","),Sr=function(e,t,n){var r=(t||Wn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(kr[i]+e in r););return i<0?null:(3===i?"ms":0<=i?kr[i]:"")+e},Cr={deg:1,rad:1,turn:1},Mr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ar={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new nn(e._pt,t,n,0,0,In);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},Or=[1,0,0,1,0,0],Er={},Pr=function(e,t){var n=e._gsap||new Pt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,c,u,d,p,f,h,_,g,m,v,y,w,T,x,k,S,C,M,A,O,E,P,D,j,I,L,R=e.style,N=n.scaleX<0,F="deg",q=Tn(e,xr)||"0";return r=i=a=l=c=u=d=p=f=0,o=s=1,n.svg=!(!e.getCTM||!Mn(e)),g=Nn(e,n.svg),n.svg&&(M=!n.uncache&&e.getAttribute("data-svg-origin"),Fn(e,M||q,!!M||n.originIsAbsolute,!1!==n.smooth,g)),h=n.xOrigin||0,_=n.yOrigin||0,g!==Or&&(w=g[0],T=g[1],x=g[2],k=g[3],r=S=g[4],i=C=g[5],6===g.length?(o=Math.sqrt(w*w+T*T),s=Math.sqrt(k*k+x*x),l=w||T?mr(T,w)*_r:0,(d=x||k?mr(x,k)*_r+l:0)&&(s*=Math.cos(d*gr)),n.svg&&(r-=h-(h*w+_*x),i-=_-(h*T+_*k))):(L=g[6],j=g[7],E=g[8],P=g[9],D=g[10],I=g[11],r=g[12],i=g[13],a=g[14],c=(m=mr(L,D))*_r,m&&(M=S*(v=Math.cos(-m))+E*(y=Math.sin(-m)),A=C*v+P*y,O=L*v+D*y,E=S*-y+E*v,P=C*-y+P*v,D=L*-y+D*v,I=j*-y+I*v,S=M,C=A,L=O),u=(m=mr(-x,D))*_r,m&&(v=Math.cos(-m),I=k*(y=Math.sin(-m))+I*v,w=M=w*v-E*y,T=A=T*v-P*y,x=O=x*v-D*y),l=(m=mr(T,w))*_r,m&&(M=w*(v=Math.cos(m))+T*(y=Math.sin(m)),A=S*v+C*y,T=T*v-w*y,C=C*v-S*y,w=M,S=A),c&&359.9<Math.abs(c)+Math.abs(l)&&(c=l=0,u=180-u),o=b(Math.sqrt(w*w+T*T+x*x)),s=b(Math.sqrt(C*C+L*L)),m=mr(S,C),d=2e-4<Math.abs(m)?m*_r:0,f=I?1/(I<0?-I:I):0),n.svg&&(M=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Ln(Tn(e,Tr)),M&&e.setAttribute("transform",M))),90<Math.abs(d)&&Math.abs(d)<270&&(N?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=i&&Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",n.z=a+"px",n.scaleX=b(o),n.scaleY=b(s),n.rotation=b(l)+F,n.rotationX=b(c)+F,n.rotationY=b(u)+F,n.skewX=d+F,n.skewY=p+F,n.transformPerspective=f+"px",(n.zOrigin=parseFloat(q.split(" ")[2])||0)&&(R[xr]=Dr(q)),n.xOffset=n.yOffset=0,n.force3D=Re.force3D,n.renderTransform=n.svg?Fr:Qn?Nr:jr,n.uncache=0,n},Dr=function(e){return(e=e.split(" "))[0]+" "+e[1]},jr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Nr(e,t)},Ir="0deg",Lr="0px",Rr=") ",Nr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,d=n.skewX,p=n.skewY,f=n.scaleX,h=n.scaleY,_=n.transformPerspective,g=n.force3D,m=n.target,v=n.zOrigin,y="",b="auto"===g&&e&&1!==e||!0===g;if(v&&(u!==Ir||c!==Ir)){var w,T=parseFloat(c)*gr,x=Math.sin(T),k=Math.cos(T);T=parseFloat(u)*gr,a=qn(m,a,x*(w=Math.cos(T))*-v),o=qn(m,o,-Math.sin(T)*-v),s=qn(m,s,k*w*-v+v)}_!==Lr&&(y+="perspective("+_+Rr),(r||i)&&(y+="translate("+r+"%, "+i+"%) "),!b&&a===Lr&&o===Lr&&s===Lr||(y+=s!==Lr||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+Rr),l!==Ir&&(y+="rotate("+l+Rr),c!==Ir&&(y+="rotateY("+c+Rr),u!==Ir&&(y+="rotateX("+u+Rr),d===Ir&&p===Ir||(y+="skew("+d+", "+p+Rr),1===f&&1===h||(y+="scale("+f+", "+h+Rr),m.style[Tr]=y||"translate(0, 0)"},Fr=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,d=s.y,p=s.rotation,f=s.skewX,h=s.skewY,_=s.scaleX,g=s.scaleY,m=s.target,v=s.xOrigin,y=s.yOrigin,w=s.xOffset,T=s.yOffset,x=s.forceCSS,k=parseFloat(u),S=parseFloat(d);p=parseFloat(p),f=parseFloat(f),(h=parseFloat(h))&&(f+=h=parseFloat(h),p+=h),p||f?(p*=gr,f*=gr,n=Math.cos(p)*_,r=Math.sin(p)*_,i=Math.sin(p-f)*-g,a=Math.cos(p-f)*g,f&&(h*=gr,o=Math.tan(f-h),i*=o=Math.sqrt(1+o*o),a*=o,h&&(o=Math.tan(h),n*=o=Math.sqrt(1+o*o),r*=o)),n=b(n),r=b(r),i=b(i),a=b(a)):(n=_,a=g,r=i=0),(k&&!~(u+"").indexOf("px")||S&&!~(d+"").indexOf("px"))&&(k=En(m,"x",u,"px"),S=En(m,"y",d,"px")),(v||y||w||T)&&(k=b(k+v-(v*n+y*i)+w),S=b(S+y-(v*r+y*a)+T)),(l||c)&&(k=b(k+l/100*(o=m.getBBox()).width),S=b(S+c/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+k+","+S+")",m.setAttribute("transform",o),x&&(m.style[Tr]=o)};y("padding,margin,Width,Radius",(function(e,t){var n="Right",r="Bottom",i="Left",a=(t<3?["Top",n,r,i]:["Top"+i,"Top"+n,r+n,r+i]).map((function(n){return t<2?e+n:"border"+n+e}));Ar[1<t?"border"+e:e]=function(e,t,n,r,i){var o,s;if(arguments.length<4)return o=a.map((function(t){return Pn(e,t,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach((function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,s,i)}}));var qr,Ur,zr={name:"css",register:xn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,c,u,d,f,h,_,g,m,v,y,b,w=this._props,T=e.style;for(d in Vn||xn(),t)if("autoRound"!==d&&(o=t[d],!it[d]||!Lt(d,t,n,r,e,i)))if(c=typeof o,u=Ar[d],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=ee(o)),u)u(this,e,d,o,n)&&(b=1);else if("--"===d.substr(0,2))this.add(T,"setProperty",getComputedStyle(e).getPropertyValue(d)+"",o+"",r,i,0,0,d);else{if(a=Pn(e,d),l=parseFloat(a),(_="string"===c&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),d in wr&&("autoAlpha"===d&&(1===l&&"hidden"===Pn(e,"visibility")&&s&&(l=0),On(this,T,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=wr[d]).indexOf(",")&&(d=d.split(",")[0])),g=d in hr)if(m||((v=e._gsap).renderTransform||Pr(e),y=!1!==t.smoothOrigin&&v.smooth,(m=this._pt=new nn(this._pt,T,Tr,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new nn(this._pt,v,"scaleY",v.scaleY,_?_*s:s-v.scaleY),w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){o=jn(o),v.svg?Fn(e,o,0,y,0,this):((h=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&On(this,v,"zOrigin",v.zOrigin,h),On(this,T,d,Dr(a),Dr(o)));continue}if("svgOrigin"===d){Fn(e,o,1,y,0,this);continue}if(d in Er){Un(this,v,d,l,o,_);continue}if("smoothOrigin"===d){On(this,v,"smooth",v.smooth,o);continue}if("force3D"===d){v[d]=o;continue}if("transform"===d){zn(this,o,e);continue}}else d in T||(d=Sr(d)||d);if(g||(s||0===s)&&(l||0===l)&&!br.test(o)&&d in T)(f=(a+"").substr((l+"").length))!==(h=(o+"").substr(((s=s||0)+"").length)||(d in Re.units?Re.units[d]:f))&&(l=En(e,d,a,h)),this._pt=new nn(this._pt,g?v:T,d,l,_?_*s:s-l,"px"!==h||!1===t.autoRound||g?cn:pn),this._pt.u=h||0,f!==h&&(this._pt.b=a,this._pt.r=dn);else if(d in T)Dn.call(this,e,d,a,o);else{if(!(d in e)){p(d,o);continue}this.add(e,d,e[d],o,r,i)}w.push(d)}b&&tn(this)},get:Pn,aliases:wr,parseTransform:Pr,getSetter:function(e,t,n){var r=wr[t];return r&&r.indexOf(",")<0&&(t=r),t in hr&&t!==xr&&(e._gsap.x||Pn(e,"x"))?n&&Kn===n?"scale"===t?vn:mn:(Kn=n||{})&&("scale"===t?yn:bn):e.style&&!o(e.style[t])?_n:~t.indexOf("-")?gn:Kt(e,t)},core:{_removeProperty:An,_getMatrix:Nn}};ln.utils.checkPrefix=Sr,Ur=y("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(qr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){hr[e]=1})),y(qr,(function(e){Re.units[e]="deg",Er[e]=1})),wr[Ur[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+qr,y("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");wr[t[1]]=Ur[t[0]]})),y("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Re.units[e]="px"})),ln.registerPlugin(zr);var Br=ln.registerPlugin(zr)||ln,$r=Br.core.Tween;e.Back=lr,e.Bounce=ur,e.CSSPlugin=zr,e.Circ=fr,e.Cubic=rr,e.Elastic=sr,e.Expo=pr,e.Linear=tr,e.Power0=Xn,e.Power1=Yn,e.Power2=Jn,e.Power3=Zn,e.Power4=er,e.Quad=nr,e.Quart=ir,e.Quint=ar,e.Sine=dr,e.SteppedEase=cr,e.Strong=or,e.TimelineLite=It,e.TimelineMax=It,e.TweenLite=Bt,e.TweenMax=$r,e.default=Br,e.gsap=Br,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default})),function(){function e(e){return e.replace(/\s+$/g,"")}function t(t,i,a,o){var s,l,c,u,d,p,f,h,_,g,m,v,y,b,w,T,x,k,S,C,M;for(i=function(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}(i=i||{},"html"),void 0!==i.wrap_line_length&&0!==parseInt(i.wrap_line_length,10)||void 0===i.max_char||0===parseInt(i.max_char,10)||(i.wrap_line_length=i.max_char),l=void 0!==i.indent_inner_html&&i.indent_inner_html,c=void 0===i.indent_body_inner_html||i.indent_body_inner_html,u=void 0===i.indent_head_inner_html||i.indent_head_inner_html,d=void 0===i.indent_size?4:parseInt(i.indent_size,10),p=void 0===i.indent_char?" ":i.indent_char,h=void 0===i.brace_style?"collapse":i.brace_style,f=0===parseInt(i.wrap_line_length,10)?32786:parseInt(i.wrap_line_length||250,10),_=i.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],g=i.content_unformatted||["pre"],m=void 0===i.preserve_newlines||i.preserve_newlines,v=m?isNaN(parseInt(i.max_preserve_newlines,10))?32786:parseInt(i.max_preserve_newlines,10):0,y=void 0!==i.indent_handlebars&&i.indent_handlebars,b=void 0===i.wrap_attributes?"auto":i.wrap_attributes,w=isNaN(parseInt(i.wrap_attributes_indent_size,10))?d:parseInt(i.wrap_attributes_indent_size,10),T="force"===b.substr(0,5),x="force-expand-multiline"===b,k="force-aligned"===b,S=void 0!==i.end_with_newline&&i.end_with_newline,C="object"==typeof i.extra_liners&&i.extra_liners?i.extra_liners.concat():"string"==typeof i.extra_liners?i.extra_liners.split(","):"head,body,/html".split(","),M=i.eol?i.eol:"auto",i.indent_with_tabs&&(p="\t",d=1),"auto"===M&&(M="\n",t&&n.test(t||"")&&(M=t.match(n)[0])),M=M.replace(/\\r/,"\r").replace(/\\n/,"\n"),t=t.replace(r,"\n"),s=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=l,this.indent_body_inner_html=c,this.indent_head_inner_html=u,this.Utils={whitespace:"\n\r\t ".split(""),single_token:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:C,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)m&&"\n"===e&&this.newlines<=v&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[],n=0;"<"!==this.input.charAt(this.pos)||2===n;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(n<2&&this.traverse_whitespace())this.space_or_wrap(t);else{if(e=this.input.charAt(this.pos),y){if("{"===e?n+=1:n<2&&(n=0),"}"===e&&n>0&&0==n--)break;var r=this.input.substr(this.pos,3);if("{{#"===r||"{{/"===r)break;if("{{!"===r)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,r,i="",a=[],o="",s=!1,l=!0,c=!1,u=this.pos,d=this.line_char_count,p=!1;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=u,this.line_char_count=d),a.length?a.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))s=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),s=!0),"="===i&&(s=!1),r=this.input.substr(this.pos-1),!x||!c||p||">"!==i&&"/"!==i||r.match(/^\/?\s*>/)&&(s=!1,p=!0,this.print_newline(!1,a),this.print_indentation(a)),a.length&&"="!==a[a.length-1]&&">"!==i&&s){var f=this.space_or_wrap(a)&&"/"!==i&&!T;if(s=!1,T&&"/"!==i){var h=!1;x&&l&&(h=!(null!==r.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),l&&!h||(this.print_newline(!1,a),this.print_indentation(a),f=!0)}if(f){c=!0;var m=w;k&&(m=a.indexOf(" ")+1);for(var v=0;v<m;v++)a.push(" ")}if(l)for(var b=0;b<a.length;b++)if(" "===a[b]){l=!1;break}}if(y&&"<"===n&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),a.length&&" "!==a[a.length-1]&&"<"!==a[a.length-1]&&(i=" "+i),s=!0),"<"!==i||n||(t=this.pos-1,n="<"),y&&!n&&a.length>=2&&"{"===a[a.length-1]&&"{"===a[a.length-2]&&(t="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,n="{"),this.line_char_count++,a.push(i),a[1]&&("!"===a[1]||"?"===a[1]||"%"===a[1])){a=[this.get_comment(t)];break}if(y&&a[1]&&"{"===a[1]&&a[2]&&"!"===a[2]){a=[this.get_comment(t)];break}if(y&&"{"===n&&a.length>2&&"}"===a[a.length-2]&&"}"===a[a.length-1])break}}while(">"!==i);var S,C,M=a.join("");S=-1!==M.indexOf(" ")?M.indexOf(" "):-1!==M.indexOf("\n")?M.indexOf("\n"):"{"===M.charAt(0)?M.indexOf("}"):M.indexOf(">"),C="<"!==M.charAt(0)&&y?"#"===M.charAt(2)?3:2:1;var A=M.substring(C,S).toLowerCase();return"/"===M.charAt(M.length-2)||this.Utils.in_array(A,this.Utils.single_token)?e||(this.tag_type="SINGLE"):y&&"{"===M.charAt(0)&&"else"===A?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(A,_)||this.is_unformatted(A,g)?(o=this.get_unformatted("</"+A+">",M),a.push(o),this.pos,this.tag_type="SINGLE"):"script"===A&&(-1===M.search("type")||M.search("type")>-1&&M.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?e||(this.record_tag(A),this.tag_type="SCRIPT"):"style"===A&&(-1===M.search("type")||M.search("type")>-1&&M.search("text/css")>-1)?e||(this.record_tag(A),this.tag_type="STYLE"):"!"===A.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===A.charAt(0)?(this.retrieve_tag(A.substring(1)),this.tag_type="END"):(this.record_tag(A),"html"!==A.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(a),this.Utils.in_array(A,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=u,this.line_char_count=d),a.join("")},this.get_comment=function(e){var t="",n=">",r=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=i).charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!r&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(n="]]>",r=!0):0===t.indexOf("<![")?(n="]>",r=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",r=!0):0===t.indexOf("{{!--")?(n="--}}",r=!0):0===t.indexOf("{{!")?5===t.length&&-1===t.indexOf("{{!--")&&(n="}}",r=!0):0===t.indexOf("<?")?(n="?>",r=!0):0===t.indexOf("<%")&&(n="%>",r=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var n="",r="",i=!0,a=function(e){var t="";return{add:function(n){var r=t+n.toLowerCase();t=r.length<=e.length?r:r.substr(r.length-e.length,e.length)},doesNotMatch:function(){return-1===t.indexOf(e)}}}(e);do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,a.add(n),this.line_char_count++,i=!0,y&&"{"===n&&r.length&&"{"===r.charAt(r.length-2)&&(r+=this.get_unformatted("}}"))}while(a.doesNotMatch());return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,t))},this.printer=function(t,n,r,i,a){this.input=t||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=n,this.indent_string="",this.indent_size=r,this.brace_style=a,this.indent_level=0,this.wrap_line_length=i,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(t,n){this.line_char_count=0,n&&n.length&&(t||"\n"!==n[n.length-1])&&("\n"!==n[n.length-1]&&(n[n.length-1]=e(n[n.length-1])),n.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=function(e){return e.replace(/^\s+/g,"")}(e)),this.print_token_raw(e))},this.print_token_raw=function(t){this.newlines>0&&(t=e(t)),t&&""!==t&&(t.length>1&&"\n"===t.charAt(t.length-1)?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this},s.printer(t,p,d,f,h);;){var A=s.get_token();if(s.token_text=A[0],s.token_type=A[1],"TK_EOF"===s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(!s.indent_body_inner_html&&s.token_text.match(/<body(?:.*)>/)||!s.indent_head_inner_html&&s.token_text.match(/<head(?:.*)>/)||s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===s.last_token&&""===s.last_text){var O=(s.token_text.match(/\w+/)||[])[0],E=null;s.output.length&&(E=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===E||E[1]!==O&&!s.Utils.in_array(E[1],_))&&s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var P=s.token_text.match(/^\s*<([a-z-]+)/i);P&&s.Utils.in_array(P[1],_)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var D=!1,j=s.output.length-1;j>=0&&"\n"!==s.output[j];j--)if(s.output[j].match(/{{#if/)){D=!0;break}D||s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var I,L=s.token_text,R=1;"TK_SCRIPT"===s.token_type?I="function"==typeof a&&a:"TK_STYLE"===s.token_type&&(I="function"==typeof o&&o),"keep"===i.indent_scripts?R=0:"separate"===i.indent_scripts&&(R=-s.indent_level);var N=s.get_full_indent(R);if(I){var F=function(){this.eol="\n"};F.prototype=i;var q=new F;L=I(L.replace(/^\s*/,N),q)}else{var U=L.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,z=s.get_full_indent(R-U);L=L.replace(/^\s*/,N).replace(/\r\n|\r|\n/g,"\n"+z).replace(/\s+$/,"")}L&&(s.print_token_raw(L),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var B=s.output.join("").replace(/[\r\n\t ]+$/,"");return S&&(B+="\n"),"\n"!==M&&(B=B.replace(/[\n]/g,M)),B}var n=/\r\n|[\n\r\u2028\u2029]/,r=new RegExp(n.source,"g");if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],(function(e){var n=e("./beautify"),r=e("./beautify-css");return{html_beautify:function(e,i){return t(e,i,n.js_beautify,r.css_beautify)}}}));else if("undefined"!=typeof exports){var i=require("./beautify.js"),a=require("./beautify-css.js");exports.html_beautify=function(e,n){return t(e,n,i.js_beautify,a.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(e,n){return t(e,n,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(e,n){return t(e,n,global.js_beautify,global.css_beautify)});"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&(self.html_beautify=function(e,n){return t(e,n)})}(),function(){var e;!function(){"use strict";var t=[,,function(e){function t(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function r(e,r){this.__indent_cache=new n(e,r),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}t.prototype.clone_empty=function(){var e=new t(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},t.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},t.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},t.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return 0===this.__items.length},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},t.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},n.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},n.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},n.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},r.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(e,n){for(var r=this.__lines.length-2;r>=0;){var i=this.__lines[r];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==n){this.__lines.splice(r+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}},e.exports.Output=r},,,,function(e){function t(e,t){this.raw_options=n(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(e,t){var n,i={};for(n in e=r(e))n!==t&&(i[n]=e[n]);if(t&&e[t])for(n in e[t])i[n]=e[t][n];return i}function r(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}t.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},t.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},t.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},t.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},t.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},t.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},t.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=t,e.exports.normalizeOpts=r,e.exports.mergeOpts=n},,function(e){var t=RegExp.prototype.hasOwnProperty("sticky");function n(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},n.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},n.prototype.__match=function(e,n){e.lastIndex=n;var r=e.exec(this.__input);return!r||t&&e.sticky||r.index!==n&&(r=null),r},n.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},n.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},n.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},n.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},n.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},n.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},n.prototype.get_regexp=function(e,n){var r=null,i="g";return n&&t&&(i="y"),"string"==typeof e&&""!==e?r=new RegExp(e,i):e&&(r=new RegExp(e.source,i)),r},n.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},n.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=n},,,,,function(e){function t(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=t},,function(e,t,n){var r=n(16).Beautifier,i=n(17).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){var r=n(17).Options,i=n(2).Output,a=n(8).InputScanner,o=new(0,n(13).Directives)(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,c=/\s/,u=/(?:\s|\n)+/g,d=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,p=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function f(e,t){this._source_text=e||"",this._options=new r(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}f.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},f.prototype.eatWhitespace=function(e){for(var t=c.test(this._input.peek()),n=0;c.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return t},f.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1;t++,n=this._input.peek(t)}return!1},f.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},f.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},f.prototype.indent=function(){this._indentLevel++},f.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&s.test(e||"")&&(t=e.match(s)[0]));var n=(e=e.replace(l,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new a(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,f,h=0,_=!1,g=!1,m=!1,v=!1,y=!1,b=this._ch;r=""!==this._input.read(u),f=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var w=this._input.read(d),T=o.get_directives(w);T&&"start"===T.ignore&&(w+=o.readIgnored(this._input)),this.print_string(w),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(p)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var x=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);x.match(/[ :]$/)&&(x=this.eatString(": ").replace(/\s$/,""),this.print_string(x),this._output.space_before_token=!0),"extend"===(x=x.replace(/\s$/,""))?v=!0:"import"===x&&(y=!0),x in this.NESTED_AT_RULE?(this._nestedLevel+=1,x in this.CONDITIONAL_GROUP_RULE&&(m=!0)):_||0!==h||-1===x.indexOf(":")||(g=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(g&&(g=!1,this.outdent()),m?(m=!1,_=this._indentLevel>=this._nestedLevel):_=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&_&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===f&&this._output.trim(!0),y=!1,v=!1,g&&(this.outdent(),g=!1),this.print_string(this._ch),_=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!_&&!m||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||v||0!==h?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===h?(g&&(this.outdent(),g=!1),v=!1,y=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),h++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),h&&(h--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),h++,this.indent()):")"===this._ch?(h&&(h--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g||0!==h||y?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||g||0!==h?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),c.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&c.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},e.exports.Beautifier=f},function(e,t,n){var r=n(6).Options;function i(e){r.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<n.length;i++)"expand"!==n[i]?this.brace_style="collapse":this.brace_style=n[i]}i.prototype=new r,e.exports.Options=i}],n={};var r=function e(r){var i=n[r];if(void 0!==i)return i.exports;var a=n[r]={exports:{}};return t[r](a,a.exports,e),a.exports}(15);e=r}();var t=e;"function"==typeof define&&define.amd?define([],(function(){return{css_beautify:t}})):"undefined"!=typeof exports?exports.css_beautify=t:"undefined"!=typeof window?window.css_beautify=t:"undefined"!=typeof global&&(global.css_beautify=t)}(),function(e){"use strict";function t(){var e=arguments[0],n=t.cache;return n[e]&&n.hasOwnProperty(e)||(n[e]=t.parse(e)),t.format.call(null,n[e],arguments)}function n(e){return"number"==typeof e?"number":"string"==typeof e?"string":Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){return t>=0&&t<=7&&o[e]?o[e][t]:Array(t+1).join(e)}var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};t.format=function(e,a){var o,s,l,c,u,d,p,f=1,h=e.length,_="",g=[],m=!0,v="";for(s=0;s<h;s++)if("string"===(_=n(e[s])))g[g.length]=e[s];else if("array"===_){if((c=e[s])[2])for(o=a[f],l=0;l<c[2].length;l++){if(!o.hasOwnProperty(c[2][l]))throw new Error(t('[tvrsprintf] property "%s" does not exist',c[2][l]));o=o[c[2][l]]}else o=c[1]?a[c[1]]:a[f++];if(i.not_type.test(c[8])&&i.not_primitive.test(c[8])&&"function"==n(o)&&(o=o()),i.numeric_arg.test(c[8])&&"number"!=n(o)&&isNaN(o))throw new TypeError(t("[tvrsprintf] expecting number but found %s",n(o)));switch(i.number.test(c[8])&&(m=o>=0),c[8]){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c[6]?parseInt(c[6]):0);break;case"e":o=c[7]?parseFloat(o).toExponential(c[7]):parseFloat(o).toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"g":o=c[7]?parseFloat(o).toPrecision(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=String(o),o=c[7]?o.substring(0,c[7]):o;break;case"t":o=String(!!o),o=c[7]?o.substring(0,c[7]):o;break;case"T":o=n(o),o=c[7]?o.substring(0,c[7]):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=c[7]?o.substring(0,c[7]):o;break;case"x":o=parseInt(o,10).toString(16);break;case"X":o=parseInt(o,10).toString(16).toUpperCase()}i.json.test(c[8])?g[g.length]=o:(!i.number.test(c[8])||m&&!c[3]?v="":(v=m?"+":"-",o=o.toString().replace(i.sign,"")),d=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",p=c[6]-(v+o).length,u=c[6]&&p>0?r(d,p):"",g[g.length]=c[5]?v+o+u:"0"===d?v+u+o:u+v+o)}return g.join("")},t.cache={},t.parse=function(e){for(var t=e,n=[],r=[],a=0;t;){if(null!==(n=i.text.exec(t)))r[r.length]=n[0];else if(null!==(n=i.modulo.exec(t)))r[r.length]="%";else{if(null===(n=i.placeholder.exec(t)))throw new SyntaxError("[tvrsprintf] unexpected placeholder");if(n[2]){a|=1;var o=[],s=n[2],l=[];if(null===(l=i.key.exec(s)))throw new SyntaxError("[tvrsprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=i.key_access.exec(s)))o[o.length]=l[1];else{if(null===(l=i.index_access.exec(s)))throw new SyntaxError("[tvrsprintf] failed to parse named argument key");o[o.length]=l[1]}n[2]=o}else a|=2;if(3===a)throw new Error("[tvrsprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}t=t.substring(n[0].length)}return r};var a=function(e,n,r){return(r=(n||[]).slice(0)).splice(0,0,e),t.apply(null,r)},o={0:["","0","00","000","0000","00000","000000","0000000"]," ":[""," ","  ","   ","    ","     ","      ","       "],_:["","_","__","___","____","_____","______","_______"]};"undefined"!=typeof exports&&(exports.tvrsprintf=t,exports.vtvrsprintf=a),void 0!==e&&(e.tvrsprintf=t,e.vtvrsprintf=a,"function"==typeof define&&define.amd&&define((function(){return{tvrsprintf:t,vtvrsprintf:a}})))}("undefined"==typeof window?this:window),
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Sortable=t()}(this,(function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(n){t(e,n,r[n])}))}return e}function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var s=o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=o(/Edge/i),c=o(/firefox/i),u=o(/safari/i)&&!o(/chrome/i)&&!o(/android/i),d=o(/iP(ad|od|hone)/i),p=o(/chrome/i)&&o(/android/i),f={capture:!1,passive:!1};function h(e,t,n){e.addEventListener(t,n,!s&&f)}function _(e,t,n){e.removeEventListener(t,n,!s&&f)}function g(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function m(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function v(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&g(e,t):g(e,t))||r&&e===n)return e;if(e===n)break}while(e=m(e))}return null}var y,b=/\s+/g;function w(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(b," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(b," ")}}function T(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function x(e,t){var n="";if("string"==typeof e)n=e;else do{var r=T(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function k(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function S(){var e=document.scrollingElement;return e||document.documentElement}function C(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var a,o,l,c,u,d,p;if(e!==window&&e.parentNode&&e!==S()?(o=(a=e.getBoundingClientRect()).top,l=a.left,c=a.bottom,u=a.right,d=a.height,p=a.width):(o=0,l=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!s))do{if(i&&i.getBoundingClientRect&&("none"!==T(i,"transform")||n&&"static"!==T(i,"position"))){var f=i.getBoundingClientRect();o-=f.top+parseInt(T(i,"border-top-width")),l-=f.left+parseInt(T(i,"border-left-width")),c=o+a.height,u=l+a.width;break}}while(i=i.parentNode);if(r&&e!==window){var h=x(i||e),_=h&&h.a,g=h&&h.d;h&&(c=(o/=g)+(d/=g),u=(l/=_)+(p/=_))}return{top:o,left:l,bottom:c,right:u,width:p,height:d}}}function M(e,t,n){for(var r=D(e,!0),i=C(e)[t];r;){var a=C(r)[n];if(!("top"===n||"left"===n?i>=a:i<=a))return r;if(r===S())break;r=D(r,!1)}return!1}function A(e,t,n){for(var r=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Ne.ghost&&a[i]!==Ne.dragged&&v(a[i],n.draggable,e,!1)){if(r===t)return a[i];r++}i++}return null}function O(e,t){for(var n=e.lastElementChild;n&&(n===Ne.ghost||"none"===T(n,"display")||t&&!g(n,t));)n=n.previousElementSibling;return n||null}function E(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ne.clone||t&&!g(e,t)||n++;return n}function P(e){var t=0,n=0,r=S();if(e)do{var i=x(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function D(e,t){if(!e||!e.getBoundingClientRect)return S();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=T(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return S();if(r||t)return n;r=!0}}}while(n=n.parentNode);return S()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function I(e,t){return function(){if(!y){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),y=setTimeout((function(){y=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function R(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function N(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function F(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var q="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==Ne.ghost){t.push({target:e,rect:C(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=x(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=C(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=x(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&j(l,s)&&!j(o,s)&&(u.top-s.top)/(u.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),j(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){T(e,"transition",""),T(e,"transform","");var i=x(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),l=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,T(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),T(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var z=[],B={initializeByDefault:!0},$={mount:function(e){for(var t in B)B.hasOwnProperty(t)&&!(t in e)&&(e[t]=B[t]);z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),z.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=e+"Global";z.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](r({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](r({sortable:t},n)))}))},initializePlugins:function(e,t,r,i){for(var a in z.forEach((function(i){var a=i.pluginName;if(e.options[a]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[a]=o,n(r,o.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);void 0!==o&&(e.options[a]=o)}},getEventProperties:function(e,t){var r={};return z.forEach((function(i){"function"==typeof i.eventProperties&&n(r,i.eventProperties.call(t[i.pluginName],e))})),r},modifyOption:function(e,t,n){var r;return z.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function H(e){var t=e.sortable,n=e.rootEl,i=e.name,a=e.targetEl,o=e.cloneEl,c=e.toEl,u=e.fromEl,d=e.oldIndex,p=e.newIndex,f=e.oldDraggableIndex,h=e.newDraggableIndex,_=e.originalEvent,g=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[q]){var v,y=t.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||s||l?(v=document.createEvent("Event")).initEvent(i,!0,!0):v=new CustomEvent(i,{bubbles:!0,cancelable:!0}),v.to=c||n,v.from=u||n,v.item=a||n,v.clone=o,v.oldIndex=d,v.newIndex=p,v.oldDraggableIndex=f,v.newDraggableIndex=h,v.originalEvent=_,v.pullMode=g?g.lastPutMode:void 0;var w=r({},m,$.getEventProperties(i,t));for(var T in w)v[T]=w[T];n&&n.dispatchEvent(v),y[b]&&y[b].call(t,v)}}var V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,o=i(n,["evt"]);$.pluginEvent.bind(Ne)(e,t,r({dragEl:G,parentEl:K,ghostEl:Q,rootEl:X,nextEl:Y,lastDownEl:J,cloneEl:Z,cloneHidden:ee,dragStarted:fe,putSortable:oe,activeSortable:Ne.active,originalEvent:a,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ie,hideGhostForTarget:je,unhideGhostForTarget:Ie,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){W({sortable:t,name:e,originalEvent:a})}},o))};function W(e){H(r({putSortable:oe,cloneEl:Z,targetEl:G,rootEl:X,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ie},e))}var G,K,Q,X,Y,J,Z,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,pe,fe,he,_e,ge,me,ve=!1,ye=!1,be=[],we=!1,Te=!1,xe=[],ke=!1,Se=[],Ce="undefined"!=typeof document,Me=d,Ae=l||s?"cssFloat":"float",Oe=Ce&&!p&&!d&&"draggable"in document.createElement("div"),Ee=function(){if(Ce){if(s)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Pe=function(e,t){var n=T(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=A(e,0,t),a=A(e,1,t),o=i&&T(i),s=a&&T(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+C(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=r&&"none"===n[Ae]||a&&"none"===n[Ae]&&l+c>r)?"vertical":"horizontal"},De=function(t){function n(e,t){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(t||s))return!0;if(null==e||!1===e)return!1;if(t&&"clone"===e)return e;if("function"==typeof e)return n(e(r,i,a,o),t)(r,i,a,o);var l=(t?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},i=t.group;i&&"object"==e(i)||(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},je=function(){!Ee&&Q&&T(Q,"display","none")},Ie=function(){!Ee&&Q&&T(Q,"display","")};Ce&&document.addEventListener("click",(function(e){if(ye)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ye=!1,!1}),!0);var Le=function(e){if(G){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,a=e.clientY,be.some((function(e){if(!O(e)){var t=C(e),n=e[q].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=a>=t.top-n&&a<=t.bottom+n;return n&&r&&s?o=e:void 0}})),o);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[q]._onDragOver(n)}}var i,a,o},Re=function(e){G&&G.parentNode[q]._isOutsideThisEl(e.target)};function Ne(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=n({},t),e[q]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ne.supportPointer&&"PointerEvent"in window&&!u,emptyInsertThreshold:5};for(var i in $.initializePlugins(this,e,r),r)!(i in t)&&(t[i]=r[i]);for(var a in De(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Oe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?h(e,"pointerdown",this._onTapStart):(h(e,"mousedown",this._onTapStart),h(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(h(e,"dragover",this),h(e,"dragenter",this)),be.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),n(this,U())}function Fe(e,t,n,r,i,a,o,c){var u,d,p=e[q],f=p.options.onMove;return!window.CustomEvent||s||l?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=i||t,u.relatedRect=a||C(t),u.willInsertAfter=c,u.originalEvent=o,e.dispatchEvent(u),f&&(d=f.call(p,u,o)),d}function qe(e){e.draggable=!1}function Ue(){ke=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Be(e){return setTimeout(e,0)}function $e(e){return clearTimeout(e)}Ne.prototype={constructor:Ne,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(he=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,G):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Se.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Se.push(r)}}(n),!G&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!u||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=v(s,r.draggable,n,!1))&&s.animated||J===s)){if(te=E(s),re=E(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return W({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),V("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=v(l,r.trim(),n,!1))return W({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),V("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!v(l,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,a=i.el,o=i.options,u=a.ownerDocument;if(n&&!G&&n.parentNode===a){var d=C(n);if(X=a,K=(G=n).parentNode,Y=G.nextSibling,J=n,ae=o.group,Ne.dragged=G,se={target:G,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-d.left,pe=se.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,G.style["will-change"]="all",r=function(){V("delayEnded",i,{evt:e}),Ne.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!c&&i.nativeDraggable&&(G.draggable=!0),i._triggerDragStart(e,t),W({sortable:i,name:"choose",originalEvent:e}),w(G,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){k(G,e.trim(),qe)})),h(u,"dragover",Le),h(u,"mousemove",Le),h(u,"touchmove",Le),h(u,"mouseup",i._onDrop),h(u,"touchend",i._onDrop),h(u,"touchcancel",i._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),V("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(l||s))r();else{if(Ne.eventCanceled)return void this._onDrop();h(u,"mouseup",i._disableDelayedDrag),h(u,"touchend",i._disableDelayedDrag),h(u,"touchcancel",i._disableDelayedDrag),h(u,"mousemove",i._delayedDragTouchMoveHandler),h(u,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&h(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&qe(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?h(document,"pointermove",this._onTouchMove):h(document,t?"touchmove":"mousemove",this._onTouchMove):(h(G,"dragend",this),h(X,"dragstart",this._onDragStart));try{document.selection?Be((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ve=!1,X&&G){V("dragStarted",this,{evt:t}),this.nativeDraggable&&h(document,"dragover",Re);var n=this.options;!e&&w(G,n.dragClass,!1),w(G,n.ghostClass,!0),Ne.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,je();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(G.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]){if(t[q]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ie()}},_onTouchMove:function(e){if(se){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=Q&&x(Q,!0),o=Q&&a&&a.a,s=Q&&a&&a.d,l=Me&&me&&P(me),c=(i.clientX-se.clientX+r.x)/(o||1)+(l?l[0]-xe[0]:0)/(o||1),u=(i.clientY-se.clientY+r.y)/(s||1)+(l?l[1]-xe[1]:0)/(s||1);if(!Ne.active&&!ve){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Q){a?(a.e+=c-(ce||0),a.f+=u-(ue||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");T(Q,"webkitTransform",d),T(Q,"mozTransform",d),T(Q,"msTransform",d),T(Q,"transform",d),ce=c,ue=u,le=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Q){var e=this.options.fallbackOnBody?document.body:X,t=C(G,!0,Me,!0,e),n=this.options;if(Me){for(me=e;"static"===T(me,"position")&&"none"===T(me,"transform")&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=S()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=S(),xe=P(me)}w(Q=G.cloneNode(!0),n.ghostClass,!1),w(Q,n.fallbackClass,!0),w(Q,n.dragClass,!0),T(Q,"transition",""),T(Q,"transform",""),T(Q,"box-sizing","border-box"),T(Q,"margin",0),T(Q,"top",t.top),T(Q,"left",t.left),T(Q,"width",t.width),T(Q,"height",t.height),T(Q,"opacity","0.8"),T(Q,"position",Me?"absolute":"fixed"),T(Q,"zIndex","100000"),T(Q,"pointerEvents","none"),Ne.ghost=Q,e.appendChild(Q),T(Q,"transform-origin",de/parseInt(Q.style.width)*100+"% "+pe/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;V("dragStart",this,{evt:e}),Ne.eventCanceled?this._onDrop():(V("setupClone",this),Ne.eventCanceled||((Z=R(G)).draggable=!1,Z.style["will-change"]="",this._hideClone(),w(Z,this.options.chosenClass,!1),Ne.clone=Z),n.cloneId=Be((function(){V("clone",n),Ne.eventCanceled||(n.options.removeCloneOnHide||X.insertBefore(Z,G),n._hideClone(),W({sortable:n,name:"clone"}))})),!t&&w(G,i.dragClass,!0),t?(ye=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_(document,"mouseup",n._onDrop),_(document,"touchend",n._onDrop),_(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,G)),h(document,"drop",n),T(G,"transform","translateZ(0)")),ve=!0,n._dragStartId=Be(n._dragStarted.bind(n,t,e)),h(document,"selectstart",n),fe=!0,u&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,a,o=this.el,s=e.target,l=this.options,c=l.group,u=Ne.active,d=ae===c,p=l.sort,f=oe||u,h=this,_=!1;if(!ke){if(TvrMT.TvrCom.open_folder_if_dragging_over(e),void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=v(s,l.draggable,o,!0),N("dragOver"),Ne.eventCanceled)return _;if(G.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return U(!1);if(ye=!1,u&&!l.disabled&&(d?p||(i=!X.contains(G)):oe===this||(this.lastPutMode=ae.checkPull(this,u,G,e))&&c.checkPut(this,u,G,e))){if(a="vertical"===this._getDirection(e,s),t=C(G),N("dragOverValid"),Ne.eventCanceled)return _;if(i)return K=X,F(),this._hideClone(),N("revert"),Ne.eventCanceled||(Y?X.insertBefore(G,Y):X.appendChild(G)),U(!0);var g=O(o,l.draggable);if(!g||function(e,t,n){var r=C(O(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}(e,a,this)&&!g.animated){if(g===G)return U(!1);if(g&&o===e.target&&(s=g),s&&(n=C(s)),!1!==Fe(X,o,G,t,s,n,e,!!s))return F(),o.appendChild(G),K=o,z(),U(!0)}else if(s.parentNode===o){n=C(s);var m,y,b,x=G.parentNode!==o,k=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===o||i===s||r+a/2===o+l/2}(G.animated&&G.toRect||t,s.animated&&s.toRect||n,a),S=a?"top":"left",A=M(s,"top","top")||M(G,"top","top"),P=A?A.scrollTop:void 0;if(he!==s&&(y=n[S],we=!1,Te=!k&&l.invertSwap||x),m=function(e,t,n,r,i,a,o,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!o)if(s&&ge<c*i){if(!we&&(1===_e?l>u+c*a/2:l<d-c*a/2)&&(we=!0),we)p=!0;else if(1===_e?l<u+ge:l>d-ge)return-_e}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return E(G)<E(e)?1:-1}(t);if((p=p||o)&&(l<u+c*a/2||l>d-c*a/2))return l>u+c/2?1:-1;return 0}(e,s,n,a,k?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,he===s),0!==m){var D=E(G);do{D-=m,b=K.children[D]}while(b&&("none"===T(b,"display")||b===Q))}if(0===m||b===s)return U(!1);he=s,_e=m;var j=s.nextElementSibling,I=!1,R=Fe(X,o,G,t,s,n,e,I=1===m);if(!1!==R)return 1!==R&&-1!==R||(I=1===R),ke=!0,setTimeout(Ue,30),F(),I&&!j?o.appendChild(G):s.parentNode.insertBefore(G,I?j:s),A&&L(A,0,P-A.scrollTop),K=G.parentNode,void 0===y||Te||(ge=Math.abs(y-C(s)[S])),z(),U(!0)}if(o.contains(G))return U(!1)}return!1}function N(l,c){V(l,h,r({evt:e,isOwner:d,axis:a?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:p,fromSortable:f,target:s,completed:U,onMove:function(n,r){return Fe(X,o,G,t,n,C(n),e,r)},changed:z},c))}function F(){N("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function U(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(h),h!==f&&(w(G,oe?oe.options.ghostClass:u.options.ghostClass,!1),w(G,l.ghostClass,!0)),oe!==h&&h!==Ne.active?oe=h:h===Ne.active&&oe&&(oe=null),f===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){N("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===G&&!G.animated||s===o&&!s.animated)&&(he=null),l.dragoverBubble||e.rootEl||s===document||(G.parentNode[q]._isOutsideThisEl(e.target),!t&&Le(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function z(){ne=E(G),ie=E(G,l.draggable),W({sortable:h,name:"change",toEl:o,newIndex:ne,newDraggableIndex:ie,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",Le),_(document,"mousemove",Le),_(document,"touchmove",Le)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=E(G),ie=E(G,n.draggable),V("drop",this,{evt:e}),K=G&&G.parentNode,ne=E(G),ie=E(G,n.draggable),Ne.eventCanceled||(ve=!1,Te=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$e(this.cloneId),$e(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&T(document.body,"user-select",""),T(G,"transform",""),e&&(fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(X===K||oe&&"clone"!==oe.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),G&&(this.nativeDraggable&&_(G,"dragend",this),qe(G),G.style["will-change"]="",fe&&!ve&&w(G,oe?oe.options.ghostClass:this.options.ghostClass,!1),w(G,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==K?(ne>=0&&(W({rootEl:K,name:"add",toEl:K,fromEl:X,originalEvent:e}),W({sortable:this,name:"remove",toEl:K,originalEvent:e}),W({rootEl:K,name:"sort",toEl:K,fromEl:X,originalEvent:e}),W({sortable:this,name:"sort",toEl:K,originalEvent:e})),oe&&oe.save()):ne!==te&&ne>=0&&(W({sortable:this,name:"update",toEl:K,originalEvent:e}),W({sortable:this,name:"sort",toEl:K,originalEvent:e})),Ne.active&&(null!=ne&&-1!==ne||(ne=te,ie=re),W({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){V("nulling",this),X=G=K=Q=Y=Z=J=ee=se=le=fe=ne=ie=te=re=he=_e=oe=ae=Ne.dragged=Ne.ghost=Ne.clone=Ne.active=null,Se.forEach((function(e){e.checked=!0})),Se.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":G&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)v(e=n[r],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ze(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];v(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return v(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=$.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&De(n)},destroy:function(){V("destroy",this);var e=this.el;e[q]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),be.splice(be.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(V("hideClone",this),Ne.eventCanceled)return;T(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(V("showClone",this),Ne.eventCanceled)return;G.parentNode!=X||this.options.group.revertClone?Y?X.insertBefore(Z,Y):X.appendChild(Z):X.insertBefore(Z,G),this.options.group.revertClone&&this.animate(G,Z),T(Z,"display",""),ee=!1}}else this._hideClone()}},Ce&&h(document,"touchmove",(function(e){(Ne.active||ve)&&e.cancelable&&e.preventDefault()})),Ne.utils={on:h,off:_,css:T,find:k,is:function(e,t){return!!v(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:I,closest:v,toggleClass:w,clone:R,index:E,nextTick:Be,cancelNextTick:$e,detectDirection:Pe,getChild:A},Ne.get=function(e){return e[q]},Ne.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ne.utils=r({},Ne.utils,e.utils)),$.mount(e)}))},Ne.create=function(e,t){return new Ne(e,t)},Ne.version="1.13.0";var He,Ve,We,Ge,Ke,Qe,Xe=[],Ye=!1;function Je(){Xe.forEach((function(e){clearInterval(e.pid)})),Xe=[]}function Ze(){clearInterval(Qe)}var et,tt=I((function(e,t,n,r){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=S(),u=!1;Ve!==n&&(Ve=n,Je(),He=t.scroll,i=t.scrollFn,!0===He&&(He=D(n,!0)));var d=0,p=He;do{var f=p,h=C(f),_=h.top,g=h.bottom,m=h.left,v=h.right,y=h.width,b=h.height,w=void 0,x=void 0,k=f.scrollWidth,M=f.scrollHeight,A=T(f),O=f.scrollLeft,E=f.scrollTop;f===c?(w=y<k&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),x=b<M&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(w=y<k&&("auto"===A.overflowX||"scroll"===A.overflowX),x=b<M&&("auto"===A.overflowY||"scroll"===A.overflowY));var P=w&&(Math.abs(v-a)<=s&&O+y<k)-(Math.abs(m-a)<=s&&!!O),j=x&&(Math.abs(g-o)<=s&&E+b<M)-(Math.abs(_-o)<=s&&!!E);if(!Xe[d])for(var I=0;I<=d;I++)Xe[I]||(Xe[I]={});Xe[d].vx==P&&Xe[d].vy==j&&Xe[d].el===f||(Xe[d].el=f,Xe[d].vx=P,Xe[d].vy=j,clearInterval(Xe[d].pid),0==P&&0==j||(u=!0,Xe[d].pid=setInterval(function(){r&&0===this.layer&&Ne.active._onTouchMove(Ke);var t=Xe[this.layer].vy?Xe[this.layer].vy*l:0,n=Xe[this.layer].vx?Xe[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Ne.dragged.parentNode[q],n,t,e,Ke,Xe[this.layer].el)||L(Xe[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=D(p,!1)));Ye=u}}),30),nt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function rt(){}function it(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=A(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:nt},n(rt,{pluginName:"revertOnSpill"}),it.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:nt},n(it,{pluginName:"removeOnSpill"});var at,ot,st,lt,ct,ut=[],dt=[],pt=!1,ft=!1,ht=!1;function _t(e,t){dt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function gt(){ut.forEach((function(e){e!==st&&e.parentNode&&e.parentNode.removeChild(e)}))}return Ne.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):this.options.supportPointer?h(document,"pointermove",this._handleFallbackAutoScroll):t.touches?h(document,"touchmove",this._handleFallbackAutoScroll):h(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Je(),clearTimeout(y),y=void 0},nulling:function(){Ke=Ve=He=Ye=Qe=We=Ge=null,Xe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(Ke=e,t||l||s||u){tt(e,this.options,a,t);var o=D(a,!0);!Ye||Qe&&r===We&&i===Ge||(Qe&&Ze(),Qe=setInterval((function(){var a=D(document.elementFromPoint(r,i),!0);a!==o&&(o=a,Je()),tt(e,n.options,a,t)}),10),We=r,Ge=i)}else{if(!this.options.bubbleScroll||D(a,!0)===S())return void Je();tt(e,this.options,D(a,!1),!1)}}},n(e,{pluginName:"scroll",initializeByDefault:!0})}),Ne.mount(it,rt),Ne.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;et=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,a=e.changed,o=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=et;!1!==r(n)?(w(n,l.swapClass,!0),et=n):et=null,c&&c!==et&&w(c,l.swapClass,!1)}a(),t(!0),o()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,a=this.options;et&&w(et,a.swapClass,!1),et&&(a.swap||n&&n.options.swap)&&r!==et&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,r,i=e.parentNode,a=t.parentNode;if(!i||!a||i.isEqualNode(t)||a.isEqualNode(e))return;n=E(e),r=E(t),i.isEqualNode(a)&&n<r&&r++;i.insertBefore(t,i.children[n]),a.insertBefore(e,a.children[r])}(r,et),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){et=null}},n(e,{pluginName:"swap",eventProperties:function(){return{swapItem:et}}})}),Ne.mount(new function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?h(document,"pointerup",this._deselectMultiDrag):(h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag)),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";ut.length&&ot===e?ut.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;st=t},delayEnded:function(){this.isMultiDrag=~ut.indexOf(st)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<ut.length;r++)dt.push(R(ut[r])),dt[r].sortableIndex=ut[r].sortableIndex,dt[r].draggable=!1,dt[r].style["will-change"]="",w(dt[r],this.options.selectedClass,!1),ut[r]===st&&w(dt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ut.length&&ot===t&&(_t(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(_t(!1,n),dt.forEach((function(e){T(e,"display","")})),t(),ct=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(dt.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),ct=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ot&&ot.multiDrag._deselectMultiDrag(),ut.forEach((function(e){e.sortableIndex=E(e)})),ut=ut.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),ht=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){ut.forEach((function(e){e!==st&&T(e,"position","absolute")}));var r=C(st,!1,!0,!0);ut.forEach((function(e){e!==st&&N(e,r)})),ft=!0,pt=!0}n.animateAll((function(){ft=!1,pt=!1,t.options.animation&&ut.forEach((function(e){F(e)})),t.options.sort&&gt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;ft&&~ut.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;ut.length>1&&(ut.forEach((function(e){r.addAnimationState({target:e,rect:ft?C(e):i}),F(e),e.fromRect=i,t.removeAnimationState(e)})),ft=!1,function(e,t){ut.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,a=e.parentEl,o=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),pt=!1,s.animation&&ut.length>1&&(ft||!n&&!i.options.sort&&!o)){var l=C(st,!1,!0,!0);ut.forEach((function(e){e!==st&&(N(e,l),a.appendChild(e))})),ft=!0}if(!n)if(ft||gt(),ut.length>1){var c=ct;i._showClone(t),i.options.animation&&!ct&&c&&dt.forEach((function(e){i.addAnimationState({target:e,rect:lt}),e.fromRect=lt,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,r=e.isOwner,i=e.activeSortable;if(ut.forEach((function(e){e.thisAnimationDuration=null})),i.options.animation&&!r&&i.multiDrag.isMultiDrag){lt=n({},t);var a=x(st,!0);lt.top-=a.f,lt.left-=a.e}},dragOverAnimationComplete:function(){ft&&(ft=!1,gt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,a=e.dispatchSortableEvent,o=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!ht)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(st,c.selectedClass,!~ut.indexOf(st)),~ut.indexOf(st))ut.splice(ut.indexOf(st),1),at=null,H({sortable:i,rootEl:n,name:"deselect",targetEl:st,originalEvt:t});else{if(ut.push(st),H({sortable:i,rootEl:n,name:"select",targetEl:st,originalEvt:t}),t.shiftKey&&at&&i.el.contains(at)){var d,p,f=E(at),h=E(st);if(~f&&~h&&f!==h)for(h>f?(p=f,d=h):(p=h,d=f+1);p<d;p++)~ut.indexOf(u[p])||(w(u[p],c.selectedClass,!0),ut.push(u[p]),H({sortable:i,rootEl:n,name:"select",targetEl:u[p],originalEvt:t}))}else at=st;ot=l}if(ht&&this.isMultiDrag){if((r[q].options.sort||r!==n)&&ut.length>1){var _=C(st),g=E(st,":not(."+this.options.selectedClass+")");if(!pt&&c.animation&&(st.thisAnimationDuration=null),l.captureAnimationState(),!pt&&(c.animation&&(st.fromRect=_,ut.forEach((function(e){if(e.thisAnimationDuration=null,e!==st){var t=ft?C(e):_;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),gt(),ut.forEach((function(e){u[g]?r.insertBefore(e,u[g]):r.appendChild(e),g++})),o===E(st))){var m=!1;ut.forEach((function(e){e.sortableIndex===E(e)||(m=!0)})),m&&a("update")}ut.forEach((function(e){F(e)})),l.animateAll()}ot=l}(n===r||s&&"clone"!==s.lastPutMode)&&dt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=ht=!1,dt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_(document,"pointerup",this._deselectMultiDrag),_(document,"mouseup",this._deselectMultiDrag),_(document,"touchend",this._deselectMultiDrag),_(document,"keydown",this._checkKeyDown),_(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==ht&&ht||ot!==this.sortable||e&&v(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ut.length;){var t=ut[0];w(t,this.options.selectedClass,!1),ut.shift(),H({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},n(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[q];t&&t.options.multiDrag&&!~ut.indexOf(e)&&(ot&&ot!==t&&(ot.multiDrag._deselectMultiDrag(),ot=t),w(e,t.options.selectedClass,!0),ut.push(e))},deselect:function(e){var t=e.parentNode[q],n=ut.indexOf(e);t&&t.options.multiDrag&&~n&&(w(e,t.options.selectedClass,!1),ut.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return ut.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=ft&&r!==st?-1:ft?E(r,":not(."+e.options.selectedClass+")"):E(r),n.push({multiDragElement:r,index:i})})),{items:a(ut),clones:[].concat(dt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}),Ne})),function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){var n=t[o][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(n,r){
/** vim: et:ts=4:sw=4:sts=4
 * @license amdefine 1.0.0 Copyright (c) 2011-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/amdefine for details
 */
"use strict";t.exports=function(t,i){var a,o,s={},l={},c=!1,u=e("path");function d(e,t){var n;return e&&"."===e.charAt(0)&&t&&(function(e){var t,n;for(t=0;e[t];t+=1)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}(n=(n=(n=t.split("/")).slice(0,n.length-1)).concat(e.split("/"))),e=n.join("/")),e}function p(e,n,o){var s,u,d,p;if(e)u=l[e]={},s=a(i,u,d={id:e,uri:r,exports:u},e);else{if(c)throw new Error("amdefine with no module ID cannot be called more than once per file.");c=!0,u=t.exports,s=a(i,u,d=t,t.id)}n&&(n=n.map((function(e){return s(e)}))),void 0!==(p="function"==typeof o?o.apply(d.exports,n):o)&&(d.exports=p,e&&(l[e]=d.exports))}function f(e,t,n){Array.isArray(e)?(n=t,t=e,e=void 0):"string"!=typeof e&&(n=e,e=t=void 0),t&&!Array.isArray(t)&&(n=t,t=void 0),t||(t=["require","exports","module"]),e?s[e]=[e,t,n]:p(e,t,n)}return a=function(e,t,r,i){function a(a,s){if("string"==typeof a)return o(e,t,r,a,i);a=a.map((function(n){return o(e,t,r,n,i)})),s&&n.nextTick((function(){s.apply(null,a)}))}return a.toUrl=function(e){return 0===e.indexOf(".")?d(e,u.dirname(r.filename)):e},a},i=i||function(){return t.require.apply(t,arguments)},o=function(e,t,n,r,i){var c,u,f,h=r.indexOf("!"),_=r;if(-1===h){if("require"===(r=d(r,i)))return a(e,t,n,i);if("exports"===r)return t;if("module"===r)return n;if(l.hasOwnProperty(r))return l[r];if(s[r])return p.apply(null,s[r]),l[r];if(e)return e(_);throw new Error("No module with ID: "+r)}return c=r.substring(0,h),r=r.substring(h+1,r.length),r=(u=o(e,t,n,c,i)).normalize?u.normalize(r,(f=i,function(e){return d(e,f)})):d(r,i),l[r]||u.load(r,a(e,t,n,i),function(e){function t(t){l[e]=t}return t.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},t}(r),{}),l[r]},f.require=function(e){return l[e]?l[e]:s[e]?(p.apply(null,s[e]),l[e]):void 0},f.amd={},f}}).call(this,e("_process"),"/node_modules\\amdefine\\amdefine.js")},{_process:22,path:21}],2:[function(e,t,n){},{}],3:[function(e,t,n){n.parse=e("./lib/parse"),n.stringify=e("./lib/stringify"),window.TvrParser=n},{"./lib/parse":4,"./lib/stringify":8}],4:[function(e,t,n){var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function i(e){return e?e.replace(/^\s+|\s+$/g,""):""}function a(e,t){var n=e&&"string"==typeof e.type,r=n?e:t;for(var i in e){var o=e[i];Array.isArray(o)?o.forEach((function(e){a(e,r)})):o&&"object"==typeof o&&a(o,r)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}t.exports=function(e,t){t=t||{};var n=1,o=1;function s(e){var t=e.match(/\n/g);t&&(n+=t.length);var r=e.lastIndexOf("\n");o=~r?e.length-r:o+e.length}function l(){var e={line:n,column:o};return function(t){return t.position=new c(e),g(),t}}function c(e){this.start=e,this.end={line:n,column:o},this.source=t.source}c.prototype.content=e;var u=[];function d(r){var i=new Error(t.source+":"+n+":"+o+": "+r);if(i.reason=r,i.filename=t.source,i.line=n,i.column=o,i.source=e,!t.silent)throw i;u.push(i)}function p(){return _(/^{\s*/)}function f(){return _(/^}/)}function h(){var t,n=[];for(g(),m(n);e.length&&"}"!=e.charAt(0)&&(t=M()||A());)!1!==t&&(n.push(t),m(n));return n}function _(t){var n=t.exec(e);if(n){var r=n[0];return s(r),e=e.slice(r.length),n}}function g(){_(/^\s*/)}function m(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=l();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return d("End of comment missing");var r=e.slice(2,n-2);return o+=2,s(r),e=e.slice(n),o+=2,t({type:"comment",comment:r})}}function y(){var e=_(/^([^{]+)/);if(e)return i(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function b(){var e=l(),t=_(/^(\*?[-$#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=i(t[0]),!_(/^:\s*/))return d("property missing ':'");var n=_(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),a=e({type:"declaration",property:t.replace(r,""),value:n?i(n[0]).replace(r,""):""});return _(/^[;\s]*/),a}}function w(){var e,t=[];if(!p())return d("missing '{'");for(m(t);e=b();)!1!==e&&(t.push(e),m(t));return f()?t:d("missing '}'")}function T(){for(var e,t=[],n=l();e=_(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),_(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:w()})}var x=C("import"),k=C("charset"),S=C("namespace");function C(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=l(),r=_(t);if(r){var i={type:e};return i[e]=r[1].trim(),n(i)}}}function M(){if("@"==e[0])return function(){var e=l();if(t=_(/^@([-\w]+)?keyframes\s*/)){var t,n=t[1];if(!(t=_(/^([-\w]+)\s*/)))return d("@keyframes missing name");var r,i=t[1];if(!p())return d("@keyframes missing '{'");for(var a=m();r=T();)a.push(r),a=a.concat(m());return f()?e({type:"keyframes",name:i,vendor:n,keyframes:a}):d("@keyframes missing '}'")}}()||function(){var e=l(),t=_(/^@media *([^{]+)/);if(t){var n=i(t[1]);if(!p())return d("@media missing '{'");var r=m().concat(h());return f()?e({type:"media",media:n,rules:r}):d("@media missing '}'")}}()||function(){var e=l(),t=_(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:i(t[1]),media:i(t[2])})}()||function(){var e=l(),t=_(/^@supports *([^{]+)/);if(t){var n=i(t[1]);if(!p())return d("@supports missing '{'");var r=m().concat(h());return f()?e({type:"supports",supports:n,rules:r}):d("@supports missing '}'")}}()||x()||k()||S()||function(){var e=l(),t=_(/^@([-\w]+)?document *([^{]+)/);if(t){var n=i(t[1]),r=i(t[2]);if(!p())return d("@document missing '{'");var a=m().concat(h());return f()?e({type:"document",document:r,vendor:n,rules:a}):d("@document missing '}'")}}()||function(){var e=l();if(_(/^@page */)){var t=y()||[];if(!p())return d("@page missing '{'");for(var n,r=m();n=b();)r.push(n),r=r.concat(m());return f()?e({type:"page",selectors:t,declarations:r}):d("@page missing '}'")}}()||function(){var e=l();if(_(/^@host\s*/)){if(!p())return d("@host missing '{'");var t=m().concat(h());return f()?e({type:"host",rules:t}):d("@host missing '}'")}}()||function(){var e=l();if(_(/^@font-face\s*/)){if(!p())return d("@font-face missing '{'");for(var t,n=m();t=b();)n.push(t),n=n.concat(m());return f()?e({type:"font-face",declarations:n}):d("@font-face missing '}'")}}()}function A(){var e=l(),t=y();return t?(m(),e({type:"rule",selectors:t,declarations:w()})):d("selector missing")}return a({type:"stylesheet",stylesheet:{rules:h(),parsingErrors:u}})}},{}],5:[function(e,t,n){function r(e){this.options=e||{}}t.exports=r,r.prototype.emit=function(e){return e},r.prototype.visit=function(e){return this[e.type](e)},r.prototype.mapVisit=function(e,t){var n="";t=t||"";for(var r=0,i=e.length;r<i;r++)n+=this.visit(e[r]),t&&r<i-1&&(n+=this.emit(t));return n}},{}],6:[function(e,t,n){var r=e("./compiler"),i=e("inherits");function a(e){r.call(this,e)}t.exports=a,i(a,r),a.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")},a.prototype.comment=function(e){return this.emit("",e.position)},a.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},a.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},a.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},a.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")},a.prototype.keyframe=function(e){var t=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}")},a.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+t,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},a.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},a.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},a.prototype.rule=function(e){var t=e.declarations;return t.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}"):""},a.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")}},{"./compiler":5,inherits:20}],7:[function(e,t,n){var r=e("./compiler"),i=e("inherits");function a(e){e=e||{},r.call(this,e),this.indentation=e.indent}t.exports=a,i(a,r),a.prototype.compile=function(e){return this.stylesheet(e)},a.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,"\n\n")},a.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)},a.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},a.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},a.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},a.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.keyframes,"\n")+this.emit(this.indent(-1)+"}")},a.prototype.keyframe=function(e){var t=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(t,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},a.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+t,e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},a.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},a.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},a.prototype.rule=function(e){var t=this.indent(),n=e.declarations;return n&&n.length?this.emit(e.selectors.map((function(e){return t+e})).join(",\n"),e.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(n,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},a.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")},a.prototype.indent=function(e){return this.level=this.level||1,null!=e?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")}},{"./compiler":5,inherits:20}],8:[function(e,t,n){var r=e("./compress"),i=e("./identity");t.exports=function(t,n){var a=(n=n||{}).compress?new r(n):new i(n);if(n.sourcemap){e("./source-map-support")(a);var o=a.compile(t);return a.applySourceMaps(),{code:o,map:"generator"===n.sourcemap?a.map:a.map.toJSON()}}return o=a.compile(t)}},{"./compress":6,"./identity":7,"./source-map-support":9}],9:[function(e,t,n){var r=e("source-map").SourceMapGenerator,i=e("source-map").SourceMapConsumer,a=e("source-map-resolve"),o=e("urix"),s=e("fs"),l=e("path");t.exports=function(e){for(var t in e._comment=e.comment,e.map=new r,e.position={line:1,column:1},e.files={},n)e[t]=n[t]},n.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var n=e.lastIndexOf("\n");this.position.column=~n?e.length-n:this.position.column+e.length},n.emit=function(e,t){if(t){var n=o(t.source||"source.css");this.map.addMapping({source:n,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:t.start.line,column:t.start.column-1}}),this.addFile(n,t)}return this.updatePosition(e),e},n.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},n.applySourceMaps=function(){Object.keys(this.files).forEach((function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!1!==this.options.inputSourcemaps){var n=a.resolveSync(t,e,s.readFileSync);if(n){var r=new i(n.map),c=n.sourcesRelativeTo;this.map.applySourceMap(r,e,o(l.dirname(c)))}}}),this)},n.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}},{fs:2,path:21,"source-map":10,"source-map-resolve":24,urix:26}],10:[function(e,t,n){n.SourceMapGenerator=e("./source-map/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./source-map/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":16,"./source-map/source-map-generator":17,"./source-map/source-node":18}],11:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r=e("./util");function i(){this._array=[],this._set={}}i.fromArray=function(e,t){for(var n=new i,r=0,a=e.length;r<a;r++)n.add(e[r],t);return n},i.prototype.add=function(e,t){var n=this.has(e),i=this._array.length;n&&!t||this._array.push(e),n||(this._set[r.toSetString(e)]=i)},i.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,r.toSetString(e))},i.prototype.indexOf=function(e){if(this.has(e))return this._set[r.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i}))},{"./util":19,amdefine:1}],12:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r=e("./base64");t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t){var n,i,a,o,s=0,l=e.length,c=0,u=0;do{if(s>=l)throw new Error("Expected more digits in base 64 VLQ value.");n=!!(32&(i=r.decode(e.charAt(s++)))),c+=(i&=31)<<u,u+=5}while(n);t.value=(o=(a=c)>>1,1&~a?o:-o),t.rest=e.slice(s)}}))},{"./base64":13,amdefine:1}],13:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((function(e,t){r[e]=t,i[t]=e})),t.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in r)return r[e];throw new TypeError("Not a valid base 64 digit: "+e)}}))},{amdefine:1}],14:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){function r(e,t,n,i,a){var o=Math.floor((t-e)/2)+e,s=a(n,i[o],!0);return 0===s?o:s>0?t-o>1?r(o,t,n,i,a):o:o-e>1?r(e,o,n,i,a):e<0?-1:e}t.search=function(e,t,n){return 0===t.length?-1:r(-1,t.length,e,t,n)}}))},{amdefine:1}],15:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r=e("./util");function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,a,o,s;t=this._last,n=e,i=t.generatedLine,a=n.generatedLine,o=t.generatedColumn,s=n.generatedColumn,a>i||a==i&&s>=o||r.compareByGeneratedPositions(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositions),this._sorted=!0),this._array},t.MappingList=i}))},{"./util":19,amdefine:1}],16:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r=e("./util"),i=e("./binary-search"),a=e("./array-set").ArraySet,o=e("./base64-vlq");function s(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),o=r.getArg(t,"names",[]),s=r.getArg(t,"sourceRoot",null),l=r.getArg(t,"sourcesContent",null),c=r.getArg(t,"mappings"),u=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(r.normalize),this._names=a.fromArray(o,!0),this._sources=a.fromArray(i,!0),this.sourceRoot=s,this.sourcesContent=l,this._mappings=c,this.file=u}s.fromSourceMap=function(e){var t=Object.create(s.prototype);return t._names=a.fromArray(e._names.toArray(),!0),t._sources=a.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.toArray().slice(),t.__originalMappings=e._mappings.toArray().slice().sort(r.compareByOriginalPositions),t},s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e}),this)}}),s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),s.prototype._nextCharIsMappingSeparator=function(e){var t=e.charAt(0);return";"===t||","===t},s.prototype._parseMappings=function(e,t){for(var n,i=1,a=0,s=0,l=0,c=0,u=0,d=e,p={};d.length>0;)if(";"===d.charAt(0))i++,d=d.slice(1),a=0;else if(","===d.charAt(0))d=d.slice(1);else{if((n={}).generatedLine=i,o.decode(d,p),n.generatedColumn=a+p.value,a=n.generatedColumn,(d=p.rest).length>0&&!this._nextCharIsMappingSeparator(d)){if(o.decode(d,p),n.source=this._sources.at(c+p.value),c+=p.value,0===(d=p.rest).length||this._nextCharIsMappingSeparator(d))throw new Error("Found a source, but no line and column");if(o.decode(d,p),n.originalLine=s+p.value,s=n.originalLine,n.originalLine+=1,0===(d=p.rest).length||this._nextCharIsMappingSeparator(d))throw new Error("Found a source and line, but no column");o.decode(d,p),n.originalColumn=l+p.value,l=n.originalColumn,(d=p.rest).length>0&&!this._nextCharIsMappingSeparator(d)&&(o.decode(d,p),n.name=this._names.at(u+p.value),u+=p.value,d=p.rest)}this.__generatedMappings.push(n),"number"==typeof n.originalLine&&this.__originalMappings.push(n)}this.__generatedMappings.sort(r.compareByGeneratedPositions),this.__originalMappings.sort(r.compareByOriginalPositions)},s.prototype._findMapping=function(e,t,n,r,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,a)},s.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},s.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositions);if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var a=r.getArg(i,"source",null);return null!=a&&null!=this.sourceRoot&&(a=r.join(this.sourceRoot,a)),{source:a,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:r.getArg(i,"name",null)}}}return{source:null,line:null,column:null,name:null}},s.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=r.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){var t={source:r.getArg(e,"source"),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")};null!=this.sourceRoot&&(t.source=r.relative(this.sourceRoot,t.source));var n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions);if(n>=0){var i=this._originalMappings[n];return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},s.prototype.allGeneratedPositionsFor=function(e){var t={source:r.getArg(e,"source"),originalLine:r.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(t.source=r.relative(this.sourceRoot,t.source));var n=[],i=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions);if(i>=0)for(var a=this._originalMappings[i];a&&a.originalLine===t.originalLine;)n.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[--i];return n.reverse()},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.prototype.eachMapping=function(e,t,n){var i,a=t||null;switch(n||s.GENERATED_ORDER){case s.GENERATED_ORDER:i=this._generatedMappings;break;case s.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;i.map((function(e){var t=e.source;return null!=t&&null!=o&&(t=r.join(o,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}})).forEach(e,a)},t.SourceMapConsumer=s}))},{"./array-set":11,"./base64-vlq":12,"./binary-search":14,"./util":19,amdefine:1}],17:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r=e("./base64-vlq"),i=e("./util"),a=e("./array-set").ArraySet,o=e("./mapping-list").MappingList;function s(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new o,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)})),n},s.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),a=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,a),null==r||this._sources.has(r)||this._sources.add(r),null==a||this._names.has(a)||this._names.add(a),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:a})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var o=this._sourceRoot;null!=o&&(r=i.relative(o,r));var s=new a,l=new a;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=i.join(n,t.source)),null!=o&&(t.source=i.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||s.has(c)||s.add(c);var u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=s,this._names=l,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=o&&(t=i.relative(o,t)),this.setSourceContent(t,r))}),this)},s.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){for(var e,t=0,n=1,a=0,o=0,s=0,l=0,c="",u=this._mappings.toArray(),d=0,p=u.length;d<p;d++){if((e=u[d]).generatedLine!==n)for(t=0;e.generatedLine!==n;)c+=";",n++;else if(d>0){if(!i.compareByGeneratedPositions(e,u[d-1]))continue;c+=","}c+=r.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(c+=r.encode(this._sources.indexOf(e.source)-l),l=this._sources.indexOf(e.source),c+=r.encode(e.originalLine-1-o),o=e.originalLine-1,c+=r.encode(e.originalColumn-a),a=e.originalColumn,null!=e.name&&(c+=r.encode(this._names.indexOf(e.name)-s),s=this._names.indexOf(e.name)))}return c},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=s}))},{"./array-set":11,"./base64-vlq":12,"./mapping-list":15,"./util":19,amdefine:1}],18:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){var r=e("./source-map-generator").SourceMapGenerator,i=e("./util"),a=/(\r?\n)/,o="$$$isSourceNode$$$";function s(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[o]=!0,null!=r&&this.add(r)}s.fromStringWithSourceMap=function(e,t,n){var r=new s,o=e.split(a),l=function(){return o.shift()+(o.shift()||"")},c=1,u=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(c<e.generatedLine)){t=(n=o[0]).substr(0,e.generatedColumn-u);return o[0]=n.substr(e.generatedColumn-u),u=e.generatedColumn,p(d,t),void(d=e)}var t="";p(d,l()),c++,u=0}for(;c<e.generatedLine;)r.add(l()),c++;if(u<e.generatedColumn){var n=o[0];r.add(n.substr(0,e.generatedColumn)),o[0]=n.substr(e.generatedColumn),u=e.generatedColumn}d=e}),this),o.length>0&&(d&&p(d,l()),r.add(o.join(""))),t.sources.forEach((function(e){var a=t.sourceContentFor(e);null!=a&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,a))})),r;function p(e,t){if(null===e||void 0===e.source)r.add(t);else{var a=n?i.join(n,e.source):e.source;r.add(new s(e.originalLine,e.originalColumn,a,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[o]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[o]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][o]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},s.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,a=null,o=null,s=null,l=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(a===r.source&&o===r.line&&s===r.column&&l===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),a=r.source,o=r.line,s=r.column,l=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),a=null,i=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(a=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=s}))},{"./source-map-generator":17,"./util":19,amdefine:1}],19:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r((function(e,t,n){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function a(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,n=a(e);if(n){if(!n.path)return e;t=n.path}for(var r,i="/"===t.charAt(0),s=t.split(/\/+/),l=0,c=s.length-1;c>=0;c--)"."===(r=s[c])?s.splice(c,1):".."===r?l++:l>0&&(""===r?(s.splice(c+1,l),l=0):(s.splice(c,2),l--));return""===(t=s.join("/"))&&(t=i?"/":"."),n?(n.path=t,o(n)):t}function l(e,t){var n=e||"",r=t||"";return(n>r)-(n<r)}t.urlParse=a,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=a(t),r=a(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),o(n);if(n||t.match(i))return t;if(r&&!r.host&&!r.path)return r.host=t,o(r);var l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=l,o(r)):l},t.relative=function(e,t){""===e&&(e=".");var n=a(e=e.replace(/\/$/,""));return"/"==t.charAt(0)&&n&&"/"==n.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t},t.toSetString=function(e){return"$"+e},t.fromSetString=function(e){return e.substr(1)},t.compareByOriginalPositions=function(e,t,n){var r;return(r=l(e.source,t.source))||(r=e.originalLine-t.originalLine)||(r=e.originalColumn-t.originalColumn)||n||(r=l(e.name,t.name))?r:(r=e.generatedLine-t.generatedLine)||e.generatedColumn-t.generatedColumn},t.compareByGeneratedPositions=function(e,t,n){var r;return(r=e.generatedLine-t.generatedLine)||(r=e.generatedColumn-t.generatedColumn)||n||(r=l(e.source,t.source))||(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn)||l(e.name,t.name)}}))},{amdefine:1}],20:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],21:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function a(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,r="/"===o.charAt(0))}return(r?"/":"")+(n=t(a(n.split("/"),(function(e){return!!e})),!r).join("/"))||"."},n.normalize=function(e){var r=n.isAbsolute(e),i="/"===o(e,-1);return(e=t(a(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),a=r(t.split("/")),o=Math.min(i.length,a.length),s=o,l=0;l<o;l++)if(i[l]!==a[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(a.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:22}],22:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=l(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new _(e,t)),1!==u.length||d||l(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],23:[function(e,t,n){var r,i;r=this,i=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,i=document.createElement("a"),a=1;a<e;a++)i.href=arguments[a],r=i.href,t.href=r;return n.removeChild(t),r}},"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():r.resolveUrl=i()},{}],24:[function(e,t,n){!function(r,i){if("function"==typeof define&&define.amd)define(["source-map-url","resolve-url"],i);else if("object"==typeof n){var a=e("source-map-url"),o=e("resolve-url");t.exports=i(a,o)}else r.sourceMapResolve=i(r.sourceMappingURL,r.resolveUrl)}(this,(function(e,t){function n(e,t,n){setImmediate((function(){e(t,n)}))}function r(e){return JSON.parse(e.replace(/^\)\]\}'/,""))}function i(e,t,i,a){var o;try{o=l(e,t)}catch(e){return n(a,e)}if(!o||o.map)return n(a,null,o);i(o.url,(function(e,t){if(e)return a(e);try{o.map=r(String(t))}catch(e){return a(e)}a(null,o)}))}function a(e,t,n){var i=l(e,t);return!i||i.map||(i.map=r(String(n(i.url)))),i}var o=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,s=/^(?:application|text)\/json$/;function l(n,i){var a=e.getFrom(n);if(!a)return null;var l=a.match(o);if(l){var c=l[1],u=l[2],d=l[3];if(!s.test(c))throw new Error("Unuseful data uri mime type: "+(c||"text/plain"));return{sourceMappingURL:a,url:null,sourcesRelativeTo:i,map:r(";base64"===u?atob(d):decodeURIComponent(d))}}var p=t(i,a);return{sourceMappingURL:a,url:p,sourcesRelativeTo:p,map:null}}function c(e,t,r,i,a){"function"==typeof i&&(a=i,i={});var o=e.sources.length,s=!1,l={sourcesResolved:[],sourcesContent:[]},c=function(e){if(!s){if(e)return s=!0,a(e);0===--o&&a(null,l)}};p(e,t,i,(function(e,t,i){l.sourcesResolved[i]=e,"string"==typeof t?(l.sourcesContent[i]=t,n(c,null)):r(e,(function(e,t){l.sourcesContent[i]=String(t),c(e)}))}))}function u(e,t,n,r){var i={sourcesResolved:[],sourcesContent:[]};return p(e,t,r,(function(e,t,r){i.sourcesResolved[r]=e,null!==n&&(i.sourcesContent[r]="string"==typeof t?t:String(n(e)))})),i}var d=/\/?$/;function p(e,n,r,i){r=r||{};for(var a=0,o=e.sources.length;a<o;a++)i(e.sourceRoot&&!r.ignoreSourceRoot?t(n,e.sourceRoot.replace(d,"/"),e.sources[a]):t(n,e.sources[a]),(e.sourcesContent||[])[a],a)}return{resolveSourceMap:i,resolveSourceMapSync:a,resolveSources:c,resolveSourcesSync:u,resolve:function(e,t,n,r,a){"function"==typeof r&&(a=r,r={}),i(e,t,n,(function(e,t){return e?a(e):t?void c(t.map,t.sourcesRelativeTo,n,r,(function(e,n){if(e)return a(e);t.sourcesResolved=n.sourcesResolved,t.sourcesContent=n.sourcesContent,a(null,t)})):a(null,null)}))},resolveSync:function(e,t,n,r){var i=a(e,t,n);if(!i)return null;var o=u(i.map,i.sourcesRelativeTo,n,r);return i.sourcesResolved=o.sourcesResolved,i.sourcesContent=o.sourcesContent,i}}}))},{"resolve-url":23,"source-map-url":25}],25:[function(e,t,n){var r,i;r=this,i=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*$");return{regex:t,_innerRegex:e,getFrom:function(e){var n=e.match(t);return n?n[1]||n[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,n){var r=e.match(t);return r?e.slice(0,r.index)+n+e.slice(r.index):e+n}}},"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():r.sourceMappingURL=i()},{}],26:[function(e,t,n){var r=e("path");t.exports=function(e){return"\\"===r.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e}},{path:21}]},{},[3]),function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r=n(1),i=n(7);e.exports={createNode:function(e){return new r(e)},parse:i},window.TvrSCSS=e.exports},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.type=t.type,this.content=t.content,this.syntax=t.syntax,t.start&&(this.start=t.start),t.end&&(this.end=t.end)}return e.prototype.contains=function(e){return!!Array.isArray(this.content)&&this.content.some((function(t){return t.type===e}))},e.prototype.eachFor=function(e,t){if(Array.isArray(this.content)){"string"!=typeof e&&(t=e,e=null);for(var n,r=this.content.length;r--&&null!==n;)(!e||this.content[r]&&this.content[r].type===e)&&(n=t(this.content[r],r,this));return null===n?null:void 0}},e.prototype.first=function(e){if(!Array.isArray(this.content))return null;if(!e)return this.content[0];for(var t=0,n=this.content.length;t<n;t++)if(this.content[t].type===e)return this.content[t];return null},e.prototype.forEach=function(e,t){if(Array.isArray(this.content)){"string"!=typeof e&&(t=e,e=null);for(var n,r=0,i=this.content.length;r<i&&null!==n;r++)(!e||this.content[r]&&this.content[r].type===e)&&(n=t(this.content[r],r,this));return null===n?null:void 0}},e.prototype.get=function(e){return Array.isArray(this.content)&&this.content[e]||null},e.prototype.insert=function(e,t){Array.isArray(this.content)&&this.content.splice(e,0,t)},e.prototype.is=function(e){return this.type===e},e.prototype.last=function(e){if(!Array.isArray(this.content))return null;var t=this.content.length;if(!e)return this.content[t-1];for(;t--;)if(this.content[t].type===e)return this.content[t];return null},e.prototype.removeChild=function(e){if(Array.isArray(this.content))return this.content.splice(e,1)},e.prototype.toJson=function(){return JSON.stringify(this,!1,2)},e.prototype.toString=function(){var e=void 0;try{e=n(2)("./"+this.syntax+"/stringify")}catch(e){var t='Syntax "'+this.syntax+'" is not supported yet, sorry';return console.error(t)}return e(this)},e.prototype.traverse=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e(this,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,++i),Array.isArray(this.content)){for(var a=0,o=this.content.length;a<o&&null!==(n=this.content[a].traverse(e,a,i,this));a++)(r=this.content.length-o)&&(o+=r,a+=r);return null===n?null:void 0}},e.prototype.traverseByType=function(e,t){this.traverse((function(n){n.type===e&&t.apply(n,arguments)}))},e.prototype.traverseByTypes=function(e,t){this.traverse((function(n){-1!==e.indexOf(n.type)&&t.apply(n,arguments)}))},r(e,[{key:"length",get:function(){return Array.isArray(this.content)?this.content.length:0}}]),e}();e.exports=i},function(e,t,n){var r={"./css/stringify":3,"./less/stringify":4,"./sass/stringify":5,"./scss/stringify":6};function i(e){return n(a(e))}function a(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=2},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return r[t]?r[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?n(e.content):""}function n(e,n){if(!e)return"";var r="";for(n=n||0;n<e.length;n++)r+=t(e[n]);return r}var r={arguments:function(e){return"("+n(e.content)+")"},atkeyword:function(e){return"@"+n(e.content)},attributeSelector:function(e){return"["+n(e.content)+"]"},block:function(e){return"{"+n(e.content)+"}"},brackets:function(e){return"["+n(e.content)+"]"},class:function(e){return"."+n(e.content)},color:function(e){return"#"+e.content},customProperty:function(e){return"--"+e.content},expression:function(e){return"expression("+e.content+")"},id:function(e){return"#"+n(e.content)},multilineComment:function(e){return"/*"+e.content+"*/"},nthSelector:function(e){return":"+t(e.content[0])+"("+n(e.content.slice(1))+")"},parentheses:function(e){return"("+n(e.content)+")"},percentage:function(e){return n(e.content)+"%"},pseudoClass:function(e){return":"+n(e.content)},pseudoElement:function(e){return"::"+n(e.content)},universalSelector:function(e){return n(e.content)+"*"},uri:function(e){return"url("+n(e.content)+")"}};return t(e)}},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return r[t]?r[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?n(e.content):""}function n(e,n){if(!e)return"";var r="";for(n=n||0;n<e.length;n++)r+=t(e[n]);return r}var r={arguments:function(e){return"("+n(e.content)+")"},atkeyword:function(e){return"@"+n(e.content)},attributeSelector:function(e){return"["+n(e.content)+"]"},block:function(e){return"{"+n(e.content)+"}"},brackets:function(e){return"["+n(e.content)+"]"},class:function(e){return"."+n(e.content)},color:function(e){return"#"+e.content},escapedString:function(e){return"~"+e.content},expression:function(e){return"expression("+e.content+")"},id:function(e){return"#"+n(e.content)},interpolatedVariable:function(e){return"@{"+n(e.content)+"}"},multilineComment:function(e){return"/*"+e.content+"*/"},nthSelector:function(e){return":"+t(e.content[0])+"("+n(e.content.slice(1))+")"},parentheses:function(e){return"("+n(e.content)+")"},percentage:function(e){return n(e.content)+"%"},pseudoClass:function(e){return":"+n(e.content)},pseudoElement:function(e){return"::"+n(e.content)},singlelineComment:function(e){return"//"+e.content},universalSelector:function(e){return n(e.content)+"*"},uri:function(e){return"url("+n(e.content)+")"},variable:function(e){return"@"+n(e.content)},variablesList:function(e){return n(e.content)+"..."}};return t(e)}},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return r[t]?r[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?n(e.content):""}function n(e,n){if(!e)return"";var r="";for(n=n||0;n<e.length;n++)r+=t(e[n]);return r}var r={arguments:function(e){return"("+n(e.content)+")"},atkeyword:function(e){return"@"+n(e.content)},attributeSelector:function(e){return"["+n(e.content)+"]"},block:function(e){return n(e.content)},brackets:function(e){return"["+n(e.content)+"]"},class:function(e){return"."+n(e.content)},color:function(e){return"#"+e.content},customProperty:function(e){return"--"+e.content},expression:function(e){return"expression("+e.content+")"},functionsList:function(e){return n(e.content)+"..."},id:function(e){return"#"+n(e.content)},interpolation:function(e){return"#{"+n(e.content)+"}"},multilineComment:function(e){var t=e.content.split("\n"),n="";return t.length>1?t[t.length-1].length<e.end.column&&(n="*/"):e.content.length+4===e.end.column-e.start.column+1&&(n="*/"),"/*"+e.content+n},nthSelector:function(e){return":"+t(e.content[0])+"("+n(e.content.slice(1))+")"},parentheses:function(e){return"("+n(e.content)+")"},percentage:function(e){return n(e.content)+"%"},placeholder:function(e){return"%"+n(e.content)},pseudoClass:function(e){return":"+n(e.content)},pseudoElement:function(e){return"::"+n(e.content)},singlelineComment:function(e){return"//"+e.content},universalSelector:function(e){return n(e.content)+"*"},uri:function(e){return"url("+n(e.content)+")"},variable:function(e){return"$"+n(e.content)},variablesList:function(e){return n(e.content)+"..."}};return t(e)}},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return r[t]?r[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?n(e.content):""}function n(e,n){if(!e)return"";var r="";for(n=n||0;n<e.length;n++)r+=t(e[n]);return r}var r={arguments:function(e){return"("+n(e.content)+")"},atkeyword:function(e){return"@"+n(e.content)},attributeSelector:function(e){return"["+n(e.content)+"]"},block:function(e){return"{"+n(e.content)+"}"},brackets:function(e){return"["+n(e.content)+"]"},class:function(e){return"."+n(e.content)},color:function(e){return"#"+e.content},customProperty:function(e){return"--"+e.content},expression:function(e){return"expression("+e.content+")"},functionsList:function(e){return n(e.content)+"..."},id:function(e){return"#"+n(e.content)},interpolation:function(e){return"#{"+n(e.content)+"}"},multilineComment:function(e){return"/*"+e.content+"*/"},nthSelector:function(e){return":"+t(e.content[0])+"("+n(e.content.slice(1))+")"},parentheses:function(e){return"("+n(e.content)+")"},percentage:function(e){return n(e.content)+"%"},placeholder:function(e){return"%"+n(e.content)},pseudoClass:function(e){return":"+n(e.content)},pseudoElement:function(e){return"::"+n(e.content)},singlelineComment:function(e){return"//"+e.content},universalSelector:function(e){return n(e.content)+"*"},uri:function(e){return"url("+n(e.content)+")"},variable:function(e){return"$"+n(e.content)},variablesList:function(e){return n(e.content)+"..."}};return t(e)}},function(e,t,n){"use strict";var r=n(8),i=n(10),a=Number.isInteger||function(e){return"number"==typeof e&&Math.floor(e)===e};e.exports=function(e,t){if("string"!=typeof e)throw new Error("Please, pass a string to parse");if(!e)return n(29)();var o=t&&t.syntax||"css",s=t&&t.context||"stylesheet",l=t&&t.tabSize;(!a(l)||l<1)&&(l=1);var c=i[o];if(!c){var u='Syntax "'+o+'" is not supported yet, sorry';return console.error(u)}var d,p=c.tokenizer,f=c.mark,h=c.parse,_=p(e,l);f(_);try{d=h(_,s)}catch(t){if(!t.syntax)throw t;throw new r(t,e)}return d}},function(e,t,n){"use strict";var r=n(9);function i(e,t){this.line=e.line,this.syntax=e.syntax,this.css_=t}i.prototype={customMessage_:"",line:null,name:"Parsing error",syntax:null,version:r.version,get context(){for(var e=[],t=this.line,n=t-1-2,r=t+2,i=this.css_.split(/\r\n|\r|\n/),a=n;a<r;a++){var o=i[a];if(o){var s=a+1,l=s===t?"*":" ";e.push(s+l+"| "+o)}}return e.join("\n")},get message(){if(this.customMessage_)return this.customMessage_;var e="Please check validity of the block";return"number"==typeof this.line&&(e+=" starting from line #"+this.line),e},set message(e){this.customMessage_=e},toString:function(){return[this.name+": "+this.message,"",this.context,"","Syntax: "+this.syntax,"Gonzales PE version: "+this.version].join("\n")}},e.exports=i},function(e,t){e.exports={name:"gonzales-pe",description:"Gonzales Preprocessor Edition (fast CSS parser)",version:"4.2.4",homepage:"http://github.com/tonyganch/gonzales-pe",bugs:"http://github.com/tonyganch/gonzales-pe/issues",license:"MIT",author:{name:"Tony Ganch",email:"tonyganch+github@gmail.com",url:"http://tonyganch.com"},main:"./lib/gonzales",repository:{type:"git",url:"http://github.com/tonyganch/gonzales-pe.git"},scripts:{"autofix-tests":"bash ./scripts/build.sh && bash ./scripts/autofix-tests.sh",build:"bash ./scripts/build.sh",init:"bash ./scripts/init.sh",lint:"bash ./scripts/lint.sh",log:"bash ./scripts/log.sh",prepublishOnly:"bash ./scripts/build.sh",test:"bash ./scripts/test.sh",watch:"bash ./scripts/watch.sh"},bin:{gonzales:"./bin/gonzales.js"},dependencies:{minimist:"1.1.x"},devDependencies:{"babel-core":"^6.18.2","babel-loader":"^6.2.7","babel-plugin-add-module-exports":"^0.2.1","babel-preset-es2015":"^6.18.0","coffee-script":"~1.7.1",eslint:"^3.0.0",jscs:"2.1.0",jshint:"2.10.2","json-loader":"^0.5.3",mocha:"2.2.x",webpack:"^1.12.2","webpack-closure-compiler":"^2.0.2"},engines:{node:">=0.6.0"},files:["MIT-LICENSE.txt","bin/gonzales.js","lib/gonzales.js"]}},function(e,t,n){"use strict";e.exports={css:n(11),less:n(17),sass:n(21),scss:n(25)}},function(e,t,n){"use strict";t.__esModule=!0,t.default={mark:n(12),parse:n(14),stringify:n(3),tokenizer:n(16)},e.exports=t.default},function(e,t,n){"use strict";var r=n(13);function i(e,t,n){var r=e[t];r.ws=!0,r.sc=!0,-1===n[0]&&(n[0]=t),-1===n[1]&&(n[1]=t)}function a(e,t,n){var r=n[0];e[t].sc=!0,-1!==r&&(e[r].ws_last=t-1,n[0]=-1)}function o(e,t,n){var r=n[0],i=n[1];-1!==r&&(e[r].ws_last=t-1,n[0]=-1),-1!==i&&(e[i].sc_last=t-1,n[1]=-1)}e.exports=function(e){!function(e){for(var t=e.length,n=[],i=[],a=[],o=void 0,s=0;s<t;s++){var l=(o=e[s]).type;l===r.LeftParenthesis?n.push(s):l===r.RightParenthesis?n.length&&(o.left=n.pop(),e[o.left].right=s):l===r.LeftSquareBracket?i.push(s):l===r.RightSquareBracket?i.length&&(o.left=i.pop(),e[o.left].right=s):l===r.LeftCurlyBracket?a.push(s):l===r.RightCurlyBracket&&a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t,n=e.length,s=[-1,-1],l=0;l<n;l++)(t=e[l].type)===r.Space||t===r.Tab||t===r.Newline?i(e,l,s):t===r.CommentML?a(e,l,s):o(e,l,s);o(e,l,s)}(e)}},function(e,t){"use strict";e.exports={StringSQ:"StringSQ",StringDQ:"StringDQ",CommentML:"CommentML",CommentSL:"CommentSL",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",PlusSign:"PlusSign",Comma:"Comma",HyphenMinus:"HyphenMinus",FullStop:"FullStop",Solidus:"Solidus",Colon:"Colon",Semicolon:"Semicolon",LessThanSign:"LessThanSign",EqualsSign:"EqualsSign",EqualitySign:"EqualitySign",InequalitySign:"InequalitySign",GreaterThanSign:"GreaterThanSign",QuestionMark:"QuestionMark",CommercialAt:"CommercialAt",LeftSquareBracket:"LeftSquareBracket",ReverseSolidus:"ReverseSolidus",RightSquareBracket:"RightSquareBracket",CircumflexAccent:"CircumflexAccent",LowLine:"LowLine",LeftCurlyBracket:"LeftCurlyBracket",VerticalLine:"VerticalLine",RightCurlyBracket:"RightCurlyBracket",Tilde:"Tilde",Identifier:"Identifier",DecimalNumber:"DecimalNumber"}},function(e,t,n){"use strict";var r=n(1),i=n(15),a=n(13),o=void 0,s=void 0,l=void 0,c={atkeyword:function(){return m(l)&&v()},atrule:function(){return y(l)&&b()},attributeSelector:function(){return nt(l)&&rt()},block:function(){return w(l)&&T()},brackets:function(){return k(l)&&S()},class:function(){return C(l)&&M()},combinator:function(){return A(l)&&O()},commentML:function(){return E(l)&&P()},declaration:function(){return D(l)&&j()},declDelim:function(){return I(l)&&L()},delim:function(){return R(l)&&N()},dimension:function(){return F(l)&&q()},expression:function(){return U(l)&&z()},function:function(){return B(l)&&$()},ident:function(){return H(l)&&V()},important:function(){return W(l)&&G()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,n=(t=o[l]).ln,r=t.col,l++,h(e,"|",n,r));var e,t,n,r,c},number:function(){return J(l)&&Z()},operator:function(){return ee(l)&&te()},parentheses:function(){return ne(l)&&re()},percentage:function(){return ie(l)&&ae()},progid:function(){return oe(l)&&se()},property:function(){return le(l)&&ce()},propertyDelim:function(){return pe(l)&&fe()},pseudoc:function(){return ve(l)&&ye()},pseudoe:function(){return ge(l)&&me()},ruleset:function(){return be(l)&&we()},s:function(){return Te(l)&&xe()},selector:function(){return Xe(l)&&Ye()},shash:function(){return Ce(l)&&Me()},string:function(){return Ae(l)&&Oe()},stylesheet:function(){return function(e){for(var t=e,n=void 0;e<s;)(n=ke(e))?o[e].stylesheet_child=1:(n=be(e))?o[e].stylesheet_child=2:(n=y(e))?o[e].stylesheet_child=3:(n=I(e))?o[e].stylesheet_child=4:u(e),e+=n;return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],n=t.ln,r=t.col,a=[];l<s;){var c=o[l].stylesheet_child;1===c&&(a=a.concat(Se())),2===c&&a.push(we()),3===c&&a.push(b()),4===c&&a.push(L())}return h(e,a,n,r)}()},unary:function(){return je(l)&&Ie()},unicodeRange:function(){return Le(l)&&Re()},universalSelector:function(){return et(l)&&tt()},urange:function(){return Fe(l)&&qe()},uri:function(){return ze(l)&&Be()},value:function(){return $e(l)&&He()},vhash:function(){return We(l)&&Ge()}};function u(e){throw{line:o[e].ln,syntax:"css"}}function d(e,t){for(var n="",r=e;r<t+1;r++)n+=o[r].value;return n}function p(e,t){if(!(e+t-1>=s)){for(var n="",r=0;r<t;r++)n+=o[e+r].value;return n}}function f(e,t,n,r){return"string"==typeof e?function(e,t,n,r){var i=[];if(!e)return i=[t,n],r&&(i[1]+=r-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-n-1:e.length-1,i[1]=n+u,r?(o?(i[0]++,i[1]=r):i[1]+=r,i):i}(e,t,n,r):function(e,t,n,r){var i=void 0;if(0===e.length)i=[t,n];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,n)}return r?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=r:(i[0]++,i[1]=1),i):i}(e,t,n,r)}function h(e,t,n,i,a){return a||(a=f(t,n,i)),new r({type:e,content:t,start:{line:n,column:i},end:{line:a[0],column:a[1]},syntax:"css"})}function _(e){var t=void 0;return(t=k(e))?o[e].any_child=1:(t=ne(e))?o[e].any_child=2:(t=Ae(e))?o[e].any_child=3:(t=ie(e))?o[e].any_child=4:(t=F(e))?o[e].any_child=5:(t=Le(e))?o[e].any_child=13:(t=J(e))?o[e].any_child=6:(t=ze(e))?o[e].any_child=7:(t=U(e))?o[e].any_child=8:(t=B(e))?o[e].any_child=9:(t=H(e))?o[e].any_child=10:(t=C(e))?o[e].any_child=11:(t=je(e))&&(o[e].any_child=12),t}function g(){var e=o[l].any_child;return 1===e?S():2===e?re():3===e?Oe():4===e?ae():5===e?q():13===e?Re():6===e?Z():7===e?Be():8===e?z():9===e?$():10===e?V():11===e?M():12===e?Ie():void 0}function m(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=H(e))?t+1:0}function v(){var e=i.AtkeywordType,t=o[l],n=t.ln,r=t.col;return l++,h(e,[V()],n,r)}function y(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=m(e))?-1===p((e+=n)-n,n).toLowerCase().indexOf("keyframes")?0:(n=ke(e))&&(n=H(e+=n))?((n=ke(e+=n))&&(e+=n),(n=function(e){var t=e,n=void 0;if(!(e<s&&o[e].type===a.LeftCurlyBracket))return 0;if((n=ke(++e))&&(e+=n),!(n=K(e)))return 0;for(e+=n;o[e].type!==a.RightCurlyBracket;)if(n=ke(e))e+=n;else{if(!(n=K(e)))break;e+=n}return e<s&&o[e].type===a.RightCurlyBracket?++e-t:0}(e))?(e+=n)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=m(e))?((n=Pe(e+=n))&&(e+=n),e<s&&o[e].type===a.LeftCurlyBracket?((n=function(e){var t=e,n=void 0;if(e>=s)return 0;for((n=ke(e))&&(e+=n);e<s;){if(n=ke(e))o[e].atrulers_child=1;else if(n=y(e))o[e].atrulers_child=2;else{if(!(n=be(e)))break;o[e].atrulers_child=3}e+=n}return e<s&&(o[e].atrulers_end=1),(n=ke(e))&&(e+=n),e-t}(++e))&&(e+=n),e<s&&o[e].type===a.RightCurlyBracket?++e-t:0):0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=m(e))?((n=Pe(e+=n))&&(e+=n),(n=w(e))?(e+=n)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,n=void 0;return e>=s?0:(n=m(e))?((n=Pe(e+=n))&&(e+=n),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function b(){var e,t,n,r,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,n=(t=o[l]).ln,r=t.col,a=[].concat(v(),De(),function(){var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=[];for(l++,a=a.concat(Se());l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(Se());else if(2===c)a.push(b());else{if(3!==c)break;a.push(we())}}var u=f(a=a.concat(Se()),n,r,1);return l++,h(e,a,n,r,u)}()),h(e,a,n,r)):2===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(v(),De(),T()),n,r)}():3===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(v(),De()),n,r)}():4===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col,a=[].concat(v(),Se(),V(),Se(),function(){var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];for(l++;l<a;)ke(l)?s=s.concat(Se()):K(l)&&s.push(Q());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}());return h(e,a,n,r)}():void 0}function w(e){return e<s&&o[e].type===a.LeftCurlyBracket?o[e].right-e+1:0}function T(){var e,t=i.BlockType,n=o[l],r=n.ln,a=n.col,s=o[l].right,c=[];for(l++;l<s;)x(l)?c=c.concat((void 0,1===(e=o[l].bd_type)?function(){var e=Se(),t=void 0;switch(o[l].bd_kind){case 1:t=j();break;case 2:t=b()}return e.concat(t,Se(),L(),Se())}():2===e?function(){var e=Se(),t=void 0;switch(o[l].bd_kind){case 1:t=j();break;case 2:t=b()}return e.concat(t,Se())}():3===e?[].concat(Se(),L(),Se()):4===e?Se():void 0)):u(l);var d=f(c,r,a,1);return l=s+1,h(t,c,r,a,d)}function x(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,n=void 0;if((n=ke(e))&&(e+=n),n=D(e))o[e].bd_kind=1;else{if(!(n=y(e)))return 0;o[e].bd_kind=2}return(n=ke(e+=n))&&(e+=n),e<s&&(n=I(e))&&(n=ke(e+=n))?(e+=n)-t:0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,n=void 0;if((n=ke(e))&&(e+=n),n=D(e))o[e].bd_kind=1;else{if(!(n=y(e)))return 0;o[e].bd_kind=2}return(n=ke(e+=n))&&(e+=n),e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,n=void 0;return(n=ke(e))&&(e+=n),(n=I(e))?((n=ke(e+=n))&&(e+=n),e-t):0}(e))o[e].bd_type=3;else{if(!(t=function(e){return ke(e)}(e)))return 0;o[e].bd_type=4}return t}function k(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var n=Pe(e);if(!n)return 0;e+=n}return++e-t}function S(){var e=i.BracketsType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=De());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function C(e){var t,n=e;return e>=s?0:o[e].class_l?o[e].class_l:o[e].type!==a.FullStop?0:(t=H(++e))?(o[n].class_l=t+1,e+=t,o[n].classEnd=e,e-n):0}function M(){var e=i.ClassType,t=o[l],n=t.ln,r=t.col;return l++,h(e,[V()],n,r)}function A(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,n=e;return o[e].type!==a.Solidus?0:(t=H(++e))?o[e+=t].type!==a.Solidus?0:++e-n:0}(e))&&(o[e].combinatorType=4),t}function O(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;return l+=3,h(e,">>>",n,r)}():2===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,n,r)}():3===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}():4===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;l++;var a=V();return l++,h(e,"/"+a.content+"/",n,r)}():void 0}function E(e){return e<s&&o[e].type===a.CommentML?1:0}function P(){var e=i.CommentMLType,t=o[l],n=t.ln,r=t.col,a=o[l].value.substring(2),s=a.length;"*"===a.charAt(s-2)&&"/"===a.charAt(s-1)&&(a=a.substring(0,s-2));var c=f(a,n,r,2);return c[0]===n&&(c[1]+=2),l++,h(e,a,n,r,c)}function D(e){var t=e,n=void 0;return e>=s?0:(n=le(e))?((n=ke(e+=n))&&(e+=n),(n=pe(e))?((n=ke(++e))&&(e+=n),(n=$e(e))?(e+=n)-t:0):0):0}function j(){var e=i.DeclarationType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(ce(),Se(),fe(),Se(),He()),n,r)}function I(e){return e<s&&o[e].type===a.Semicolon?1:0}function L(){var e=i.DeclDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,";",n,r)}function R(e){return e<s&&o[e].type===a.Comma?1:0}function N(){var e=i.DelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,",",n,r)}function F(e){var t,n=J(e);return e>=s||!n||e+n>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+n))?n+t:0}function q(){var e=i.DimensionType,t=o[l],n=t.ln,r=t.col;return h(e,[Z(),Ne()],n,r)}function U(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function z(){var e=i.ExpressionType,t=o[l],n=t.ln,r=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,n,r,1);return s[0]===n&&(s[1]+=11),l=o[l].right+1,h(e,a,n,r,s)}function B(e){var t,n=e;return e>=s?0:(t=H(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-n+1:0}function $(){var e=i.FunctionType,t=o[l],n=t.ln,r=t.col,c=[].concat(V(),function(){var e,t,n,r=i.ArgumentsType,c=o[l],d=c.ln,p=c.col,m=[],v=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)D(l)?m.push(j()):(n=void 0,n=void 0,(n=We(t=l))?o[t].argument_child=1:(n=ue(t))?o[t].argument_child=2:(n=_(t))?o[t].argument_child=3:(n=ke(t))?o[t].argument_child=4:(n=ee(t))&&(o[t].argument_child=5),n?"string"==typeof(e=o[l].argument_child,v=1===e?Ge():2===e?de():3===e?g():4===e?Se():5===e?te():void 0).content?m.push(v):m=m.concat(v):C(l)?m.push(M()):u(l));var y=f(m,d,p,1);return l++,h(r,m,d,p,y)}());return h(e,c,n,r)}function H(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&e++,o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function V(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,n,r)}function W(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ke(e))&&(e+=t),"important"===o[e].value?(o[n].importantEnd=e,e-n+1):0)}function G(){var e=i.ImportantType,t=o[l],n=t.ln,r=t.col,a=d(l,t.importantEnd);return l=t.importantEnd+1,h(e,a,n,r)}function K(e){var t=e,n=void 0;return e>=s?0:(n=function(e){var t=e,n=void 0;if(!(n=X(e)))return 0;for(e+=n;e<s;){var r=ke(e),i=R(e+r);if(!i)break;var a=ke(e+r+i);if(!(n=X(e+r+i+a)))break;e+=r+i+a+n}return o[t].selectorsGroupEnd=e,e-t}(e))?((n=ke(e+=n))&&(e+=n),(n=w(e))?(e+=n)-t:0):0}function Q(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(function(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Y());l<t;)e=e.concat(Se(),N(),Se(),Y());return e}(),Se(),T()),n,r)}function X(e){var t=e,n=void 0;if(e>=s)return 0;if(n=H(e)){var r=p(e,n);if("from"!==r&&"to"!==r)return 0;e+=n,o[t].keyframesSelectorType=1}else{if(!(n=ie(e)))return 0;e+=n,o[t].keyframesSelectorType=2}return e-t}function Y(){var e=i.KeyframesSelectorType,t=i.SelectorType,n=o[l],r=n.ln,a=n.col,s=[];1===n.keyframesSelectorType?s.push(V()):s.push(ae());var c=h(e,s,r,a);return h(t,[c],r,a)}function J(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function Z(){for(var e=i.NumberType,t=o[l],n=t.ln,r=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,n,r)}function ee(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.Comma:case a.Colon:case a.EqualsSign:case a.Asterisk:return 1}return 0}function te(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function ne(e){if(e>=s)return 0;var t=e,n=o[e].right;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<n){var r=Pe(e);if(!r)return 0;e+=r}return++e-t}function re(){var e=i.ParenthesesType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=De());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function ie(e){var t,n=e;return e>=s?0:(t=J(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-n:0}function ae(){var e=i.PercentageType,t=o[l],n=t.ln,r=t.col,a=[Z()],s=f(a,n,r,1);return l++,h(e,a,n,r,s)}function oe(e){var t=e,n=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(n=H(e+=6))?((n=ke(e+=n))&&(e+=n),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function se(){var e=i.ProgidType,t=o[l],n=t.ln,r=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,n,r)}function le(e){var t=e,n=void 0;return(n=function(e){var t,n=e;return e>=s?0:(t=H(e))?(e+=t)-n:0}(e))?o[t].propertyType=1:(n=function(e){return ue(e)}(e))&&(o[t].propertyType=2),n}function ce(){var e=o[l].propertyType;return 1===e?function(){var e=i.PropertyType,t=o[l],n=t.ln,r=t.col;return h(e,[V()],n,r)}():2===e?de():void 0}function ue(e){var t,n=e;return e>=s||o[e].type!==a.HyphenMinus||o[e+1]&&o[e+1].type!==a.HyphenMinus?0:(t=H(e+=2))?(e+=t)-n:0}function de(){var e=i.CustomPropertyType,t=o[l],n=t.ln,r=t.col;return l+=2,h(e,[V()],n,r)}function pe(e){return e<s&&o[e].type===a.Colon?1:0}function fe(){var e=i.PropertyDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,":",n,r)}function he(e){return ge(e)||ve(e)}function _e(){return ge(l)?me():ve(l)?ye():void 0}function ge(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if((e+=2)>=s)return 0;if(!(n=H(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ke(++e))&&(e+=n),(n=Ke(e))?((n=ke(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,n=e;return(t=H(e+=2))?(e+=t)-n:0}(e)))return 0;o[e].pseudoElementType=2}return t}function me(){var e,t,n,r,a=o[l].pseudoElementType;return 1===a?function(){var e=i.PseudoeType,t=o[l],n=t.ln,r=t.col,a=[];l+=2,a.push(V());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(Se(),Qe(),Se()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===a?(e=i.PseudoeType,n=(t=o[l]).ln,r=t.col,l+=2,h(e,[V()],n,r)):void 0}function ve(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=H(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ke(++e))&&(e+=n),(n=Ke(e))?((n=ke(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=H(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ke(++e))&&(e+=n),(n=H(e))?((n=ke(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=2;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=H(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ke(++e))&&(e+=n),(n=je(e))&&(e+=n),e>=s?0:(o[e].type===a.DecimalNumber&&e++,e>=s||"n"!==o[e].value?0:((n=ke(++e))&&(e+=n),e>=s||o[e].type!==a.PlusSign&&o[e].type!==a.HyphenMinus?0:((n=ke(++e))&&(e+=n),o[e].type!==a.DecimalNumber?0:((n=ke(++e))&&(e+=n),e!==r?0:++e-t))))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=H(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ke(++e))&&(e+=n),(n=je(e))&&(e+=n),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((n=ke(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=H(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ke(++e))&&(e+=n),(n=je(e))&&(e+=n),o[e].type!==a.DecimalNumber?0:((n=ke(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=5;else{if(!(t=function(e){var t,n=e;return++e>=s?0:(t=H(e))?(e+=t)-n:0}(e)))return 0;o[e].pseudoClassType=6}return t}function ye(){var e,t,n,r,a=o[l].pseudoClassType;return 1===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(V());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(Se(),Qe(),Se()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(V());var s=o[++l].ln,c=o[l].col,u=[].concat(Se(),V(),Se()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():3===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(V());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(Se()),je(l)&&u.push(Ie()),J(l)&&u.push(Z());var d=o[l].ln,p=o[l].col,_=o[l].value,g=h(i.IdentType,_,d,p);u.push(g),l++,u=u.concat(Se()),je(l)&&u.push(Ie()),u=u.concat(Se()),J(l)&&u.push(Z());var m=f(u=u.concat(Se()),s,c,1),v=h(i.ArgumentsType,u,s,c,m);return a.push(v),l++,h(e,a,n,r)}():4===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(V());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(Se()),je(l)&&u.push(Ie()),J(l)&&u.push(Z()),H(l)&&u.push(V());var d=f(u=u.concat(Se()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():5===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(V());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(Se()),je(l)&&u.push(Ie()),J(l)&&u.push(Z());var d=f(u=u.concat(Se()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():6===a?(e=i.PseudocType,n=(t=o[l]).ln,r=t.col,l++,h(e,[V()],n,r)):void 0}function be(e){var t=e,n=void 0;return e>=s?0:(n=Ke(e))?((n=ke(e+=n))&&(e+=n),(n=w(e))?(e+=n)-t:0):0}function we(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Qe(),Se(),T()),n,r)}function Te(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function xe(){var e=i.SType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,n,r)}function ke(e){if(e>=s)return 0;for(var t=void 0,n=0;e<s;){if(t=Te(e))o[e].sc_child=1;else{if(!(t=E(e)))break;o[e].sc_child=2}e+=t,n+=t}return n||0}function Se(){var e=[];if(l>=s)return e;for(;l<s;){var t=o[l].sc_child;if(1===t)e.push(xe());else{if(2!==t)break;e.push(P())}}return e}function Ce(e){var t,n=e;return e>=s||o[e].type!==a.NumberSign?0:(t=H(++e))?(e+=t)-n:0}function Me(){var e=i.ShashType,t=o[l],n=t.ln,r=t.col;return l++,h(e,[V()],n,r)}function Ae(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function Oe(){var e=i.StringType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Ee(e){var t=void 0;return(t=We(e))?o[e].tset_child=1:(t=_(e))?o[e].tset_child=2:(t=ke(e))?o[e].tset_child=3:(t=ee(e))&&(o[e].tset_child=4),t}function Pe(e){var t=e,n=void 0;if(e>=s)return 0;for(;n=Ee(e);)e+=n;return o[t].tsets_end=e,e-t}function De(){var e=[],t=void 0;if(l>=s)return e;for(var n,r=o[l].tsets_end;l<r;)"string"==typeof(t=1===(n=o[l].tset_child)?Ge():2===n?g():3===n?Se():4===n?te():void 0).content?e.push(t):e=e.concat(t);return e}function je(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function Ie(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Le(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=Fe(e)))return 0;for(e+=n;e<s;){var r=ke(e),i=R(e+r);if(!i)break;var a=ke(e+r+i);if(!(n=Fe(e+r+i+a)))break;e+=r+i+a+n}return e-t}function Re(){for(var e=i.UnicodeRangeType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(ke(l))a=a.concat(Se());else if(R(l))a.push(N());else{if(!Fe(l))break;a.push(qe())}return h(e,a,n,r)}function Ne(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Fe(e){var t=e,n=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(n=H(e))e+=n;else if(n=J(e))e+=n;else if(n=je(e))e+=n;else{if(!(n=Ue(e)))break;e+=n}return o[t].urangeEnd=e-1,e-t}function qe(){var e,t=l,n=i.UrangeType,r=o[l],a=r.ln,s=r.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(n,e,a,s)}function Ue(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function ze(e){var t=e;return e>=s||"url"!==o[e].value||++e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function Be(){var e=l,t={},n=void 0,r=void 0,c=void 0,u=void 0,p=void 0;l+=2,t[a.Space]=1,t[a.Tab]=1,t[a.Newline]=1,t[a.LeftParenthesis]=1,t[a.RightParenthesis]=1,function(e){var t=e,n=void 0;return e>=s?0:((n=ke(e))&&(e+=n),o[e].type!==a.StringDQ&&o[e].type!==a.StringSQ?0:((n=ke(++e))&&(e+=n),e-t))}(l)?n=[].concat(Se(),Oe(),Se()):(n=ke(l)?Se():[],r=function(e,t){for(var n=t;t<s&&!e[o[t++].type];);return t-n-2}(t,l),u=d(l,l+r),p=o[l],c=h(i.RawType,u,p.ln,p.col),n.push(c),ke(l+=r+1)&&(n=n.concat(Se())));var _=(p=o[e]).ln,g=p.col,m=f(n,_,g,1);return l++,h(i.UriType,n,_,g,m)}function $e(e){for(var t=e,n=void 0,r=void 0;e<s&&(n=Ve(e+(r=ke(e))));)e+=n+r;return o[t].value_end=e,e-t}function He(){for(var e=i.ValueType,t=o[l],n=t.ln,r=t.col,a=o[l].value_end,s=[];l<a;)o[l].value_child?s.push((void 0,1===(c=o[l].value_child)?se():2===c?Ge():3===c?g():4===c?te():5===c?G():void 0)):s=s.concat(Se());var c;return h(e,s,n,r)}function Ve(e){var t=void 0;return(t=oe(e))?o[e].value_child=1:(t=We(e))?o[e].value_child=2:(t=_(e))?o[e].value_child=3:(t=ee(e))?o[e].value_child=4:(t=W(e))&&(o[e].value_child=5),t}function We(e){var t,n=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-n:0}function Ge(){var e,t=i.VhashType,n=o[l],r=n.ln,c=n.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,r,c,f(u,r,c+1))}function Ke(e){if(e>=s)return 0;var t,n=e,r=0,i=0;if(!(t=Xe(e)))return 0;for(e+=t,r++;e<s;){var a=e,l=e,c=void 0,u=ke(l);if(!(c=R(l+u)))break;i++,(c=ke(l+=u+c))&&(l+=c),(c=Xe(l))&&(l+=c,r++),e+=l-a}return o[n].selectorsGroupEnd=e,o[n].selectorsGroupSelectorCount=r,o[n].selectorsGroupDelimCount=i,e-n}function Qe(){var e=[],t=0,n=0,r=o[l].selectorsGroupEnd,i=o[l].selectorsGroupSelectorCount,a=o[l].selectorsGroupDelimCount;for(e.push(Ye()),t++;l<r;)n<a&&(n++,e=(e=(e=e.concat(Se())).concat(N())).concat(Se()),t<i&&(e=e.concat(Ye()),t++));return e}function Xe(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=Je(e)))return 0;for(e+=n;e<s;){var r=ke(e),i=A(e+r);if(!r&&!i)break;var a=ke(e+r+i);if(!(n=Je(e+r+i+a)))break;e+=r+i+a+n}return o[t].selectorEnd=e,e-t}function Ye(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=Ze();l<a;)s=s.concat(Se()),A(l)&&s.push(O()),s=s.concat(Se(),Ze());return h(e,s,n,r)}function Je(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,n=e;if(!(t=et(e)||function(e){if(e>=s)return 0;var t=e,n=void 0;return(n=st(e))&&(e+=n),(n=H(e))?(e+=n)-t:0}(e)))return 0;for(e+=t;e<s;){var r=Ce(e)||C(e)||nt(e)||he(e);if(!r)break;e+=r}return o[n].compoundSelectorEnd=e,e-n}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var n=Ce(e)||C(e)||nt(e)||he(e);if(!n)break;e+=n}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function Ze(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t,n,r,a,s=[],c=o[l].compoundSelectorEnd;for(et(l)?s.push(tt()):s.push((e=i.TypeSelectorType,n=(t=o[l]).ln,r=t.col,a=[],st(l)&&a.push(lt()),a.push(V()),h(e,a,n,r)));l<c;)Ce(l)?s.push(Me()):C(l)?s.push(M()):nt(l)?s.push(rt()):he(l)&&s.push(_e());return s}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)if(Ce(l))e.push(Me());else if(C(l))e.push(M());else if(nt(l))e.push(rt());else{if(!he(l))break;e.push(_e())}return e}():void 0}function et(e){if(e>=s)return 0;var t,n=e;return(t=st(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-n}function tt(){var e=i.UniversalSelectorType,t=o[l],n=t.ln,r=t.col,a=[],s=void 0;return st(l)&&(a.push(lt()),s=f(a,n,r,1)),l++,h(e,a,n,r,s)}function nt(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=ke(++e))&&(e+=n),(n=it(e))?((n=ke(e+=n))&&(e+=n),(n=function(e){var t=void 0;return(t=function(e){var t=e,n=o[e].type;return n!==a.Tilde&&n!==a.VerticalLine&&n!==a.CircumflexAccent&&n!==a.DollarSign&&n!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((n=ke(e+=n))&&(e+=n),(n=function(e){return Ae(e)||H(e)}(e))?((n=ke(e+=n))&&(e+=n),(n=ot(e))&&(n=ke(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=ke(++e))&&(e+=n),(n=it(e))?((n=ke(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function rt(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,n=(t=o[l]).ln,r=t.col,l++,a=(a=[]).concat(Se(),at(),Se(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,n,r)}():function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"=",n,r)}(),Se(),function(){var e=i.AttributeValueType,t=o[l],n=t.ln,r=t.col,a=[];return Ae(l)?a.push(Oe()):a.push(V()),h(e,a,n,r)}(),Se()),ot(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],n=t.ln,r=t.col;return h(e,[V()],n,r)}()),a=a.concat(Se())),l++,h(e,a,n,r,f(a,n,r,1))):function(){var e=i.AttributeSelectorType,t=o[l],n=t.ln,r=t.col,a=[];return l++,a=a.concat(Se(),at(),Se()),l++,h(e,a,n,r,f(a,n,r,1))}();var e,t,n,r,a}function it(e){var t=e,n=void 0;return(n=st(e))&&(e+=n),(n=H(e))?(e+=n)-t:0}function at(){var e=i.AttributeNameType,t=o[l],n=t.ln,r=t.col,a=[];return st(l)&&a.push(lt()),a.push(V()),h(e,a,n,r)}function ot(e){return H(e)}function st(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,n=void 0;return(n=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=H(e))?t:0}(e))?((n=E(e+=n))&&(e+=n),(n=ct(e))?(e+=n)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return ct(e)}(e))&&(o[e].namePrefixType=2),t}function lt(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,n=(t=o[l]).ln,r=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],n=t.ln,r=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",n,r);s.push(c),l++}else H(l)&&s.push(V());return h(e,s,n,r)}()),E(l)&&s.push(P()),s.push(ut()),h(e,s,n,r)):function(){var e=i.NamePrefixType,t=o[l],n=t.ln,r=t.col;return h(e,[ut()],n,r)}();var e,t,n,r,s}function ct(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function ut(){var e=i.NamespaceSeparatorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"|",n,r)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t){"use strict";e.exports={ArgumentsType:"arguments",AtkeywordType:"atkeyword",AtruleType:"atrule",AttributeSelectorType:"attributeSelector",AttributeNameType:"attributeName",AttributeFlagsType:"attributeFlags",AttributeMatchType:"attributeMatch",AttributeValueType:"attributeValue",BlockType:"block",BracketsType:"brackets",ClassType:"class",CombinatorType:"combinator",CommentMLType:"multilineComment",CommentSLType:"singlelineComment",ConditionType:"condition",ConditionalStatementType:"conditionalStatement",CustomPropertyType:"customProperty",DeclarationType:"declaration",DeclDelimType:"declarationDelimiter",DefaultType:"default",DelimType:"delimiter",DimensionType:"dimension",EscapedStringType:"escapedString",ExtendType:"extend",ExpressionType:"expression",FunctionType:"function",FunctionsListType:"functionsList",GlobalType:"global",IdentType:"ident",ImportantType:"important",IncludeType:"include",InterpolationType:"interpolation",InterpolatedVariableType:"interpolatedVariable",KeyframesSelectorType:"keyframesSelector",LoopType:"loop",MixinType:"mixin",NamePrefixType:"namePrefix",NamespacePrefixType:"namespacePrefix",NamespaceSeparatorType:"namespaceSeparator",NumberType:"number",OperatorType:"operator",OptionalType:"optional",ParenthesesType:"parentheses",ParentSelectorType:"parentSelector",ParentSelectorExtensionType:"parentSelectorExtension",PercentageType:"percentage",PlaceholderType:"placeholder",ProgidType:"progid",PropertyType:"property",PropertyDelimType:"propertyDelimiter",PseudocType:"pseudoClass",PseudoeType:"pseudoElement",RawType:"raw",RulesetType:"ruleset",SType:"space",SelectorType:"selector",ShashType:"id",StringType:"string",StylesheetType:"stylesheet",TypeSelectorType:"typeSelector",UnicodeRangeType:"unicodeRange",UniversalSelectorType:"universalSelector",UriType:"uri",UrangeType:"urange",ValueType:"value",VariableType:"variable",VariablesListType:"variablesList",VhashType:"color"}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(13),i=[],a=!1,o=0,s=0,l=0,c=1,u=1,d=0,p={" ":r.Space,"\n":r.Newline,"\r":r.Newline,"\t":r.Tab,"!":r.ExclamationMark,'"':r.QuotationMark,"#":r.NumberSign,$:r.DollarSign,"%":r.PercentSign,"&":r.Ampersand,"'":r.Apostrophe,"(":r.LeftParenthesis,")":r.RightParenthesis,"*":r.Asterisk,"+":r.PlusSign,",":r.Comma,"-":r.HyphenMinus,".":r.FullStop,"/":r.Solidus,":":r.Colon,";":r.Semicolon,"<":r.LessThanSign,"=":r.EqualsSign,">":r.GreaterThanSign,"?":r.QuestionMark,"@":r.CommercialAt,"[":r.LeftSquareBracket,"]":r.RightSquareBracket,"^":r.CircumflexAccent,_:r.LowLine,"{":r.LeftCurlyBracket,"|":r.VerticalLine,"}":r.RightCurlyBracket,"~":r.Tilde};function f(e,t,n){i.push({tn:l++,ln:c,col:n,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=s;s<d&&" "===e.charAt(s);s++);f(r.Space,e.substring(t,s--),u),u+=s-t}function g(e,t){var n=s;for(s++;s<d;s++)if("\\"===e.charAt(s))s++;else if(e.charAt(s)===t)break;f('"'===t?r.StringDQ:r.StringSQ,e.substring(n,s+1),u),u+=s-n}function m(e){for(var t=s;s<d&&h(e.charAt(s));s++);f(r.DecimalNumber,e.substring(t,s--),u),u+=s-t}function v(e){for(var t=s;"/"===e.charAt(s);)s++;for(;s<d;s++)if("\\"===e.charAt(s))s++;else if(p[e.charAt(s)])break;var n=e.substring(t,s--);a=a||"url"===n,f(r.Identifier,n,u),u+=s-t}function y(e){var t=s;for(s+=2;s<d;s++)if("*"===e.charAt(s)&&"/"===e.charAt(s+1)){s++;break}var n=e.substring(t,s+1);f(r.CommentML,n,u);var i=n.split("\n");i.length>1?(c+=i.length-1,u=i[i.length-1].length):u+=s-t}function b(e){var t=s;for(s+=2;s<d&&"\n"!==e.charAt(s)&&"\r"!==e.charAt(s);s++);f(r.CommentSL,e.substring(t,s--),u),u+=s-t}return function(e){var n,r;for(d=e.length,s=0;s<d;u++,s++)n=e.charAt(s),r=e.charAt(s+1),"/"===n&&"*"===r?y(e):a||"/"!==n||"/"!==r?'"'===n||"'"===n?g(e,n):" "===n?_(e):p[n]?(f(p[n],n,u),"\n"===n||"\r"===n?(c++,u=0):")"===n?a=!1:"{"===n?o++:"}"===n?o--:"\t"===n&&t>1&&(u+=t-1)):h(n)?m(e):v(e):o>0?v(e):b(e);return i}(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default={mark:n(18),parse:n(19),stringify:n(4),tokenizer:n(20)},e.exports=t.default},function(e,t,n){"use strict";var r=n(13);e.exports=function(e){!function(e){for(var t=e.length,n=[],i=[],a=[],o=void 0,s=0;s<t;s++)switch((o=e[s]).type){case r.LeftParenthesis:n.push(s);break;case r.RightParenthesis:n.length&&(o.left=n.pop(),e[o.left].right=s);break;case r.LeftSquareBracket:i.push(s);break;case r.RightSquareBracket:i.length&&(o.left=i.pop(),e[o.left].right=s);break;case r.LeftCurlyBracket:a.push(s);break;case r.RightCurlyBracket:a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t=e.length,n=-1,i=-1,a=void 0,o=0;o<t;o++)switch((a=e[o]).type){case r.Space:case r.Tab:case r.Newline:a.ws=!0,a.sc=!0,-1===n&&(n=o),-1===i&&(i=o);break;case r.CommentML:case r.CommentSL:-1!==n&&(e[n].ws_last=o-1,n=-1),a.sc=!0;break;default:-1!==n&&(e[n].ws_last=o-1,n=-1),-1!==i&&(e[i].sc_last=o-1,i=-1)}-1!==n&&(e[n].ws_last=o-1),-1!==i&&(e[i].sc_last=o-1)}(e)}},function(e,t,n){"use strict";var r=n(1),i=n(15),a=n(13),o=void 0,s=void 0,l=void 0,c={arguments:function(){return m(l)&&v()},atkeyword:function(){return b(l)&&w()},atrule:function(){return T(l)&&x()},attributeSelector:function(){return At(l)&&Ot()},block:function(){return k(l)&&S()},brackets:function(){return M(l)&&A()},class:function(){return O(l)&&E()},combinator:function(){return P(l)&&D()},commentML:function(){return j(l)&&I()},commentSL:function(){return L(l)&&R()},condition:function(){return N(l)&&F()},declaration:function(){return q(l)&&U()},declDelim:function(){return z(l)&&B()},delim:function(){return $(l)&&H()},dimension:function(){return V(l)&&W()},escapedString:function(){return G(l)&&K()},expression:function(){return Q(l)&&X()},extend:function(){return Y(l)&&J()},function:function(){return te(l)&&ne()},ident:function(){return re(l)&&ie()},important:function(){return oe(l)&&se()},include:function(){return le(l)&&ce()},interpolatedVariable:function(){return ue(l)&&de()},mixin:function(){return he(l)&&_e()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,n=(t=o[l]).ln,r=t.col,l++,h(e,"|",n,r));var e,t,n,r,c},number:function(){return ge(l)&&me()},operator:function(){return ve(l)&&ye()},parentheses:function(){return be(l)&&we()},parentselector:function(){return Te(l)&&xe()},percentage:function(){return Me(l)&&Ae()},progid:function(){return Oe(l)&&Ee()},property:function(){return Pe(l)&&De()},propertyDelim:function(){return je(l)&&Ie()},pseudoc:function(){return qe(l)&&Ue()},pseudoe:function(){return Ne(l)&&Fe()},ruleset:function(){return ze(l)&&Be()},s:function(){return $e(l)&&He()},selector:function(){return wt(l)&&Tt()},shash:function(){return Ge(l)&&Ke()},string:function(){return Qe(l)&&Xe()},stylesheet:function(){return function(e){for(var t=e,n=void 0;e<s;)(n=Ve(e)||ze(e)||q(e)||z(e)||T(e)||he(e))?e+=n:u(e);return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)Ve(l)?a=a.concat(We()):ze(l)?a.push(Be()):q(l)?a.push(U()):z(l)?a.push(B()):T(l)?a.push(x()):he(l)?a.push(_e()):u(l);return h(e,a,n,r)}()},unary:function(){return et(l)&&tt()},unicodeRange:function(){return nt(l)&&rt()},universalSelector:function(){return St(l)&&Ct()},urange:function(){return at(l)&&ot()},uri:function(){return lt(l)&&ct()},value:function(){return ut(l)&&dt()},variable:function(){return ft(l)&&ht()},variableslist:function(){return _t(l)&&gt()},vhash:function(){return mt(l)&&vt()}};function u(e){throw{line:o[e].ln,syntax:"less"}}function d(e,t){for(var n="",r=e;r<t+1;r++)n+=o[r].value;return n}function p(e,t){if(!(e+t-1>=s)){for(var n="",r=0;r<t;r++)n+=o[e+r].value;return n}}function f(e,t,n,r){return"string"==typeof e?function(e,t,n,r){var i=[];if(!e)return i=[t,n],r&&(i[1]+=r-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-n-1:e.length-1,i[1]=n+u,r?(o?(i[0]++,i[1]=r):i[1]+=r,i):i}(e,t,n,r):function(e,t,n,r){var i=void 0;if(0===e.length)i=[t,n];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,n)}return r?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=r:(i[0]++,i[1]=1),i):i}(e,t,n,r)}function h(e,t,n,i,a){return a||(a=f(t,n,i)),new r({type:e,content:t,start:{line:n,column:i},end:{line:a[0],column:a[1]},syntax:"less"})}function _(e){var t=void 0;return(t=M(e))?o[e].any_child=1:(t=be(e))?o[e].any_child=2:(t=Qe(e))?o[e].any_child=3:(t=_t(e))?o[e].any_child=4:(t=ft(e))?o[e].any_child=5:(t=Me(e))?o[e].any_child=6:(t=V(e))?o[e].any_child=7:(t=nt(e))?o[e].any_child=15:(t=ge(e))?o[e].any_child=8:(t=lt(e))?o[e].any_child=9:(t=Q(e))?o[e].any_child=10:(t=te(e))?o[e].any_child=11:(t=re(e))?o[e].any_child=12:(t=O(e))?o[e].any_child=13:(t=et(e))&&(o[e].any_child=14),t}function g(){var e=o[l].any_child;return 1===e?A():2===e?we():3===e?Xe():4===e?gt():5===e?ht():6===e?Ae():7===e?W():15===e?rt():8===e?me():9===e?ct():10===e?X():11===e?ne():12===e?ie():13===e?E():14===e?tt():void 0}function m(e){var t=e,n=void 0;if(e>=s||o[e].type!==a.LeftParenthesis)return 0;for(e++;e<o[t].right;){if(!(n=y(e)))return 0;e+=n}return o[t].right-t+1}function v(){var e,t=i.ArgumentsType,n=o[l],r=n.ln,c=n.col,d=[],p=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)q(l)?d.push(U()):y(l)?"string"==typeof(void 0,e=o[l].argument_child,p=1===e?K():2===e?U():3===e?gt():4===e?ht():5===e?We():6===e?tt():7===e?ye():8===e?H():9===e?B():10===e?Xe():11===e?Ae():12===e?W():13===e?me():14===e?ct():15===e?ne():16===e?ie():17===e?vt():18===e?S():19===e?we():void 0).content?d.push(p):d=d.concat(p):O(l)?d.push(E()):u(l);var _=f(d,r,c,1);return l++,h(t,d,r,c,_)}function y(e){var t=void 0;return(t=G(e))?o[e].argument_child=1:(t=q(e))?o[e].argument_child=2:(t=_t(e))?o[e].argument_child=3:(t=ft(e))?o[e].argument_child=4:(t=Ve(e))?o[e].argument_child=5:(t=et(e))?o[e].argument_child=6:(t=ve(e))?o[e].argument_child=7:(t=$(e))?o[e].argument_child=8:(t=z(e))?o[e].argument_child=9:(t=Qe(e))?o[e].argument_child=10:(t=Me(e))?o[e].argument_child=11:(t=V(e))?o[e].argument_child=12:(t=ge(e))?o[e].argument_child=13:(t=lt(e))?o[e].argument_child=14:(t=te(e))?o[e].argument_child=15:(t=re(e))?o[e].argument_child=16:(t=mt(e))?o[e].argument_child=17:(t=k(e))?o[e].argument_child=18:(t=be(e))&&(o[e].argument_child=19),t}function b(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=re(e))?t+1:0}function w(){var e=i.AtkeywordType,t=o[l],n=t.ln,r=t.col;return l++,h(e,[ie()],n,r)}function T(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=b(e))?-1===p((e+=n)-n,n).toLowerCase().indexOf("keyframes")?0:(n=Ve(e))&&(n=re(e+=n))?((n=Ve(e+=n))&&(e+=n),(n=function(e){var t=e,n=void 0;if(!(e<s&&o[e].type===a.LeftCurlyBracket))return 0;if((n=Ve(++e))&&(e+=n),!(n=pe(e)))return 0;for(e+=n;o[e].type!==a.RightCurlyBracket;)if(n=Ve(e))e+=n;else{if(!(n=pe(e)))break;e+=n}return e<s&&o[e].type===a.RightCurlyBracket?++e-t:0}(e))?(e+=n)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=b(e))?((n=Je(e+=n))&&(e+=n),e<s&&o[e].type===a.LeftCurlyBracket?((n=function(e){var t=e,n=void 0;if(e>=s)return 0;for((n=Ve(e))&&(e+=n);e<s;){if(n=Ve(e))o[e].atrulers_child=1;else if(n=T(e))o[e].atrulers_child=2;else{if(!(n=ze(e)))break;o[e].atrulers_child=3}e+=n}return e<s&&(o[e].atrulers_end=1),(n=Ve(e))&&(e+=n),e-t}(++e))&&(e+=n),e<s&&o[e].type===a.RightCurlyBracket?++e-t:0):0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=b(e))?((n=Je(e+=n))&&(e+=n),(n=k(e))?(e+=n)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,n=void 0;return e>=s?0:(n=b(e))?((n=Je(e+=n))&&(e+=n),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function x(){var e,t,n,r,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,n=(t=o[l]).ln,r=t.col,a=[].concat(w(),Ze(),function(){var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=[];for(l++,a=a.concat(We());l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(We());else if(2===c)a.push(x());else{if(3!==c)break;a.push(Be())}}var u=f(a=a.concat(We()),n,r,1);return l++,h(e,a,n,r,u)}()),h(e,a,n,r)):2===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(w(),Ze(),S()),n,r)}():3===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(w(),Ze()),n,r)}():4===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col,a=[].concat(w(),We(),ie(),We(),function(){var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];for(l++;l<a;)Ve(l)?s=s.concat(We()):pe(l)&&s.push(fe());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}());return h(e,a,n,r)}():void 0}function k(e){return e<s&&o[e].type===a.LeftCurlyBracket?o[e].right-e+1:0}function S(){var e,t=i.BlockType,n=o[l],r=n.ln,a=n.col,s=o[l].right,c=[];for(l++;l<s;)C(l)?c=c.concat((void 0,1===(e=o[l].bd_type)?function(){var e=We(),t=void 0;switch(o[l].bd_kind){case 1:t=F();break;case 2:t=Be();break;case 3:t=U();break;case 4:t=x();break;case 5:t=ce();break;case 6:t=J()}return e.concat(t,B(),We())}():2===e?function(){var e=We(),t=void 0;switch(o[l].bd_kind){case 1:t=F();break;case 2:t=ce();break;case 3:t=J();break;case 4:t=U();break;case 5:t=x();break;case 6:t=Be()}return e.concat(t,We())}():3===e?[].concat(We(),B(),We()):4===e?We():void 0)):u(l);var d=f(c,r,a,1);return l=s+1,h(t,c,r,a,d)}function C(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,n=void 0;if((n=Ve(e))&&(e+=n),n=N(e))o[e].bd_kind=1;else if(n=Y(e))o[e].bd_kind=6;else if(n=ze(e))o[e].bd_kind=2;else if(n=q(e))o[e].bd_kind=3;else if(n=T(e))o[e].bd_kind=4;else{if(!(n=le(e)))return 0;o[e].bd_kind=5}return(e+=n)<s&&(n=z(e))&&(n=Ve(e+=n))?(e+=n)-t:0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,n=void 0;if((n=Ve(e))&&(e+=n),n=N(e))o[e].bd_kind=1;else if(n=Y(e))o[e].bd_kind=3;else if(n=ze(e))o[e].bd_kind=6;else if(n=q(e))o[e].bd_kind=4;else if(n=T(e))o[e].bd_kind=5;else{if(!(n=le(e)))return 0;o[e].bd_kind=2}return(n=Ve(e+=n))&&(e+=n),e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,n=void 0;return(n=Ve(e))&&(e+=n),(n=z(e))?((n=Ve(e+=n))&&(e+=n),e-t):0}(e))o[e].bd_type=3;else{if(!(t=function(e){return Ve(e)}(e)))return 0;o[e].bd_type=4}return t}function M(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var n=Je(e);if(!n)return 0;e+=n}return++e-t}function A(){var e=i.BracketsType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=Ze());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function O(e){var t=void 0;if(e>=s)return 0;if(o[e].class_l)return o[e].class_l;if(o[e++].type===a.FullStop){if(t=ue(e))o[e].class_child=1;else{if(!(t=re(e)))return 0;o[e].class_child=2}return o[e].class_l=t+1,t+1}return 0}function E(){var e=i.ClassType,t=o[l],n=t.ln,r=t.col,a=[];return 1===o[++l].class_child?a.push(de()):a.push(ie()),h(e,a,n,r)}function P(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,n=e;return o[e].type!==a.Solidus?0:(t=re(++e))?o[e+=t].type!==a.Solidus?0:++e-n:0}(e))&&(o[e].combinatorType=4),t}function D(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;return l+=3,h(e,">>>",n,r)}():2===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,n,r)}():3===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}():4===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;l++;var a=ie();return l++,h(e,"/"+a.content+"/",n,r)}():void 0}function j(e){return e<s&&o[e].type===a.CommentML?1:0}function I(){var e=i.CommentMLType,t=o[l],n=t.ln,r=t.col,a=o[l].value.substring(2),s=a.length;"*"===a.charAt(s-2)&&"/"===a.charAt(s-1)&&(a=a.substring(0,s-2));var c=f(a,n,r,2);return c[0]===n&&(c[1]+=2),l++,h(e,a,n,r,c)}function L(e){return e<s&&o[e].type===a.CommentSL?1:0}function R(){var e=i.CommentSLType,t=o[l],n=t.ln,r=t.col,a=o[l++].value.substring(2);return h(e,a,n,r,f(a,n,r+2))}function N(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=re(e))||"when"!==o[e].value)return 0;for(e+=n;e<s;){if(n=k(e)){o[e].condition_child=0;break}if(n=te(e))o[e].condition_child=1;else if(n=M(e))o[e].condition_child=2;else if(n=be(e))o[e].condition_child=3;else if(n=ft(e))o[e].condition_child=4;else if(n=re(e))o[e].condition_child=5;else if(n=ge(e))o[e].condition_child=6;else if(n=$(e))o[e].condition_child=7;else if(n=ve(e))o[e].condition_child=8;else if(n=P(e))o[e].condition_child=9;else if(n=Ve(e))o[e].condition_child=10;else{if(!(n=Qe(e)))return 0;o[e].condition_child=11}e+=n}return e-t}function F(){var e=i.ConditionType,t=o[l],n=t.ln,r=t.col,a=[];for(a.push(ie());l<s;){var c=o[l].condition_child;if(0===c)break;1===c?a.push(ne()):2===c?a.push(A()):3===c?a.push(we()):4===c?a.push(ht()):5===c?a.push(ie()):6===c?a.push(me()):7===c?a.push(H()):8===c?a.push(ye()):9===c?a.push(D()):10===c?a=a.concat(We()):11===c&&a.push(Xe())}return h(e,a,n,r)}function q(e){var t=e,n=void 0;return e>=s?0:(n=Pe(e))?((n=Ve(e+=n))&&(e+=n),(n=je(e))?((n=Ve(++e))&&(e+=n),(n=ut(e))?(e+=n)-t:0):0):0}function U(){var e=i.DeclarationType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(De(),We(),Ie(),We(),dt()),n,r)}function z(e){return e<s&&o[e].type===a.Semicolon?1:0}function B(){var e=i.DeclDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,";",n,r)}function $(e){return e<s&&o[e].type===a.Comma?1:0}function H(){var e=i.DelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,",",n,r)}function V(e){var t,n=ge(e);return e>=s||!n||e+n>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+n))?n+t:0}function W(){var e=i.DimensionType,t=o[l],n=t.ln,r=t.col;return h(e,[me(),it()],n,r)}function G(e){var t=e,n=void 0;return e>=s?0:o[e].type===a.Tilde&&(n=Qe(e+1))?e+n-t:0}function K(){var e=i.EscapedStringType,t=o[l],n=t.ln,r=t.col,a=o[++l].value,s=f(a,n,r+1);return l++,h(e,a,n,r,s)}function Q(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function X(){var e=i.ExpressionType,t=o[l],n=t.ln,r=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,n,r,1);return s[0]===n&&(s[1]+=11),l=o[l].right+1,h(e,a,n,r,s)}function Y(e){if(e>=s)return 0;var t=void 0;if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=Z(e))&&o[(e+=n)+1]&&"extend"===o[e+1].value&&(n=qe(e))?((n=Ve(e+=n))&&(e+=n),(n=k(e))?(e+=n)-t:0):0}(e))o[e].extendType=1;else{if(!(t=function(e){var t=e,n=void 0;return e>=s?0:(n=Z(e))&&o[(e+=n)+1]&&"extend"===o[e+1].value&&(n=qe(e))?(e+=n)-t:0}(e)))return 0;o[e].extendType=2}return t}function J(){var e,t,n,r,a=o[l].extendType;return 1===a?(e=i.ExtendType,n=(t=o[l]).ln,r=t.col,h(e,[].concat(ee(),Ue(),We(),S()),n,r)):2===a?function(){var e=i.ExtendType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(ee(),Ue()),n,r)}():void 0}function Z(e){var t=void 0;return(t=Se(e))?o[e].extend_type=1:(t=re(e))?o[e].extend_type=2:(t=O(e))?o[e].extend_type=3:(t=Ge(e))&&(o[e].extend_type=4),t}function ee(){var e=o[l].extend_type;return 1===e?Ce():2===e?[ie()]:3===e?[E()]:4===e?[Ke()]:void 0}function te(e){var t,n=e;return e>=s?0:(t=re(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-n+1:0}function ne(){var e=i.FunctionType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(ie(),v()),n,r)}function re(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&e++,o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function ie(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,n,r)}function ae(e){var t=e;if(e>=s)return 0;for(;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function oe(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=Ve(e))&&(e+=t),"important"===o[e].value?(o[n].importantEnd=e,e-n+1):0)}function se(){var e=o[l],t=e.ln,n=e.col,r=d(l,e.importantEnd);return l=e.importantEnd+1,h(i.ImportantType,r,t,n)}function le(e){var t=void 0;return e>=s?0:((t=function(e){var t=e,n=void 0;if(!(n=O(e)||Ge(e)))return 0;for(e+=n;e<s;)if(n=O(e)||Ge(e)||Ve(e))e+=n;else{if(o[e].type!==a.GreaterThanSign)break;e++}return(n=m(e))?((e+=n)<s&&(n=Ve(e))&&(e+=n),e<s&&(n=oe(e))&&(e+=n),e-t):0}(e))?o[e].include_type=1:(t=function(e){var t=e,n=void 0;if(!(n=O(e)||Ge(e)))return 0;for(e+=n;e<s;)if(n=O(e)||Ge(e)||Ve(e))e+=n;else{if(o[e].type!==a.GreaterThanSign)break;e++}return e-t}(e))&&(o[e].include_type=2),t)}function ce(){var e=o[l].include_type;return 1===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col,a=[];for(a.push(O(l)?E():Ke());l<s;)if(O(l))a.push(E());else if(Ge(l))a.push(Ke());else if(Ve(l))a=a.concat(We());else{if(!ve(l))break;a.push(ye())}return a.push(v()),a=a.concat(We()),oe(l)&&a.push(se()),h(e,a,n,r)}():2===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col,a=[];for(a.push(O(l)?E():Ke());l<s;)if(O(l))a.push(E());else if(Ge(l))a.push(Ke());else if(Ve(l))a=a.concat(We());else{if(!ve(l))break;a.push(ye())}return h(e,a,n,r)}():void 0}function ue(e){var t,n=e;return e>=s?0:o[e].type===a.CommercialAt&&o[e+1]&&o[e+1].type===a.LeftCurlyBracket&&(t=re(e+=2))&&o[e+=t].type===a.RightCurlyBracket?e-n+1:0}function de(){var e=i.InterpolatedVariableType,t=o[l],n=t.ln,r=t.col,a=[];l+=2,a.push(ie());var s=f(a,n,r,1);return l++,h(e,a,n,r,s)}function pe(e){var t=e,n=void 0;return e>=s?0:(n=function(e){var t=e,n=void 0;if(e>=s)return 0;if(n=re(e)){var r=p(e,n);if("from"!==r&&"to"!==r)return 0;e+=n,o[t].keyframesSelectorType=1}else{if(!(n=Me(e)))return 0;e+=n,o[t].keyframesSelectorType=2}return e-t}(e))?((n=Ve(e+=n))&&(e+=n),(n=k(e))?(e+=n)-t:0):0}function fe(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col,a=[].concat(function(){var e=i.KeyframesSelectorType,t=i.SelectorType,n=o[l],r=n.ln,a=n.col,s=[];1===n.keyframesSelectorType?s.push(ie()):s.push(Ae());var c=h(e,s,r,a);return h(t,[c],r,a)}(),We(),S());return h(e,a,n,r)}function he(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=O(e)||Ge(e))?((n=Ve(e+=n))&&(e+=n),(n=m(e))&&(e+=n),(n=Ve(e))&&(e+=n),(n=k(e))?(e+=n)-t:0):0}(e))o[e].mixin_type=1;else{if(!(t=function(e){var t=e,n=void 0;return e>=s?0:(n=O(e)||Ge(e))?((n=Ve(e+=n))&&(e+=n),(n=m(e))&&(e+=n),e-t):0}(e)))return 0;o[e].mixin_type=2}return t}function _e(){var e=o[l].mixin_type;return 1===e?function(){var e=i.MixinType,t=o[l],n=t.ln,r=t.col,a=[];return a.push(O(l)?E():Ke()),a=a.concat(We()),m(l)&&a.push(v()),a=a.concat(We()),k(l)&&a.push(S()),h(e,a,n,r)}():2===e?function(){var e=i.MixinType,t=o[l],n=t.ln,r=t.col,a=[];return a.push(O(l)?E():Ke()),a=a.concat(We()),m(l)&&a.push(v()),h(e,a,n,r)}():void 0}function ge(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function me(){for(var e=i.NumberType,t=o[l],n=t.ln,r=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,n,r)}function ve(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.Comma:case a.Colon:case a.EqualsSign:case a.LessThanSign:case a.GreaterThanSign:case a.Asterisk:return 1}return 0}function ye(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function be(e){if(e>=s)return 0;var t=e,n=o[e].right;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<n){var r=Je(e);if(!r)return 0;e+=r}return++e-t}function we(){var e=i.ParenthesesType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=Ze());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function Te(e){return e<s&&o[e].type===a.Ampersand?1:0}function xe(){var e=i.ParentSelectorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"&",n,r)}function ke(e){var t=e,n=void 0;if(e>=s)return 0;for(;e<s&&(n=ge(e)||ae(e));)e+=n;return e-t}function Se(e){var t=e,n=void 0;return e>=s?0:(n=Te(e))?((n=ke(e+=n))&&(e+=n),e-t):0}function Ce(){var e=[xe()];return ke(l)&&e.push(function(){for(var e=i.ParentSelectorExtensionType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(ge(l))a.push(me());else{if(!ae(l))break;a.push(ie())}return h(e,a,n,r)}()),e}function Me(e){var t,n=e;return e>=s?0:(t=ge(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-n:0}function Ae(){var e=i.PercentageType,t=o[l],n=t.ln,r=t.col,a=[me()],s=f(a,n,r,1);return l++,h(e,a,n,r,s)}function Oe(e){var t=e,n=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(n=re(e+=6))?((n=Ve(e+=n))&&(e+=n),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function Ee(){var e=i.ProgidType,t=o[l],n=t.ln,r=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,n,r)}function Pe(e){var t,n=e;return e>=s?0:(t=ft(e)||re(e))?(e+=t)-n:0}function De(){var e=i.PropertyType,t=o[l],n=t.ln,r=t.col,a=[];return ft(l)?a.push(ht()):a.push(ie()),h(e,a,n,r)}function je(e){return e<s&&o[e].type===a.Colon?1:0}function Ie(){var e=i.PropertyDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,":",n,r)}function Le(e){return Ne(e)||qe(e)}function Re(){return Ne(l)?Fe():qe(l)?Ue():void 0}function Ne(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e+1>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if((e+=2)>=s)return 0;if(!(n=re(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=Ve(++e))&&(e+=n),(n=yt(e))?((n=Ve(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,n=e;return(t=ue(e+=2)||re(e))?(e+=t)-n:0}(e)))return 0;o[e].pseudoElementType=2}return t}function Fe(){var e,t,n,r,a,s=o[l].pseudoElementType;return 1===s?function(){var e=i.PseudoeType,t=o[l],n=t.ln,r=t.col,a=[];l+=2,a.push(ie());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(We(),bt(),We()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===s?(e=i.PseudoeType,n=(t=o[l]).ln,r=t.col,a=[],ue(l+=2)?a.push(de()):a.push(ie()),h(e,a,n,r)):void 0}function qe(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,n=0;if(++e>=s)return 0;if(!(n=re(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=Ve(++e))&&(e+=n),(n=et(e))&&(e+=n),e>=s?0:(o[e].type===a.DecimalNumber&&e++,e>=s||"n"!==o[e].value?0:((n=Ve(++e))&&(e+=n),e>=s||"+"!==o[e].value&&"-"!==o[e].value?0:((n=Ve(++e))&&(e+=n),o[e].type!==a.DecimalNumber?0:((n=Ve(++e))&&(e+=n),e!==r?0:++e-t))))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,n=0;if(++e>=s)return 0;if(!(n=re(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=Ve(++e))&&(e+=n),(n=et(e))&&(e+=n),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((n=Ve(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,n=0;if(++e>=s)return 0;if(!(n=re(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=Ve(++e))&&(e+=n),(n=et(e))&&(e+=n),o[e].type!==a.DecimalNumber?0:((n=Ve(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=5;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=re(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=Ve(++e))&&(e+=n),(n=yt(e))?((n=Ve(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,n=0;if(++e>=s)return 0;if(!(n=re(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=Ve(++e))&&(e+=n),(n=re(e))?((n=Ve(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=2;else{if(!(t=function(e){var t=e,n=0;if(++e>=s)return 0;if(n=ue(e))e+=n;else{if(!(n=re(e)))return 0;e+=n}return e-t}(e)))return 0;o[e].pseudoClassType=6}return t}function Ue(){var e,t,n,r,a,s,c=o[l].pseudoClassType;return 1===c?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(ie());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(We(),bt(),We()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===c?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(ie());var s=o[++l].ln,c=o[l].col,u=[].concat(We(),ie(),We()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():3===c?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(ie());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(We()),et(l)&&u.push(tt()),ge(l)&&u.push(me());var d=o[l].ln,p=o[l].col,_=o[l].value,g=h(i.IdentType,_,d,p);u.push(g),l++,u=u.concat(We()),et(l)&&u.push(tt()),u=u.concat(We()),ge(l)&&u.push(me());var m=f(u=u.concat(We()),s,c,1),v=h(i.ArgumentsType,u,s,c,m);return a.push(v),l++,h(e,a,n,r)}():4===c?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(ie());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(We()),et(l)&&u.push(tt()),ge(l)&&u.push(me()),re(l)&&u.push(ie());var d=f(u=u.concat(We()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():5===c?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a.push(ie());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(We()),et(l)&&u.push(tt()),ge(l)&&u.push(me());var d=f(u=u.concat(We()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():6===c?(e=i.PseudocType,n=(t=o[l]).ln,r=t.col,a=[],s=ue(++l)?de():ie(),a.push(s),h(e,a,n,r)):void 0}function ze(e){var t=e,n=void 0;return e>=s?0:(n=yt(e))?((n=Ve(e+=n))&&(e+=n),(n=k(e))?(e+=n)-t:0):0}function Be(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(bt(),We(),S()),n,r)}function $e(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function He(){var e=i.SType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,n,r)}function Ve(e){if(e>=s)return 0;for(var t=void 0,n=0;e<s&&((t=$e(e))||(t=j(e))||(t=L(e)));)e+=t,n+=t;return n||0}function We(){var e=[];if(l>=s)return e;for(;l<s;)if($e(l))e.push(He());else if(j(l))e.push(I());else{if(!L(l))break;e.push(R())}return e}function Ge(e){var t;return e>=s||o[e].type!==a.NumberSign?0:(t=ue(e+1)||re(e+1))?t+1:0}function Ke(){var e=i.ShashType,t=o[l],n=t.ln,r=t.col,a=[];return ue(++l)?a.push(de()):a.push(ie()),h(e,a,n,r)}function Qe(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function Xe(){var e=i.StringType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Ye(e){var t=void 0;return(t=mt(e))?o[e].tset_child=1:(t=_(e))?o[e].tset_child=2:(t=Ve(e))?o[e].tset_child=3:(t=ve(e))&&(o[e].tset_child=4),t}function Je(e){var t=e,n=void 0;if(e>=s)return 0;for(;n=Ye(e);)e+=n;return e-t}function Ze(){for(var e,t=[],n=void 0;Ye(l);)"string"==typeof(n=1===(e=o[l].tset_child)?vt():2===e?g():3===e?We():4===e?ye():void 0).content?t.push(n):t=t.concat(n);return t}function et(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function tt(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function nt(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=at(e)))return 0;for(e+=n;e<s;){var r=Ve(e),i=$(e+r);if(!i)break;var a=Ve(e+r+i);if(!(n=at(e+r+i+a)))break;e+=r+i+a+n}return e-t}function rt(){for(var e=i.UnicodeRangeType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(Ve(l))a=a.concat(We());else if($(l))a.push(H());else{if(!at(l))break;a.push(ot())}return h(e,a,n,r)}function it(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function at(e){var t=e,n=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(n=re(e))e+=n;else if(n=ge(e))e+=n;else if(n=et(e))e+=n;else{if(!(n=st(e)))break;e+=n}return o[t].urangeEnd=e-1,e-t}function ot(){var e,t=l,n=i.UrangeType,r=o[l],a=r.ln,s=r.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(n,e,a,s)}function st(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function lt(e){var t=e;return e>=s||"url"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function ct(){var e=l,t={},n=void 0,r=void 0,c=void 0,u=void 0;l+=2,t[a.Space]=1,t[a.Tab]=1,t[a.Newline]=1,t[a.LeftParenthesis]=1,t[a.RightParenthesis]=1,function(e){var t=e,n=void 0;return e>=s?0:((n=Ve(e))&&(e+=n),o[e].type!==a.StringDQ&&o[e].type!==a.StringSQ?0:((n=Ve(++e))&&(e+=n),e-t))}(l)?n=[].concat(We()).concat([Xe()]).concat(We()):(n=We(),c=function(e,t){for(var n=t;t<s&&!e[o[t++].type];);return t-n-2}(t,l),r=o[l],u=h(i.RawType,d(l,l+c),r.ln,r.col),n.push(u),l+=c+1,n=n.concat(We()));var p=(r=o[e]).ln,_=r.col,g=f(n,p,_,1);return l++,h(i.UriType,n,p,_,g)}function ut(e){for(var t=e,n=void 0,r=void 0,i=void 0;e<s&&((n=pt(i=e+(r=Ve(e))))&&(e+=n+r),n&&!k(i)););return o[t].value_end=e,e-t}function dt(){for(var e=i.ValueType,t=o[l],n=t.ln,r=t.col,a=o[l].value_end,s=[],c=void 0;l<a&&(c=Ve(l),pt(l+c));)c&&(s=s.concat(We())),s.push((void 0,1===(u=o[l].value_child)?K():2===u?de():3===u?ht():4===u?vt():5===u?S():6===u?Ee():7===u?g():8===u?w():9===u?ye():10===u?se():void 0));var u;return h(e,s,n,r)}function pt(e){var t=void 0;return(t=G(e))?o[e].value_child=1:(t=ue(e))?o[e].value_child=2:(t=ft(e))?o[e].value_child=3:(t=mt(e))?o[e].value_child=4:(t=k(e))?o[e].value_child=5:(t=Oe(e))?o[e].value_child=6:(t=_(e))?o[e].value_child=7:(t=b(e))?o[e].value_child=8:(t=ve(e))?o[e].value_child=9:(t=oe(e))&&(o[e].value_child=10),t}function ft(e){var t;return e>=s||o[e].type!==a.CommercialAt||o[e-1]&&o[e-1].type===a.CommercialAt&&o[e-2]&&o[e-2].type===a.CommercialAt?0:(t=ft(e+1)||re(e+1))?t+1:0}function ht(){var e=i.VariableType,t=o[l],n=t.ln,r=t.col,a=[];return ft(++l)?a.push(ht()):a.push(ie()),h(e,a,n,r)}function _t(e){var t,n=0;if(e>=s)return 0;if(!(t=ft(e)))return 0;for(e+=t;o[e]&&o[e].type===a.FullStop;)n++,e++;return 3===n?t+n:0}function gt(){var e=i.VariablesListType,t=o[l],n=t.ln,r=t.col,a=[ht()],s=f(a,n,r,3);return l+=3,h(e,a,n,r,s)}function mt(e){var t,n=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-n:0}function vt(){var e,t=i.VhashType,n=o[l],r=n.ln,c=n.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,r,c,f(u,r,c+1))}function yt(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=wt(e)))return 0;for(e+=n;e<s;){var r=Ve(e),i=$(e+r);if(!i)break;var a=Ve(e+r+i);if(!(n=wt(e+r+i+a)))break;e+=r+i+a+n}return o[t].selectorsGroupEnd=e,e-t}function bt(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Tt());l<t;)e=e.concat(We(),H(),We(),Tt());return e}function wt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=xt(e)))return 0;for(e+=n;e<s;){var r=Ve(e),i=P(e+r);if(!r&&!i)break;if(i&&(r=Ve(e+=r+i)),!(n=xt(e+r)))break;e+=r+n}return o[t].selectorEnd=e,e-t}(e))?o[e].selectorType=1:(t=function(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=P(e)))return 0;for(e+=n;e<s;){var r=Ve(e);if(!(n=xt(e+r)))break;var i=Ve(e+=r+n),a=P(e+i);if(!i&&!a)break;a&&(e+=i+a)}return o[t].selectorEnd=e,e-t}(e))&&(o[e].selectorType=2),t}function Tt(){return 1===o[l].selectorType?function(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=kt();l<a;)Ve(l)?s=s.concat(We()):P(l)?s.push(D()):xt(l)&&(s=s.concat(kt()));return h(e,s,n,r)}():function(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=[D()];l<a;)Ve(l)?s=s.concat(We()):P(l)?s.push(D()):xt(l)&&(s=s.concat(kt()));return h(e,s,n,r)}()}function xt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,n=e;if(!(t=St(e)||Mt(e)||Se(e)))return 0;for(e+=t;e<s;){var r=Ge(e)||O(e)||At(e)||Le(e);if(!r)break;e+=r}return o[n].compoundSelectorEnd=e,e-n}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var n=Ge(e)||O(e)||At(e)||Le(e);if(!n)break;e+=n}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function kt(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t,n,r,a,s=[],c=o[l].compoundSelectorEnd;for(St(l)?s.push(Ct()):Mt(l)?s.push((e=i.TypeSelectorType,n=(t=o[l]).ln,r=t.col,a=[],jt(l)&&a.push(It()),a.push(ie()),h(e,a,n,r))):Se(l)&&(s=s.concat(Ce()));l<c;)Ge(l)?s.push(Ke()):O(l)?s.push(E()):At(l)?s.push(Ot()):Le(l)&&s.push(Re());return s}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)Ge(l)?e.push(Ke()):O(l)?e.push(E()):At(l)?e.push(Ot()):Le(l)&&e.push(Re());return e}():void 0}function St(e){if(e>=s)return 0;var t,n=e;return(t=jt(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-n}function Ct(){var e=i.UniversalSelectorType,t=o[l],n=t.ln,r=t.col,a=[],s=void 0;return jt(l)&&(a.push(It()),s=f(a,n,r,1)),l++,h(e,a,n,r,s)}function Mt(e){if(e>=s)return 0;var t=e,n=void 0;return(n=jt(e))&&(e+=n),(n=re(e))?(e+=n)-t:0}function At(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=Ve(++e))&&(e+=n),(n=Et(e))?((n=Ve(e+=n))&&(e+=n),(n=function(e){var t=void 0;return(t=function(e){var t=e,n=o[e].type;return n!==a.Tilde&&n!==a.VerticalLine&&n!==a.CircumflexAccent&&n!==a.DollarSign&&n!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((n=Ve(e+=n))&&(e+=n),(n=function(e){return Qe(e)||re(e)}(e))?((n=Ve(e+=n))&&(e+=n),(n=Dt(e))&&(n=Ve(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=Ve(++e))&&(e+=n),(n=Et(e))?((n=Ve(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function Ot(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,n=(t=o[l]).ln,r=t.col,l++,a=(a=[]).concat(We(),Pt(),We(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,n,r)}():function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"=",n,r)}(),We(),function(){var e=i.AttributeValueType,t=o[l],n=t.ln,r=t.col,a=[];return Qe(l)?a.push(Xe()):a.push(ie()),h(e,a,n,r)}(),We()),Dt(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],n=t.ln,r=t.col;return h(e,[ie()],n,r)}()),a=a.concat(We())),l++,h(e,a,n,r,f(a,n,r,1))):function(){var e=i.AttributeSelectorType,t=o[l],n=t.ln,r=t.col,a=[];return l++,a=a.concat(We(),Pt(),We()),l++,h(e,a,n,r,f(a,n,r,1))}();var e,t,n,r,a}function Et(e){var t=e,n=void 0;return(n=jt(e))&&(e+=n),(n=re(e))?(e+=n)-t:0}function Pt(){var e=i.AttributeNameType,t=o[l],n=t.ln,r=t.col,a=[];return jt(l)&&a.push(It()),a.push(ie()),h(e,a,n,r)}function Dt(e){return re(e)}function jt(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,n=void 0;return(n=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=re(e))?t:0}(e))?((n=j(e+=n))&&(e+=n),(n=Lt(e))?(e+=n)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return Lt(e)}(e))&&(o[e].namePrefixType=2),t}function It(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,n=(t=o[l]).ln,r=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],n=t.ln,r=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",n,r);s.push(c),l++}else re(l)&&s.push(ie());return h(e,s,n,r)}()),j(l)&&s.push(I()),s.push(Rt()),h(e,s,n,r)):function(){var e=i.NamePrefixType,t=o[l],n=t.ln,r=t.col;return h(e,[Rt()],n,r)}();var e,t,n,r,s}function Lt(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function Rt(){var e=i.NamespaceSeparatorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"|",n,r)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(13),i=[],a=!1,o=void 0,s=void 0,l=0,c=0,u=1,d=1,p={" ":r.Space,"\n":r.Newline,"\r":r.Newline,"\t":r.Tab,"!":r.ExclamationMark,'"':r.QuotationMark,"#":r.NumberSign,$:r.DollarSign,"%":r.PercentSign,"&":r.Ampersand,"'":r.Apostrophe,"(":r.LeftParenthesis,")":r.RightParenthesis,"*":r.Asterisk,"+":r.PlusSign,",":r.Comma,"-":r.HyphenMinus,".":r.FullStop,"/":r.Solidus,":":r.Colon,";":r.Semicolon,"<":r.LessThanSign,"=":r.EqualsSign,">":r.GreaterThanSign,"?":r.QuestionMark,"@":r.CommercialAt,"[":r.LeftSquareBracket,"]":r.RightSquareBracket,"^":r.CircumflexAccent,_:r.LowLine,"{":r.LeftCurlyBracket,"|":r.VerticalLine,"}":r.RightCurlyBracket,"~":r.Tilde};function f(e,t,n){i.push({tn:c++,ln:u,col:n,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=l;l<e.length&&" "===e.charAt(l);l++);f(r.Space,e.substring(t,l--),d),d+=l-t}function g(e,t){var n=l;for(l++;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)===t)break;f('"'===t?r.StringDQ:r.StringSQ,e.substring(n,l+1),d),d+=l-n}function m(e){for(var t=l;l<e.length&&h(e.charAt(l));l++);f(r.DecimalNumber,e.substring(t,l--),d),d+=l-t}function v(e){for(var t=l;"/"===e.charAt(l);)l++;for(;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)in p)break;var n=e.substring(t,l--);a||"url"!==n||"("!==e.charAt(l+1)||(a=!0),f(r.Identifier,n,d),d+=l-t}function y(e){var t=l;for(l+=2;l<e.length;l++)if("*"===e.charAt(l)&&"/"===e.charAt(l+1)){l++;break}var n=e.substring(t,l+1);f(r.CommentML,n,d);var i=n.split("\n");i.length>1?(u+=i.length-1,d=i[i.length-1].length):d+=l-t}function b(e){var t=l;for(l+=2;l<e.length&&"\n"!==e.charAt(l)&&"\r"!==e.charAt(l);l++);f(r.CommentSL,e.substring(t,l--),d),d+=l-t}return function(e){for(l=0;l<e.length;d++,l++)o=e.charAt(l),s=e.charAt(l+1),"/"===o&&"*"===s?y(e):a||"/"!==o||"/"!==s?'"'===o||"'"===o?g(e,o):" "===o?_(e):o in p?(f(p[o],o,d),"\n"!==o&&"\r"!==o||(u++,d=0),")"===o?a=!1:"\t"===o&&t>1&&(d+=t-1)):h(o)?m(e):v(e):b(e);return i}(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default={mark:n(22),parse:n(23),stringify:n(5),tokenizer:n(24)},e.exports=t.default},function(e,t,n){"use strict";var r=n(13);e.exports=function(e){!function(e){for(var t=e.length,n=[],i=[],a=[],o=void 0,s=0;s<t;s++)switch((o=e[s]).type){case r.LeftParenthesis:n.push(s);break;case r.RightParenthesis:n.length&&(o.left=n.pop(),e[o.left].right=s);break;case r.LeftSquareBracket:i.push(s);break;case r.RightSquareBracket:i.length&&(o.left=i.pop(),e[o.left].right=s);break;case r.LeftCurlyBracket:a.push(s);break;case r.RightCurlyBracket:a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t=e.length,n=-1,i=-1,a=void 0,o=0;o<t;o++)switch((a=e[o]).type){case r.Space:case r.Tab:a.ws=!0,a.sc=!0,-1===n&&(n=o),-1===i&&(i=o);break;case r.Newline:a.ws=!0,a.sc=!0,n=-1===n?o:n,i=-1===i?o:n,e[n].ws_last=o-1,e[i].sc_last=o-1,e[o].ws_last=o,e[o].sc_last=o,n=-1,i=-1;break;case r.CommentML:case r.CommentSL:-1!==n&&(e[n].ws_last=o-1,n=-1),a.sc=!0;break;default:-1!==n&&(e[n].ws_last=o-1,n=-1),-1!==i&&(e[i].sc_last=o-1,i=-1)}-1!==n&&(e[n].ws_last=o-1),-1!==i&&(e[i].sc_last=o-1)}(e),function(e){var t=0,n=e.length,i=[],a=[];for(t=0;t<n;t++){for(var o=t,s=0;t<n&&(e[t].type===r.Space||e[t].type===r.Tab);)s+=e[t].value.length,t++;i.push([o,s]);for(var l=t;t<n&&e[t].type!==r.Newline;)t++;l===t&&a.push(i.length-1)}var c=[0],u=[];for(t=0;t<i.length;t++){var d=i[t],p=d[0],f=d[1],h=c[c.length-1];if(f>h)u.push(p),c.push(f);else{for(var _=t;-1!==a.indexOf(_);)_++;if(t===_&&f===h)continue;if(!i[_])continue;if((f=i[_][1])===h){t=_;continue}if(f>h){u.push(p),c.push(i[_][1]),t=_;continue}for(;;){if(!(f<c.pop())){c.push(f);break}var g=u.pop();e[g].block_end=p-1}}}u.forEach((function(t){e[t].block_end=e.length-1}))}(e)}},function(e,t,n){"use strict";var r=n(1),i=n(15),a=n(13),o=void 0,s=void 0,l=void 0,c={arguments:function(){return m(l)&&v()},atkeyword:function(){return w(l)&&T()},atrule:function(){return x(l)&&k()},attributeSelector:function(){return cn(l)&&un()},block:function(){return S(l)&&C()},brackets:function(){return A(l)&&O()},class:function(){return E(l)&&P()},combinator:function(){return D(l)&&j()},commentML:function(){return I(l)&&L()},commentSL:function(){return R(l)&&N()},condition:function(){return F(l)&&U()},conditionalStatement:function(){return z(l)&&B()},declaration:function(){return $(l)&&H()},declDelim:function(){return K(l)&&Q()},default:function(){return X(l)&&Y()},delim:function(){return J(l)&&Z()},dimension:function(){return ee(l)&&te()},expression:function(){return ne(l)&&re()},extend:function(){return ie(l)&&ae()},function:function(){return oe(l)&&se()},global:function(){return ue(l)&&de()},ident:function(){return pe(l)&&fe()},important:function(){return me(l)&&ve()},include:function(){return ye(l)&&be()},interpolation:function(){return we(l)&&Te()},loop:function(){return Oe(l)&&Ee()},mixin:function(){return Pe(l)&&De()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,n=(t=o[l]).ln,r=t.col,l++,h(e,"|",n,r));var e,t,n,r,c},number:function(){return Ie(l)&&Le()},operator:function(){return Re(l)&&Ne()},optional:function(){return Fe(l)&&qe()},parentheses:function(){return Ue(l)&&ze()},parentselector:function(){return Be(l)&&$e()},percentage:function(){return We(l)&&Ge()},placeholder:function(){return Xe(l)&&Ye()},progid:function(){return Je(l)&&Ze()},property:function(){return et(l)&&tt()},propertyDelim:function(){return it(l)&&at()},pseudoc:function(){return ut(l)&&dt()},pseudoe:function(){return lt(l)&&ct()},ruleset:function(){return pt(l)&&ft()},s:function(){return ht(l)&&_t()},selector:function(){return en(l)&&tn()},shash:function(){return bt(l)&&wt()},string:function(){return Tt(l)&&xt()},stylesheet:function(){return function(e){for(var t=e,n=void 0;e<s;)(n=vt(e)||$(e)||K(e)||ye(e)||ie(e)||Pe(e)||Oe(e)||z(e)||x(e)||pt(e))?e+=n:u(e);return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],n=t.ln,r=t.col,a=[],c=void 0,d=!1;l<s;)d&&K(l)?c=Q():vt(l)?c=yt():pt(l)?c=ft():ye(l)?c=be():ie(l)?c=ae():Pe(l)?c=De():Oe(l)?c=Ee():z(l)?c=B():x(l)?c=k():$(l)?c=H():u(l),d=c.type===i.DeclarationType,Array.isArray(c)?a=a.concat(c):a.push(c);return h(e,a,n,r)}()},typeSelector:function(){return sn(l)&&ln()},unary:function(){return Mt(l)&&At()},unicodeRange:function(){return Ot(l)&&Et()},universalSelector:function(){return an(l)&&on()},urange:function(){return Dt(l)&&jt()},uri:function(){return Lt(l)&&Rt()},value:function(){return Bt(l)&&$t()},variable:function(){return Wt(l)&&Gt()},variableslist:function(){return Kt(l)&&Qt()},vhash:function(){return Xt(l)&&Yt()}};function u(e){throw{line:o[e].ln,syntax:"sass"}}function d(e,t){for(var n="",r=e;r<t+1;r++)n+=o[r].value;return n}function p(e,t){if(!(e+t-1>=s)){for(var n="",r=0;r<t;r++)n+=o[e+r].value;return n}}function f(e,t,n,r){return"string"==typeof e?function(e,t,n,r){var i=[];if(!e)return i=[t,n],r&&(i[1]+=r-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-n-1:e.length-1,i[1]=n+u,r?(o?(i[0]++,i[1]=r):i[1]+=r,i):i}(e,t,n,r):function(e,t,n,r){var i=void 0;if(0===e.length)i=[t,n];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,n)}return r?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=r:(i[0]++,i[1]=1),i):i}(e,t,n,r)}function h(e,t,n,i,a){return a||(a=f(t,n,i)),new r({type:e,content:t,start:{line:n,column:i},end:{line:a[0],column:a[1]},syntax:"sass"})}function _(e){var t=void 0;return(t=A(e))?o[e].any_child=1:(t=Ue(e))?o[e].any_child=2:(t=Tt(e))?o[e].any_child=3:(t=Kt(e))?o[e].any_child=4:(t=Wt(e))?o[e].any_child=5:(t=Xe(e))?o[e].any_child=6:(t=We(e))?o[e].any_child=7:(t=ee(e))?o[e].any_child=8:(t=Ot(e))?o[e].any_child=9:(t=Ie(e))?o[e].any_child=10:(t=Lt(e))?o[e].any_child=11:(t=ne(e))?o[e].any_child=12:(t=le(e))?o[e].any_child=13:(t=oe(e))?o[e].any_child=14:(t=we(e))?o[e].any_child=15:(t=pe(e))?o[e].any_child=16:(t=E(e))?o[e].any_child=17:(t=Mt(e))?o[e].any_child=18:(t=Be(e))?o[e].any_child=19:(t=me(e))?o[e].any_child=20:(t=ue(e))?o[e].any_child=21:(t=X(e))?o[e].any_child=22:(t=Fe(e))&&(o[e].any_child=23),t}function g(){var e=o[l].any_child;return 1===e?O():2===e?ze():3===e?xt():4===e?Qt():5===e?Gt():6===e?Ye():7===e?Ge():8===e?te():9===e?Et():10===e?Le():11===e?Rt():12===e?re():13===e?ce():14===e?se():15===e?Te():16===e?fe():17===e?P():18===e?At():19===e?$e():20===e?ve():21===e?de():22===e?Y():23===e?qe():void 0}function m(e){var t=e,n=void 0;if(e>=s||o[e].type!==a.LeftParenthesis)return 0;for(e++;e<o[t].right;){if(!(n=y(e)))return 0;e+=n}return o[t].right-t+1}function v(){var e=i.ArgumentsType,t=o[l],n=t.ln,r=t.col,c=[],d=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)W(l)?c.push(G()):y(l)?"string"==typeof(d=b()).content?c.push(d):c=c.concat(d):E(l)?c.push(P()):u(l);var p=f(c,n,r,1);return l++,h(e,c,n,r,p)}function y(e){var t=void 0;return(t=A(e))?o[e].argument_child=1:(t=Ue(e))?o[e].argument_child=2:(t=W(e))?o[e].argument_child=3:(t=le(e))?o[e].argument_child=4:(t=oe(e))?o[e].argument_child=5:(t=Kt(e))?o[e].argument_child=6:(t=Wt(e))?o[e].argument_child=7:(t=vt(e))?o[e].argument_child=8:(t=J(e))?o[e].argument_child=9:(t=K(e))?o[e].argument_child=10:(t=Tt(e))?o[e].argument_child=11:(t=We(e))?o[e].argument_child=12:(t=ee(e))?o[e].argument_child=13:(t=Ie(e))?o[e].argument_child=14:(t=Lt(e))?o[e].argument_child=15:(t=we(e))?o[e].argument_child=16:(t=pe(e))?o[e].argument_child=17:(t=Xt(e))?o[e].argument_child=18:(t=nt(e))?o[e].argument_child=19:(t=Re(e))?o[e].argument_child=20:(t=Mt(e))?o[e].argument_child=21:(t=Be(e))?o[e].argument_child=22:(t=me(e))?o[e].argument_child=23:(t=ue(e))?o[e].argument_child=24:(t=X(e))?o[e].argument_child=25:(t=Fe(e))&&(o[e].argument_child=26),t}function b(){var e=o[l].argument_child;return 1===e?O():2===e?ze():3===e?G():4===e?ce():5===e?se():6===e?Qt():7===e?Gt():8===e?yt():9===e?Z():10===e?Q():11===e?xt():12===e?Ge():13===e?te():14===e?Le():15===e?Rt():16===e?Te():17===e?fe():18===e?Yt():19===e?rt():20===e?Ne():21===e?At():22===e?$e():23===e?ve():24===e?de():25===e?Y():26===e?qe():void 0}function w(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=_e(e))?t+1:0}function T(){var e=i.AtkeywordType,t=o[l],n=t.ln,r=t.col;return l++,h(e,ge(),n,r)}function x(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?-1===p((e+=n)-n,n).toLowerCase().indexOf("keyframes")?0:(n=vt(e))&&(n=_e(e+=n)||ut(e))?((n=vt(e+=n))&&(e+=n),(n=Se(e))?(e+=n)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?((n=St(e+=n))&&(e+=n),(n=function(e){var t=e,n=void 0;if(e>=s)return 0;var r=o[e].block_end;if(!r)return 0;for(;e<r;){if(n=vt(e))o[e].atrulers_child=1;else if(n=x(e))o[e].atrulers_child=2;else{if(!(n=pt(e)))return 0;o[e].atrulers_child=3}e+=n}return e<s&&(o[e].atrulers_end=1),e-t}(e))?(e+=n)-t:0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?((n=St(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?((n=St(e+=n))&&(e+=n),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function k(){var e,t,n,r,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,n=(t=o[l]).ln,r=t.col,a=[].concat(T(),Ct(),function(){for(var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=yt();l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(yt());else if(2===c)a.push(k());else{if(3!==c)break;a.push(ft())}}return h(e,a,n,r,f(a,n,r))}()),h(e,a,n,r)):2===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),Ct(),C()),n,r)}():3===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),Ct()),n,r)}():4===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col,a=[].concat(T(),yt());return _e(l)?a=a.concat(ge()):ut(l)&&(a=a.concat(dt())),h(e,a=a.concat(yt(),Ce()),n,r)}():void 0}function S(e){return e<s&&o[e].block_end?o[e].block_end-e+1:0}function C(){for(var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=o[l].block_end,c=[];l<a;)M(l)?c=c.concat((void 0,1===(d=o[l].bd_type)?function(){var e=[],t=[];switch(o[l].bd_kind){case 2:e.push(be());break;case 5:e.push(H());break;case 6:e.push(k())}for(;l<s;){var n=l;if(K(l)){t.push(Q()),e=e.concat(t);break}if(ht(l))t.push(_t());else{if(!R(l)){l=n;break}t.push(N())}}return e}():2===d?function(){var e=[];switch(o[l].bd_kind){case 1:e.push(B());break;case 2:e.push(be());break;case 3:e.push(Ee());break;case 4:e.push(ae());break;case 5:e.push(H());break;case 6:e.push(k());break;case 7:e.push(ft());break;case 8:e.push(De())}for(;l<s;)if(ht(l))e.push(_t());else{if(!R(l))break;e.push(N())}return e}():3===d?function(){var e=void 0;switch(o[l].bd_kind){case 1:e=B();break;case 2:e=be();break;case 3:e=Ee();break;case 4:e=ae();break;case 5:e=H();break;case 6:e=k();break;case 7:e=ft()}return[e]}():4===d?yt():5===d?function(){var e=[];for(ye(l)?e.push(be()):e.push(ft());l<s;)if(ht(l))e.push(_t());else{if(!R(l))break;e.push(N())}return e}():6===d?[ye(l)?be():ft()]:7===d?function(){var e=[],t=[];for(e.push(be());l<s;){var n=l;if(K(l)){t.push(Q()),e=e.concat(t);break}if(ht(l))t.push(_t());else{if(!R(l)){l=n;break}t.push(N())}}return e}():void 0)):u(l);var d;return h(e,c,n,r)}function M(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,n=void 0;if(!(n=ye(e)))return 0;if(e+=n,-1===[2,4,6,8].indexOf(o[t].include_type))return 0;for(;e<s;){if(n=K(e))return e+n-t;if(n=ht(e))e+=n;else{if(!(n=R(e)))break;e+=n}}return 0}(e))o[e].bd_type=7;else if(t=function(e){var t=e,n=void 0;if(n=ye(e))e+=n;else{if(!(n=pt(e)))return 0;e+=n}for(;e<s;)if(n=ht(e))e+=n;else{if(!(n=R(e)))break;e+=n}return e-t}(e))o[e].bd_type=5;else if(t=function(e){var t=e,n=void 0;if(n=ye(e))e+=n;else{if(!(n=pt(e)))return 0;e+=n}return e-t}(e))o[e].bd_type=6;else if(t=function(e){var t=e,n=void 0;if(n=ye(e))o[e].bd_kind=2;else if(n=$(e))o[e].bd_kind=5;else{if(!(n=x(e)))return 0;o[e].bd_kind=6}if(e+=n,2===o[t].bd_kind&&-1===[2,4,6,8].indexOf(o[t].include_type))return 0;if(6===o[t].bd_kind&&3===o[t].atrule_type)return 0;for(;e<s;){if(n=K(e))return e+n-t;if(n=ht(e))e+=n;else{if(!(n=R(e)))break;e+=n}}return 0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,n=void 0;if(n=z(e))o[e].bd_kind=1;else if(n=ye(e))o[e].bd_kind=2;else if(n=ie(e))o[e].bd_kind=4;else if(n=Pe(e))o[e].bd_kind=8;else if(n=Oe(e))o[e].bd_kind=3;else if(n=pt(e))o[e].bd_kind=7;else if(n=$(e))o[e].bd_kind=5;else{if(!(n=x(e)))return 0;o[e].bd_kind=6}for(e+=n;e<s;)if(n=ht(e))e+=n;else{if(!(n=R(e)))break;e+=n}return e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,n=void 0;if(n=z(e))o[e].bd_kind=1;else if(n=ye(e))o[e].bd_kind=2;else if(n=ie(e))o[e].bd_kind=4;else if(n=Oe(e))o[e].bd_kind=3;else if(n=pt(e))o[e].bd_kind=7;else if(n=$(e))o[e].bd_kind=5;else{if(!(n=x(e)))return 0;o[e].bd_kind=6}return(e+=n)-t}(e))o[e].bd_type=3;else{if(!(t=function(e){return vt(e)}(e)))return 0;o[e].bd_type=4}return t}function A(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var n=St(e);if(!n)return 0;e+=n}return++e-t}function O(){var e=i.BracketsType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=Ct());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function E(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].class_l)return o[e].class_l;if(o[e].type!==a.FullStop)return 0;if(!(n=_e(++e)))return 0;for(e+=n;e<s&&(n=_e(e));)o[t].class_l=n+1,e+=n;return o[t].classEnd=e,e-t}function P(){var e=i.ClassType,t=o[l],n=t.ln,r=t.col,a=t.classEnd,s=[];for(l++;l<a&&_e(l);)s=s.concat(ge());return h(e,s,n,r)}function D(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,n=e;return o[e].type!==a.Solidus?0:(t=pe(++e))?o[e+=t].type!==a.Solidus?0:++e-n:0}(e))&&(o[e].combinatorType=4),t}function j(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;return l+=3,h(e,">>>",n,r)}():2===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,n,r)}():3===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}():4===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;l++;var a=fe();return l++,h(e,"/"+a.content+"/",n,r)}():void 0}function I(e){return e<s&&o[e].type===a.CommentML?1:0}function L(){var e=i.CommentMLType,t=o[l],n=t.ln,r=t.col,a=o[l].value.substring(2),s=f(a,n,r+2);return a.endsWith("*/")&&(a=a.substring(0,a.length-2)),l++,h(e,a,n,r,s)}function R(e){return e<s&&o[e].type===a.CommentSL?1:0}function N(){var e=i.CommentSLType,t=o[l],n=t.ln,r=t.col,a=o[l++].value.substring(2);return h(e,a,n,r,a?f(a,n,r+2):[n,r+1])}function F(e){var t=e,n=void 0,r=void 0;if(e>=s)return 0;if(!(n=w(e)))return 0;if(e+=n,["if","else"].indexOf(o[t+1].value)<0)return 0;for(;e<s&&!(n=S(e))&&(n=q(e+(r=vt(e))));)e+=n+r;return e-t}function q(e){return Wt(e)||Ie(e)||we(e)||pe(e)||Re(e)||D(e)||Tt(e)}function U(){var e=i.ConditionType,t=o[l],n=t.ln,r=t.col,a=[],c=void 0;for(a.push(T());l<s&&!S(l)&&(c=vt(l),q(l+c));)c&&(a=a.concat(yt())),a.push(Wt(l)?Gt():Ie(l)?Le():we(l)?Te():pe(l)?fe():Re(l)?Ne():D(l)?j():Tt(l)?xt():void 0);return h(e,a,n,r)}function z(e){var t=e,n=void 0;return e>=s?0:(n=F(e))?((n=vt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}function B(){var e=i.ConditionalStatementType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(U(),yt(),C()),n,r)}function $(e){return V(e)||function(e){var t=e,n=void 0;return e>=s?0:(n=it(e))&&(n=et(++e))?(n=Bt(e+=n))?e+n-t:((n=vt(e))&&(e+=n),(n=Bt(e))?(e+=n)-t:0):0}(e)}function H(){return V(l)?function(){var e=i.DeclarationType,t=o[l],n=t.ln,r=t.col,a=[];return a.push(tt()),ht(l)&&a.push(_t()),a.push(at()),ht(l)&&a.push(_t()),a.push($t()),h(e,a,n,r)}():(e=i.DeclarationType,n=(t=o[l]).ln,r=t.col,h(e,[].concat(at(),tt(),yt(),$t()),n,r));var e,t,n,r}function V(e){var t=e,n=void 0;return e>=s?0:(n=et(e))?((n=vt(e+=n))&&(e+=n),(n=it(e))?(n=Bt(++e))?e+n-t:((n=ht(e))&&(e+=n),(n=Bt(e))?(e+=n)-t:0):0):0}function W(e){var t=e,n=void 0;return e>=s?0:(n=et(e))?((n=vt(e+=n))&&(e+=n),(n=it(e))?((n=vt(++e))&&(e+=n),(n=function(e){for(var t=e,n=void 0,r=void 0;e<s&&!K(e)&&!J(e);){if(n=S(e)){e+=n;break}if((n=Ht(e+(r=vt(e))))&&(e+=n+r),!n||S(e-n))break}return e-t}(e))?(e+=n)-t:0):0):0}function G(){var e=i.DeclarationType,t=o[l],n=t.ln,r=t.col,a=[].concat(tt(),yt(),at(),yt(),function(){for(var e=i.ValueType,t=o[l],n=t.ln,r=t.col,a=[],c=void 0,u=void 0;l<s&&!K(l)&&!J(l)&&(u=vt(l),!K(c=l+u)&&!J(c));){if(S(l)){a.push(C());break}if(!Ht(c))break;if(u&&a.push(_t()),a.push(Vt()),S(c))break}return h(e,a,n,r)}());return h(e,a,n,r)}function K(e){return e>=s?0:o[e].type===a.Newline||o[e].type===a.Semicolon?1:0}function Q(){var e=i.DeclDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"\n",n,r)}function X(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"default"===o[e].value?(o[n].defaultEnd=e,e-n+1):0)}function Y(){var e=i.DefaultType,t=o[l],n=t.ln,r=t.col,a=d(l,t.defaultEnd);return l=t.defaultEnd+1,h(e,a,n,r)}function J(e){return e<s&&o[e].type===a.Comma?1:0}function Z(){var e=i.DelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,",",n,r)}function ee(e){var t,n=Ie(e);return e>=s||!n||e+n>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+n))?n+t:0}function te(){var e=i.DimensionType,t=o[l],n=t.ln,r=t.col;return h(e,[Le(),Pt()],n,r)}function ne(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function re(){var e=i.ExpressionType,t=o[l],n=t.ln,r=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,n,r,1);return s[0]===n&&(s[1]+=11),l=o[l].right+1,h(e,a,n,r,s)}function ie(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?(e+=n,"extend"!==o[t+1].value?0:(n=vt(e))&&(n=Jt(e+=n))&&(n=vt(e+=n))&&(n=Fe(e+=n))?(e+=n)-t:0):0}(e))?o[e].extend_child=1:(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?(e+=n,"extend"!==o[t+1].value?0:(n=vt(e))&&(n=Jt(e+=n))?(e+=n)-t:0):0}(e))&&(o[e].extend_child=2),t}function ae(){var e,t,n,r,a=o[l].extend_child;return 1===a?(e=i.ExtendType,n=(t=o[l]).ln,r=t.col,h(e,[].concat(T(),yt(),Zt(),yt(),qe()),n,r)):2===a?function(){var e=i.ExtendType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),yt(),Zt()),n,r)}():void 0}function oe(e){var t,n=e;return e>=s?0:(t=_e(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-n+1:0}function se(){var e=i.FunctionType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(ge(),v()),n,r)}function le(e){var t,n=0;if(e>=s)return 0;if(!(t=oe(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)n++,e++;return 3===n?t+n:0}function ce(){var e=i.FunctionsListType,t=o[l],n=t.ln,r=t.col,a=[se()],s=f(a,n,r,3);return l+=3,h(e,a,n,r,s)}function ue(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"global"===o[e].value?(o[n].globalEnd=e,e-n+1):0)}function de(){var e=i.GlobalType,t=o[l],n=t.ln,r=t.col,a=d(l,t.globalEnd);return l=t.globalEnd+1,h(e,a,n,r)}function pe(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&o[e+1].type===a.DecimalNumber)return 0;if(o[e].type===a.HyphenMinus&&e++,we(e))return o[t].ident_last=e-1,e-t;if(o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function fe(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,n,r)}function he(e){var t=e;if(e>=s)return 0;for(;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function _e(e){for(var t=e,n=void 0,r=!1;e<s;)if(n=we(e))o[e].ii_type=1,e+=n,r=!0;else if(n=pe(e))o[e].ii_type=2,e+=n,r=!1;else{if(!r||!(n=he(e)))break;o[e].ii_type=3,e+=n,r=!1}return e-t}function ge(){for(var e=[];l<s;){var t=o[l].ii_type;if(1===t)e.push(Te());else{if(2!==t&&3!==t)break;e.push(fe())}}return e}function me(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"important"===o[e].value?(o[n].importantEnd=e,e-n+1):0)}function ve(){var e=i.ImportantType,t=o[l],n=t.ln,r=t.col,a=d(l,t.importantEnd);return l=t.importantEnd+1,h(e,a,n,r)}function ye(e){var t=void 0;return e>=s?0:((t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=vt(e))&&(n=_e(e+=n))?((n=vt(e+=n))&&(e+=n),(n=m(e))?((n=vt(e+=n))&&(e+=n),(n=Se(e))?(e+=n)-t:0):0):0):0}(e))?o[e].include_type=9:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=vt(e))&&(n=_e(e+=n))?((n=vt(e+=n))&&(e+=n),(n=m(e))?((n=vt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0):0):0}(e))?o[e].include_type=1:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=vt(e))&&(n=_e(e+=n))?((n=vt(e+=n))&&(e+=n),(n=m(e))?(e+=n)-t:0):0):0}(e))?o[e].include_type=2:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=vt(e))&&(n=_e(e+=n))?((n=vt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0):0}(e))?o[e].include_type=3:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=vt(e))&&(n=_e(e+=n))?(e+=n)-t:0):0}(e))?o[e].include_type=4:(t=function(e){var t=e,n=void 0;return o[e].type!==a.PlusSign?0:(n=_e(++e))?((n=vt(e+=n))&&(e+=n),(n=m(e))?((n=vt(e+=n))&&(e+=n),(n=Se(e))?(e+=n)-t:0):0):0}(e))?o[e].include_type=10:(t=function(e){var t=e,n=void 0;return o[e].type!==a.PlusSign?0:(n=_e(++e))?((n=vt(e+=n))&&(e+=n),(n=m(e))?((n=vt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0):0}(e))?o[e].include_type=5:(t=function(e){var t=e,n=void 0;return o[e].type!==a.PlusSign?0:(n=_e(++e))?((n=vt(e+=n))&&(e+=n),(n=m(e))?(e+=n)-t:0):0}(e))?o[e].include_type=6:(t=function(e){var t=e,n=void 0;return o[e].type!==a.PlusSign?0:(n=_e(++e))?((n=vt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}(e))?o[e].include_type=7:(t=function(e){var t,n=e;return o[e].type!==a.PlusSign?0:(t=_e(++e))?(e+=t)-n:0}(e))&&(o[e].include_type=8),t)}function be(){var e=o[l].include_type;return 1===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),v(),yt(),C()),n,r)}():2===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),v()),n,r)}():3===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),C()),n,r)}():4===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),yt(),ge()),n,r)}():5===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Ne(),ge(),yt(),v(),yt(),C()),n,r)}():6===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Ne(),ge(),yt(),v()),n,r)}():7===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Ne(),ge(),yt(),C()),n,r)}():8===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Ne(),ge()),n,r)}():9===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),v(),yt(),Ce()),n,r)}():10===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Ne(),ge(),yt(),v(),yt(),Ce()),n,r)}():void 0}function we(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign||!o[e+1]||o[e+1].type!==a.LeftCurlyBracket)return 0;for(e+=2;o[e].type!==a.RightCurlyBracket;){if(!(n=y(e)))return 0;e+=n}return o[e].type===a.RightCurlyBracket?e-t+1:0}function Te(){var e=i.InterpolationType,t=o[l],n=t.ln,r=t.col,c=[];for(l+=2;l<s&&o[l].type!==a.RightCurlyBracket;){var u=b();"string"==typeof u.content?c.push(u):c=c.concat(u)}var d=f(c,n,r,1);return l++,h(e,c,n,r,d)}function xe(e){var t=e,n=void 0;return e>=s?0:(n=function(e){var t=e,n=void 0;if(!(n=Me(e)))return 0;for((n=vt(e+=n)&&o[e].type!==a.Newline)&&(e+=n);e<s;){var r=e,i=e,l=void 0;if(!(l=J(i)))break;if((l=vt(i+=l))&&(i+=l),(l=vt(i))&&(i+=l),(l=vt(i))&&(i+=l),!(l=Me(i)))break;(l=vt(i+=l)&&o[i].type!==a.Newline)&&(i+=l),e+=i-r}return o[t].selectorsGroupEnd=e,e-t}(e))?((n=vt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}function ke(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(function(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Ae()),vt(l)&&o[l].type!==a.Newline&&(e=e.concat(yt()));l<t;)e=e.concat(Z(),yt(),yt(),yt(),Ae()),vt(l)&&o[l].type!==a.Newline&&(e=e.concat(yt()));return e}(),yt(),C()),n,r)}function Se(e){if(e>=s)return 0;var t=o[e].block_end,n=e,r=void 0;if(!t)return 0;for((r=vt(e))&&(e+=r),(r=xe(e))&&(e+=r);e<t;)if(r=vt(e))e+=r;else if(r=xe(e))e+=r;else{if(!(r=x(e)))break;e+=r}return e!==t+1?0:t+1-n}function Ce(){for(var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=t.block_end,s=[];l<a;)if(vt(l))s=s.concat(yt());else if(xe(l))s.push(ke());else{if(!x(l))break;s.push(k())}return h(e,s,n,r)}function Me(e){var t=e,n=void 0;if(e>=s)return 0;if(n=pe(e)){var r=p(e,n);if("from"!==r&&"to"!==r)return 0;e+=n,o[t].keyframesSelectorType=1}else if(n=We(e))e+=n,o[t].keyframesSelectorType=2;else{if(!(n=we(e)))return 0;e+=n,o[t].keyframesSelectorType=3}return e-t}function Ae(){var e=i.KeyframesSelectorType,t=i.SelectorType,n=o[l],r=n.ln,a=n.col,s=[];1===n.keyframesSelectorType?s.push(fe()):2===n.keyframesSelectorType?s.push(Ge()):3===n.keyframesSelectorType&&s.push(Te());var c=h(e,s,r,a);return h(t,[c],r,a)}function Oe(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=w(e)))return 0;if(e+=n,["for","each","while"].indexOf(o[t+1].value)<0)return 0;for(;e<s;){if(n=S(e)){e+=n;break}if(!(n=Wt(e)||Ie(e)||we(e)||pe(e)||vt(e)||Re(e)||D(e)||Tt(e)))return 0;e+=n}return e-t}function Ee(){var e=i.LoopType,t=o[l],n=t.ln,r=t.col,a=[];for(a.push(T());l<s;){if(S(l)){a.push(C());break}Wt(l)?a.push(Gt()):Ie(l)?a.push(Le()):we(l)?a.push(Te()):pe(l)?a.push(fe()):Re(l)?a.push(Ne()):D(l)?a.push(j()):vt(l)?a=a.concat(yt()):Tt(l)&&a.push(xt())}return h(e,a,n,r)}function Pe(e){return je(e)||function(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].type!==a.EqualsSign)return 0;if((n=vt(++e))&&(e+=n),!(n=_e(e)))return 0;if((n=vt(e+=n))&&(e+=n),n=S(e))e+=n;else{if((n=m(e))&&(e+=n),(n=vt(e))&&(e+=n),!(n=S(e)))return 0;e+=n}return e-t}(e)}function De(){return je(l)?(e=i.MixinType,n=(t=o[l]).ln,r=t.col,a=[].concat(T(),yt()),_e(l)&&(a=a.concat(ge())),a=a.concat(yt()),S(l)?a.push(C()):(m(l)&&a.push(v()),(a=a.concat(yt())).push(C())),h(e,a,n,r)):function(){var e=i.MixinType,t=o[l],n=t.ln,r=t.col,a=[].concat(Ne(),yt());return _e(l)&&(a=a.concat(ge())),a=a.concat(yt()),S(l)?a.push(C()):(m(l)&&a.push(v()),(a=a.concat(yt())).push(C())),h(e,a,n,r)}();var e,t,n,r,a}function je(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=w(e))||"mixin"!==o[e+1].value)return 0;if((n=vt(e+=n))&&(e+=n),!(n=_e(e)))return 0;if((n=vt(e+=n))&&(e+=n),n=S(e))e+=n;else{if((n=m(e))&&(e+=n),(n=vt(e))&&(e+=n),!(n=S(e)))return 0;e+=n}return e-t}function Ie(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function Le(){for(var e=i.NumberType,t=o[l],n=t.ln,r=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,n,r)}function Re(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.PercentSign:case a.Comma:case a.Colon:case a.EqualsSign:case a.EqualitySign:case a.InequalitySign:case a.LessThanSign:case a.GreaterThanSign:case a.Asterisk:return 1}return 0}function Ne(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Fe(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"optional"===o[e].value?(o[n].optionalEnd=e,e-n+1):0)}function qe(){var e=i.OptionalType,t=o[l],n=t.ln,r=t.col,a=d(l,t.optionalEnd);return l=t.optionalEnd+1,h(e,a,n,r)}function Ue(e){if(e>=s)return 0;var t=e,n=o[e].right,r=void 0;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<n){if(!(r=St(e)))return 0;e+=r}return++e-t}function ze(){var e=i.ParenthesesType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=Ct());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function Be(e){return e<s&&o[e].type===a.Ampersand?1:0}function $e(){var e=i.ParentSelectorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"&",n,r)}function He(e){var t=e,n=void 0;if(e>=s)return 0;for(;e<s&&(n=_e(e)||he(e));)e+=n;return e-t}function Ve(e){var t=e,n=void 0;return e>=s?0:(n=Be(e))?((n=He(e+=n))&&(e+=n),e-t):0}function We(e){var t,n=e;return e>=s?0:(t=Ke(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-n:0}function Ge(){var e=i.PercentageType,t=o[l],n=t.ln,r=t.col,a=Qe(),s=f(a,n,r,1);return l++,h(e,a,n,r,s)}function Ke(e){for(var t=e,n=void 0;e<s&&(n=we(e)||Ie(e));)e+=n;return e-t}function Qe(){for(var e=[];l<s;)if(we(l))e.push(Te());else{if(!Ie(l))break;e.push(Le())}return e}function Xe(e){var t,n=e;return e>=s?0:o[n].placeholder_l?o[n].placeholder_l:o[e].type!==a.PercentSign?0:(t=_e(++e))?(e+=t,o[n].placeholder_l=e-n,e-n):0}function Ye(){var e=i.PlaceholderType,t=o[l],n=t.ln,r=t.col,a=[];return l++,h(e,a=a.concat(ge()),n,r)}function Je(e){var t=e,n=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(n=_e(e+=6))?((n=vt(e+=n))&&(e+=n),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function Ze(){var e=i.ProgidType,t=o[l],n=t.ln,r=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,n,r)}function et(e){var t=e,n=void 0;return(n=function(e){var t,n=e;return e>=s?0:(t=_e(e))?(e+=t)-n:0}(e))?o[t].propertyType=1:(n=function(e){return nt(e)}(e))?o[t].propertyType=2:(n=function(e){var t,n=e;return e>=s?0:(t=Wt(e))?(e+=t)-n:0}(e))&&(o[t].propertyType=3),n}function tt(){var e=o[l].propertyType;return 1===e?function(){var e=i.PropertyType,t=o[l],n=t.ln,r=t.col;return h(e,ge(),n,r)}():2===e?rt():3===e?function(){var e=i.PropertyType,t=o[l],n=t.ln,r=t.col;return h(e,[Gt()],n,r)}():void 0}function nt(e){var t,n=e;return e>=s||o[e].type!==a.HyphenMinus||o[e+1]&&o[e+1].type!==a.HyphenMinus?0:(t=pe(e+=2))?(e+=t)-n:0}function rt(){var e=i.CustomPropertyType,t=o[l],n=t.ln,r=t.col;return l+=2,h(e,[fe()],n,r)}function it(e){return e<s&&o[e].type===a.Colon?1:0}function at(){var e=i.PropertyDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,":",n,r)}function ot(e){return lt(e)||ut(e)}function st(){return lt(l)?ct():ut(l)?dt():void 0}function lt(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e+1>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if((e+=2)>=s)return 0;if(!(n=pe(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=vt(++e))&&(e+=n),(n=Jt(e))?((n=vt(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,n=e;return(t=_e(e+=2))?(e+=t)-n:0}(e)))return 0;o[e].pseudoElementType=2}return t}function ct(){var e,t,n,r,a=o[l].pseudoElementType;return 1===a?function(){var e=i.PseudoeType,t=o[l],n=t.ln,r=t.col,a=[];l+=2,a.push(fe());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(yt(),Zt(),yt()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===a?(e=i.PseudoeType,n=(t=o[l]).ln,r=t.col,l+=2,h(e,ge(),n,r)):void 0}function ut(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=_e(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=vt(++e))&&(e+=n),(n=Mt(e))&&(e+=n),(n=Ke(e))&&(e+=n),e>=s?0:("n"===o[e].value&&e++,(n=vt(e))&&(e+=n),e>=s||o[e].type!==a.PlusSign&&o[e].type!==a.HyphenMinus?0:((n=vt(++e))&&(e+=n),(n=Ke(e))?((n=vt(e+=n))&&(e+=n),e!==r?0:++e-t):0))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=_e(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=vt(++e))&&(e+=n),(n=Mt(e))&&(e+=n),(n=we(e))&&(e+=n),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((n=vt(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=_e(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=vt(++e))&&(e+=n),(n=Mt(e))&&(e+=n),o[e].type!==a.DecimalNumber?0:((n=vt(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=5;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=_e(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=vt(++e))&&(e+=n),(n=Jt(e))?((n=vt(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=_e(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=vt(++e))&&(e+=n),(n=_e(e))?((n=vt(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=2;else{if(!(t=function(e){var t,n=e;return++e>=s?0:(t=_e(e))?(e+=t)-n:0}(e)))return 0;o[e].pseudoClassType=6}return t}function dt(){var e,t,n,r,a=o[l].pseudoClassType;return 1===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(ge());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(yt(),Zt(),yt()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col;l++;var u=[].concat(yt(),ge(),yt()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():3===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(yt()),Mt(l)&&u.push(At()),Ke(l)&&(u=u.concat(Qe()));var d=o[l];if("n"===d.value){var p=d.ln,_=d.col,g=d.value,m=h(i.IdentType,g,p,_);u.push(m),l++}u=u.concat(yt()),Mt(l)&&u.push(At()),u=u.concat(yt()),Ke(l)&&(u=u.concat(Qe()));var v=f(u=u.concat(yt()),s,c,1),y=h(i.ArgumentsType,u,s,c,v);return a.push(y),l++,h(e,a,n,r)}():4===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(yt()),Mt(l)&&u.push(At()),we(l)&&u.push(Te()),Ie(l)&&u.push(Le()),pe(l)&&u.push(fe());var d=f(u=u.concat(yt()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():5===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(yt()),Mt(l)&&u.push(At()),Ie(l)&&u.push(Le());var d=f(u=u.concat(yt()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():6===a?(e=i.PseudocType,n=(t=o[l]).ln,r=t.col,l++,h(e,ge(),n,r)):void 0}function pt(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=Jt(e)))return 0;if((n=vt(e+=n))&&(e+=n),n=S(e))e+=n;else{if(!(n=vt(e)))return 0;if(!(n=S(e+=n)))return 0;e+=n}return e-t}function ft(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col,a=[].concat(Zt(),yt());return S(l)?a.push(C()):a=a.concat(yt(),C()),h(e,a,n,r)}function ht(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function _t(){var e=i.SType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,n,r)}function gt(e){if(!o[e])return 0;for(var t=void 0,n=0;e<s&&((t=ht(e))||(t=I(e))||(t=R(e)));)e+=t,n+=t;return n||0}function mt(){var e=[];if(l>=s)return e;for(;l<s;)if(ht(l))e.push(_t());else if(I(l))e.push(L());else{if(!R(l))break;e.push(N())}return e}function vt(e){if(e>=s)return 0;for(var t=void 0,n=0,r=o[e].ln;e<s&&o[e].ln===r;){if(t=ht(e))o[e].sc_child=1;else if(t=I(e))o[e].sc_child=2;else{if(!(t=R(e)))break;o[e].sc_child=3}if(n+=t,o[e+=t]&&o[e].type===a.Newline)break}return n||0}function yt(){var e=[];if(l>=s)return e;for(var t=o[l].ln;l<s&&o[l].ln===t;){if(ht(l))e.push(_t());else if(I(l))e.push(L());else{if(!R(l))break;e.push(N())}if(o[l]&&o[l].type===a.Newline)break}return e}function bt(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign)return 0;if(!(n=_e(++e)||he(e)))return 0;for(e+=n;e<s&&(n=_e(e)||he(e));)e+=n;return o[t].shashEnd=e,e-t}function wt(){var e=i.ShashType,t=o[l],n=t.ln,r=t.col,a=t.shashEnd,s=[];for(l++;l<a;)if(_e(l))s=s.concat(ge());else{if(!he(l))break;s.push(fe())}return h(e,s,n,r)}function Tt(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function xt(){var e=i.StringType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function kt(e){return Xt(e)||Re(e)||_(e)||vt(e)}function St(e){var t=e,n=void 0;if(e>=s)return 0;for(;o[e-1].type!==a.Newline&&(n=kt(e));)e+=n;return e-t}function Ct(){for(var e=[],t=void 0;o[l-1].type!==a.Newline&&(t=Xt(l)?Yt():Re(l)?Ne():_(l)?g():vt(l)?yt():void 0);)"string"==typeof t.content?e.push(t):e=e.concat(t);return e}function Mt(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function At(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Ot(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=Dt(e)))return 0;for(e+=n;e<s;){var r=vt(e),i=J(e+r);if(!i)break;var a=vt(e+r+i);if(!(n=Dt(e+r+i+a)))break;e+=r+i+a+n}return e-t}function Et(){for(var e=i.UnicodeRangeType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(vt(l))a=a.concat(yt());else if(J(l))a.push(Z());else{if(!Dt(l))break;a.push(jt())}return h(e,a,n,r)}function Pt(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Dt(e){var t=e,n=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(n=pe(e))e+=n;else if(n=Ie(e))e+=n;else if(n=Mt(e))e+=n;else{if(!(n=It(e)))break;e+=n}return o[t].urangeEnd=e-1,e-t}function jt(){var e,t=l,n=i.UrangeType,r=o[l],a=r.ln,s=r.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(n,e,a,s)}function It(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function Lt(e){var t=e,n=void 0;if(e>=s||"url"!==o[e].value)return 0;if(++e>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e];for(e++;e<r.right;)if(n=Ut(e))e+=n,o[t].uriType=1;else{if(!(n=zt(e)))return 0;e+=n,o[t].uriType=2}return++e-t}function Rt(){var e=l,t=i.UriType,n=o[e],r=n.ln,a=n.col,s=[],c=void 0,u=o[e].uriType;return l+=2,1===u?s=s.concat(function(){var e=l,t=[];for(vt(l)&&(t=t.concat(yt()));l<o[e].uri_end;)if(we(l))t.push(Te());else{if(!Ft(l))break;t.push(qt())}return vt(l)&&(t=t.concat(yt())),t}()):2===u?s=s.concat(function(){for(var e=l,t=[];l<o[e].uri_end;)if(vt(l))t=t.concat(yt());else if(Mt(l))t.push(At());else{if(!Ht(l))break;t.push(Vt())}return t}()):c=f(s,r,a,4),c||(c=f(s,r,a,1)),l++,h(t,s,r,a,c)}function Nt(e){var t=e,n=void 0;if(n=pe(e))e+=n;else if(n=Ie(e))e+=n;else switch(o[e].type){case a.ExclamationMark:case a.NumberSign:case a.DollarSign:case a.PercentSign:case a.Ampersand:case a.Asterisk:case a.PlusSign:case a.Comma:case a.HyphenMinus:case a.FullStop:case a.Solidus:case a.Colon:case a.Semicolon:case a.LessThanSign:case a.EqualsSign:case a.GreaterThanSign:case a.QuotationMark:case a.CommercialAt:case a.LeftSquareBracket:case a.RightSquareBracket:case a.CircumflexAccent:case a.LowLine:case a.LeftCurlyBracket:case a.VerticalLine:case a.RightCurlyBracket:case a.Tilde:e+=1;break;default:return 0}return e-t}function Ft(e){for(var t=e,n=void 0;e<s&&!we(e)&&!Wt(e)&&(n=Nt(e));)e+=n;return o[t].uri_raw_end=e,e-t}function qt(){for(var e=l,t=i.RawType,n=o[e],r=n.ln,a=n.col,s=void 0;l<o[e].uri_raw_end&&!we(l)&&!Wt(l)&&(s=Nt(l));)l+=s;return h(t,d(e,l-1),r,a)}function Ut(e){var t=e,n=void 0;for((n=vt(e))&&(e+=n);e<s&&(n=we(e)||Ft(e));)e+=n;return(n=vt(e))&&(e+=n),e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function zt(e){for(var t=e,n=void 0;e<s;)if(n=vt(e))e+=n;else if(n=Tt(e))e+=n;else if(n=oe(e))e+=n;else if(n=Mt(e))e+=n;else if(n=_e(e))e+=n;else{if(!(n=Wt(e)))break;e+=n}return e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function Bt(e){for(var t=e,n=void 0,r=void 0;e<s&&!K(e);){if(n=S(e)){e+=n;break}if((n=Ht(e+(r=ht(e))))&&(e+=n+r),!n||S(e-n))break}return e-t}function $t(){for(var e=i.ValueType,t=o[l],n=t.ln,r=t.col,a=[],c=void 0,u=void 0;l<s&&!K(l)&&(u=ht(l),!K(c=l+u));){if(S(l)){a.push(C());break}if(!Ht(c))break;if(u&&a.push(_t()),a.push(Vt()),S(c))break}return h(e,a,n,r)}function Ht(e){var t=void 0;return(t=we(e))?o[e].value_child=1:(t=Wt(e))?o[e].value_child=2:(t=Xt(e))?o[e].value_child=3:(t=S(e))?o[e].value_child=4:(t=w(e))?o[e].value_child=5:(t=Re(e))?o[e].value_child=6:(t=me(e))?o[e].value_child=7:(t=ue(e))?o[e].value_child=8:(t=X(e))?o[e].value_child=9:(t=Je(e))?o[e].value_child=10:(t=_(e))?o[e].value_child=11:(t=Be(e))&&(o[e].value_child=12),t}function Vt(){var e=o[l].value_child;return 1===e?Te():2===e?Gt():3===e?Yt():4===e?C():5===e?T():6===e?Ne():7===e?ve():8===e?de():9===e?Y():10===e?Ze():11===e?g():12===e?$e():void 0}function Wt(e){var t,n=e;return e>=s||o[e].type!==a.DollarSign?0:(t=pe(++e))?(e+=t)-n:0}function Gt(){var e=i.VariableType,t=o[l],n=t.ln,r=t.col;return l++,h(e,[fe()],n,r)}function Kt(e){var t,n=0;if(e>=s)return 0;if(!(t=Wt(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)n++,e++;return 3===n?t+n:0}function Qt(){var e=i.VariablesListType,t=o[l],n=t.ln,r=t.col,a=[Gt()],s=f(a,n,r,3);return l+=3,h(e,a,n,r,s)}function Xt(e){var t,n=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-n:0}function Yt(){var e,t=i.VhashType,n=o[l],r=n.ln,c=n.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,r,c,f(u,r,c+1))}function Jt(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=en(e)))return 0;for(e+=n;e<s;){var r=vt(e),i=J(e+r);if(!i)break;var a=gt(e+r+i),l=a?gt(e+r+i+a):0;if(!(n=en(e+r+i+a+l)))break;e+=r+i+a+l+n}return o[t].selectorsGroupEnd=e,e-t}function Zt(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(tn());l<t;)e=e.concat(mt(),Z(),mt(),tn());return e}function en(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=nn(e)))return 0;for(e+=n;e<s;){var r=vt(e),i=D(e+r);if(!r&&!i)break;if(i&&(r=vt(e+=r+i)),!(n=nn(e+r)))break;e+=r+n}return o[t].selectorEnd=e,e-t}(e))?o[e].selectorType=1:(t=function(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=D(e)))return 0;for(e+=n;e<s;){var r=vt(e);if(!(n=nn(e+r)))break;var i=vt(e+=r+n),a=D(e+i);if(!i&&!a)break;a&&(e+=i+a)}return o[t].selectorEnd=e,e-t}(e))&&(o[e].selectorType=2),t}function tn(){return 1===o[l].selectorType?function(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=rn();l<a;)vt(l)?s=s.concat(yt()):D(l)?s.push(j()):nn(l)&&(s=s.concat(rn()));return h(e,s,n,r)}():function(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=[j()];l<a;)vt(l)?s=s.concat(yt()):D(l)?s.push(j()):nn(l)&&(s=s.concat(rn()));return h(e,s,n,r)}()}function nn(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,n=e;if(!(t=an(e)||sn(e)||Xe(e)||Ve(e)))return 0;for(e+=t;e<s;){var r=bt(e)||E(e)||cn(e)||ot(e)||Xe(e)||we(e);if(!r)break;e+=r}return o[n].compoundSelectorEnd=e,e-n}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var n=bt(e)||E(e)||cn(e)||ot(e)||Xe(e)||we(e);if(!n)break;e+=n}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function rn(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t=[],n=o[l].compoundSelectorEnd;for(an(l)?t.push(on()):sn(l)?t.push(ln()):Xe(l)?t.push(Ye()):Ve(l)&&(t=t.concat((e=[$e()],He(l)&&e.push(function(){for(var e=i.ParentSelectorExtensionType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(_e(l))a=a.concat(ge());else{if(!he(l))break;a.push(fe())}return h(e,a,n,r)}()),e)));l<n;)if(bt(l))t.push(wt());else if(E(l))t.push(P());else if(cn(l))t.push(un());else if(ot(l))t.push(st());else if(Xe(l))t.push(Ye());else{if(!we(l))break;t.push(Te())}return t}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)if(bt(l))e.push(wt());else if(E(l))e.push(P());else if(cn(l))e.push(un());else if(ot(l))e.push(st());else if(Xe(l))e.push(Ye());else{if(!we(l))break;e.push(Te())}return e}():void 0}function an(e){if(e>=s)return 0;var t,n=e;return(t=hn(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-n}function on(){var e=i.UniversalSelectorType,t=o[l],n=t.ln,r=t.col,a=[],s=void 0;return hn(l)&&(a.push(_n()),s=f(a,n,r,1)),l++,h(e,a,n,r,s)}function sn(e){if(e>=s)return 0;var t=e,n=void 0;return(n=hn(e))&&(e+=n),(n=_e(e))?(e+=n)-t:0}function ln(){var e=i.TypeSelectorType,t=o[l],n=t.ln,r=t.col,a=[];return hn(l)&&a.push(_n()),h(e,a=a.concat(ge()),n,r)}function cn(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=vt(++e))&&(e+=n),(n=dn(e))?((n=vt(e+=n))&&(e+=n),(n=function(e){var t=void 0;return(t=function(e){var t=e,n=o[e].type;return n!==a.Tilde&&n!==a.VerticalLine&&n!==a.CircumflexAccent&&n!==a.DollarSign&&n!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((n=vt(e+=n))&&(e+=n),(n=function(e){return Tt(e)||_e(e)}(e))?((n=vt(e+=n))&&(e+=n),(n=fn(e))&&(n=vt(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=vt(++e))&&(e+=n),(n=dn(e))?((n=vt(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function un(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,n=(t=o[l]).ln,r=t.col,l++,a=(a=[]).concat(yt(),pn(),yt(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,n,r)}():function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"=",n,r)}(),yt(),function(){var e=i.AttributeValueType,t=o[l],n=t.ln,r=t.col,a=[];return Tt(l)?a.push(xt()):a=a.concat(ge()),h(e,a,n,r)}(),yt()),fn(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],n=t.ln,r=t.col;return h(e,ge(),n,r)}()),a=a.concat(yt())),l++,h(e,a,n,r,f(a,n,r,1))):function(){var e=i.AttributeSelectorType,t=o[l],n=t.ln,r=t.col,a=[];return l++,a=a.concat(yt(),pn(),yt()),l++,h(e,a,n,r,f(a,n,r,1))}();var e,t,n,r,a}function dn(e){var t=e,n=void 0;return(n=hn(e))&&(e+=n),(n=_e(e))?(e+=n)-t:0}function pn(){var e=i.AttributeNameType,t=o[l],n=t.ln,r=t.col,a=[];return hn(l)&&a.push(_n()),h(e,a=a.concat(ge()),n,r)}function fn(e){return _e(e)}function hn(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,n=void 0;return(n=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=_e(e))?t:0}(e))?((n=I(e+=n))&&(e+=n),(n=gn(e))?(e+=n)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return gn(e)}(e))&&(o[e].namePrefixType=2),t}function _n(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,n=(t=o[l]).ln,r=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],n=t.ln,r=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",n,r);s.push(c),l++}else _e(l)&&(s=s.concat(ge()));return h(e,s,n,r)}()),I(l)&&s.push(L()),s.push(mn()),h(e,s,n,r)):function(){var e=i.NamePrefixType,t=o[l],n=t.ln,r=t.col;return h(e,[mn()],n,r)}();var e,t,n,r,s}function gn(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function mn(){var e=i.NamespaceSeparatorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"|",n,r)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(13),i=[],a=!1,o=void 0,s=void 0,l=0,c=0,u=1,d=1,p={" ":r.Space,"\n":r.Newline,"\r":r.Newline,"\t":r.Tab,"!":r.ExclamationMark,'"':r.QuotationMark,"#":r.NumberSign,$:r.DollarSign,"%":r.PercentSign,"&":r.Ampersand,"'":r.Apostrophe,"(":r.LeftParenthesis,")":r.RightParenthesis,"*":r.Asterisk,"+":r.PlusSign,",":r.Comma,"-":r.HyphenMinus,".":r.FullStop,"/":r.Solidus,":":r.Colon,";":r.Semicolon,"<":r.LessThanSign,"=":r.EqualsSign,"==":r.EqualitySign,"!=":r.InequalitySign,">":r.GreaterThanSign,"?":r.QuestionMark,"@":r.CommercialAt,"[":r.LeftSquareBracket,"]":r.RightSquareBracket,"^":r.CircumflexAccent,_:r.LowLine,"{":r.LeftCurlyBracket,"|":r.VerticalLine,"}":r.RightCurlyBracket,"~":r.Tilde,"`":r.Backtick};function f(e,t,n){i.push({tn:c++,ln:u,col:n,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=l;l<e.length&&" "===e.charAt(l);l++);f(r.Space,e.substring(t,l--),d),d+=l-t}function g(e,t){var n=l;for(l++;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)===t)break;f('"'===t?r.StringDQ:r.StringSQ,e.substring(n,l+1),d),d+=l-n}function m(e){for(var t=l;l<e.length&&h(e.charAt(l));l++);f(r.DecimalNumber,e.substring(t,l--),d),d+=l-t}function v(e){for(var t=l;"/"===e.charAt(l);)l++;for(;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)in p)break;var n=e.substring(t,l--);a||"url"!==n||"("!==e.charAt(l+1)||(a=!0),f(r.Identifier,n,d),d+=l-t}function y(e){for(var t=l,n=d,i=0,a=l-1;a>-1&&" "===e.charAt(a);a--)i++;for(l+=2;l<e.length;l++){var o=e.charAt(l);if("\n"===o){var s=void 0,c=0;for(s=l+1;s<e.length&&" "===e.charAt(s);s++)c++;if(!(c>i)){l--;break}d=0,l+=s-l}else if("*"===o&&"/"===e.charAt(l+1)){l++;break}}"\r"===e.charAt(l)&&l--;var p=e.substring(t,l+1);f(r.CommentML,p,n);var h=p.split("\n");h.length>1?(u+=h.length-1,d=h[h.length-1].length):d+=l-t}function b(e){var t,n=l,i=d,a=0,o=!1;for(t=l-1;t>-1;t--){if(" "!==e.charAt(t)){if("\n"===e.charAt(t)){o=!0;break}break}a++}if(-1===t&&(o=!0),o){for(l+=2;l<e.length;l++)if("\n"===e.charAt(l)){var s=0;for(t=l+1;t<e.length&&" "===e.charAt(t);t++)s++;if(!(s>a))break;d=0,l+=t-l}}else for(l+=2;l<e.length&&"\n"!==e.charAt(l)&&"\r"!==e.charAt(l);l++);"\r"===e.charAt(l-1)&&l--;var c=e.substring(n,l--);f(r.CommentSL,c,i);var p=c.split("\n");p.length>1?(u+=p.length-1,d=p[p.length-1].length):d+=l-n}return function(e){for(l=0;l<e.length;d++,l++)o=e.charAt(l),s=e.charAt(l+1),"/"===o&&"*"===s?y(e):a||"/"!==o||"/"!==s?'"'===o||"'"===o?g(e,o):" "===o?_(e):"="===o&&"="===s?(f(r.EqualitySign,"==",d),l++,d++):"!"===o&&"="===s?(f(r.InequalitySign,"!=",d),l++,d++):o in p?("\r"===o&&"\n"===s||"\n"===o?("\r"===o?(f(r.Newline,"\r\n",d),l++):"\n"===o&&f(p[o],o,d),u++,d=0):"\r"!==o&&"\n"!==o&&f(p[o],o,d),")"===o?a=!1:"\t"===o&&t>1&&(d+=t-1)):h(o)?m(e):v(e):b(e);return i}(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default={mark:n(26),parse:n(27),stringify:n(6),tokenizer:n(28)},e.exports=t.default},function(e,t,n){"use strict";var r=n(13);e.exports=function(e){!function(e){for(var t=e.length,n=[],i=[],a=[],o=void 0,s=0;s<t;s++)switch((o=e[s]).type){case r.LeftParenthesis:n.push(s);break;case r.RightParenthesis:n.length&&(o.left=n.pop(),e[o.left].right=s);break;case r.LeftSquareBracket:i.push(s);break;case r.RightSquareBracket:i.length&&(o.left=i.pop(),e[o.left].right=s);break;case r.LeftCurlyBracket:a.push(s);break;case r.RightCurlyBracket:a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t=e.length,n=-1,i=-1,a=void 0,o=0;o<t;o++)switch((a=e[o]).type){case r.Space:case r.Tab:case r.Newline:a.ws=!0,a.sc=!0,-1===n&&(n=o),-1===i&&(i=o);break;case r.CommentML:case r.CommentSL:-1!==n&&(e[n].ws_last=o-1,n=-1),a.sc=!0;break;default:-1!==n&&(e[n].ws_last=o-1,n=-1),-1!==i&&(e[i].sc_last=o-1,i=-1)}-1!==n&&(e[n].ws_last=o-1),-1!==i&&(e[i].sc_last=o-1)}(e)}},function(e,t,n){"use strict";var r=n(1),i=n(15),a=n(13),o=void 0,s=void 0,l=void 0,c={arguments:function(){return m(l)&&v()},atkeyword:function(){return w(l)&&T()},atrule:function(){return x(l)&&k()},attributeSelector:function(){return an(l)&&on()},block:function(){return S(l)&&C()},brackets:function(){return A(l)&&O()},class:function(){return E(l)&&P()},combinator:function(){return D(l)&&j()},commentML:function(){return I(l)&&L()},commentSL:function(){return R(l)&&N()},condition:function(){return F(l)&&U()},conditionalStatement:function(){return z(l)&&B()},declaration:function(){return $(l)&&H()},declDelim:function(){return G(l)&&K()},default:function(){return Q(l)&&X()},delim:function(){return Y(l)&&J()},dimension:function(){return Z(l)&&ee()},expression:function(){return te(l)&&ne()},extend:function(){return re(l)&&ie()},function:function(){return ae(l)&&oe()},global:function(){return ce(l)&&ue()},ident:function(){return de(l)&&pe()},important:function(){return ge(l)&&me()},include:function(){return ve(l)&&ye()},interpolation:function(){return be(l)&&we()},loop:function(){return Ae(l)&&Oe()},mixin:function(){return Ee(l)&&Pe()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,n=(t=o[l]).ln,r=t.col,l++,h(e,"|",n,r));var e,t,n,r,c},number:function(){return De(l)&&je()},operator:function(){return Ie(l)&&Le()},optional:function(){return Re(l)&&Ne()},parentheses:function(){return Fe(l)&&qe()},parentselector:function(){return Ue(l)&&ze()},percentage:function(){return He(l)&&Ve()},placeholder:function(){return Ke(l)&&Qe()},progid:function(){return Xe(l)&&Ye()},property:function(){return Je(l)&&Ze()},propertyDelim:function(){return nt(l)&&rt()},pseudoc:function(){return lt(l)&&ct()},pseudoe:function(){return ot(l)&&st()},ruleset:function(){return ut(l)&&dt()},s:function(){return pt(l)&&ft()},selector:function(){return Xt(l)&&Yt()},shash:function(){return gt(l)&&mt()},string:function(){return vt(l)&&yt()},stylesheet:function(){return function(e){for(var t=e,n=void 0;e<s;)(n=ht(e))?o[e].stylesheet_child=1:(n=ut(e))?o[e].stylesheet_child=2:(n=ve(e))?o[e].stylesheet_child=3:(n=re(e))?o[e].stylesheet_child=4:(n=Ee(e))?o[e].stylesheet_child=5:(n=Ae(e))?o[e].stylesheet_child=6:(n=z(e))?o[e].stylesheet_child=7:(n=x(e))?o[e].stylesheet_child=8:(n=$(e))?o[e].stylesheet_child=9:(n=G(e))?o[e].stylesheet_child=10:u(e),e+=n;return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],n=t.ln,r=t.col,a=[];l<s;){var c=o[l].stylesheet_child;1===c&&(a=a.concat(_t())),2===c&&a.push(dt()),3===c&&a.push(ye()),4===c&&a.push(ie()),5===c&&a.push(Pe()),6===c&&a.push(Oe()),7===c&&a.push(B()),8===c&&a.push(k()),9===c&&a.push(H()),10===c&&a.push(K())}return h(e,a,n,r)}()},typeSelector:function(){return nn(l)&&rn()},unary:function(){return xt(l)&&kt()},unicodeRange:function(){return St(l)&&Ct()},universalSelector:function(){return en(l)&&tn()},urange:function(){return At(l)&&Ot()},uri:function(){return Pt(l)&&Dt()},value:function(){return Ft(l)&&qt()},variable:function(){return Bt(l)&&$t()},variableslist:function(){return Ht(l)&&Vt()},vhash:function(){return Wt(l)&&Gt()}};function u(e){throw{line:o[e].ln,syntax:"scss"}}function d(e,t){for(var n="",r=e;r<t+1;r++)n+=o[r].value;return n}function p(e,t){if(!(e+t-1>=s)){for(var n="",r=0;r<t;r++)n+=o[e+r].value;return n}}function f(e,t,n,r){return"string"==typeof e?function(e,t,n,r){var i=[];if(!e)return i=[t,n],r&&(i[1]+=r-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-n-1:e.length-1,i[1]=n+u,r?(o?(i[0]++,i[1]=r):i[1]+=r,i):i}(e,t,n,r):function(e,t,n,r){var i=void 0;if(0===e.length)i=[t,n];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,n)}return r?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=r:(i[0]++,i[1]=1),i):i}(e,t,n,r)}function h(e,t,n,i,a){return a||(a=f(t,n,i)),new r({type:e,content:t,start:{line:n,column:i},end:{line:a[0],column:a[1]},syntax:"scss"})}function _(e){var t=void 0;return(t=A(e))?o[e].any_child=1:(t=Fe(e))?o[e].any_child=2:(t=vt(e))?o[e].any_child=3:(t=Ht(e))?o[e].any_child=4:(t=Bt(e))?o[e].any_child=5:(t=Ke(e))?o[e].any_child=6:(t=He(e))?o[e].any_child=7:(t=Z(e))?o[e].any_child=8:(t=St(e))?o[e].any_child=9:(t=De(e))?o[e].any_child=10:(t=Pt(e))?o[e].any_child=11:(t=te(e))?o[e].any_child=12:(t=se(e))?o[e].any_child=13:(t=ae(e))?o[e].any_child=14:(t=be(e))?o[e].any_child=15:(t=de(e))?o[e].any_child=16:(t=E(e))?o[e].any_child=17:(t=xt(e))?o[e].any_child=18:(t=Ue(e))?o[e].any_child=19:(t=ge(e))?o[e].any_child=20:(t=ce(e))?o[e].any_child=21:(t=Q(e))?o[e].any_child=22:(t=Re(e))&&(o[e].any_child=23),t}function g(){var e=o[l].any_child;return 1===e?O():2===e?qe():3===e?yt():4===e?Vt():5===e?$t():6===e?Qe():7===e?Ve():8===e?ee():9===e?Ct():10===e?je():11===e?Dt():12===e?ne():13===e?le():14===e?oe():15===e?we():16===e?pe():17===e?P():18===e?kt():19===e?ze():20===e?me():21===e?ue():22===e?X():23===e?Ne():void 0}function m(e){var t=e,n=void 0;if(e>=s||o[e].type!==a.LeftParenthesis)return 0;for(e++;e<o[t].right;){if(!(n=y(e)))return 0;e+=n}return o[t].right-t+1}function v(){var e=i.ArgumentsType,t=o[l],n=t.ln,r=t.col,c=[],d=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)V(l)?c.push(W()):y(l)?"string"==typeof(d=b()).content?c.push(d):c=c.concat(d):E(l)?c.push(P()):u(l);var p=f(c,n,r,1);return l++,h(e,c,n,r,p)}function y(e){var t=void 0;return(t=A(e))?o[e].argument_child=1:(t=Fe(e))?o[e].argument_child=2:(t=V(e))?o[e].argument_child=3:(t=se(e))?o[e].argument_child=4:(t=ae(e))?o[e].argument_child=5:(t=Ht(e))?o[e].argument_child=6:(t=Bt(e))?o[e].argument_child=7:(t=ht(e))?o[e].argument_child=8:(t=Y(e))?o[e].argument_child=9:(t=G(e))?o[e].argument_child=10:(t=vt(e))?o[e].argument_child=11:(t=He(e))?o[e].argument_child=12:(t=Z(e))?o[e].argument_child=13:(t=De(e))?o[e].argument_child=14:(t=Pt(e))?o[e].argument_child=15:(t=be(e))?o[e].argument_child=16:(t=de(e))?o[e].argument_child=17:(t=Wt(e))?o[e].argument_child=18:(t=et(e))?o[e].argument_child=19:(t=Ie(e))?o[e].argument_child=20:(t=xt(e))?o[e].argument_child=21:(t=Ue(e))?o[e].argument_child=22:(t=ge(e))?o[e].argument_child=23:(t=ce(e))?o[e].argument_child=24:(t=Q(e))?o[e].argument_child=25:(t=Re(e))&&(o[e].argument_child=26),t}function b(){var e=o[l].argument_child;return 1===e?O():2===e?qe():3===e?W():4===e?le():5===e?oe():6===e?Vt():7===e?$t():8===e?_t():9===e?J():10===e?K():11===e?yt():12===e?Ve():13===e?ee():14===e?je():15===e?Dt():16===e?we():17===e?pe():18===e?Gt():19===e?tt():20===e?Le():21===e?kt():22===e?ze():23===e?me():24===e?ue():25===e?X():26===e?Ne():void 0}function w(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=he(e))?t+1:0}function T(){var e=i.AtkeywordType,t=o[l],n=t.ln,r=t.col;return l++,h(e,_e(),n,r)}function x(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?-1===p((e+=n)-n,n).toLowerCase().indexOf("keyframes")?0:(n=ht(e))&&(n=he(e+=n)||lt(e))?((n=ht(e+=n))&&(e+=n),(n=ke(e))?(e+=n)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?((n=wt(e+=n))&&(e+=n),e<s&&o[e].type===a.LeftCurlyBracket?((n=function(e){var t=e,n=void 0;if(e>=s)return 0;for((n=ht(e))&&(e+=n);e<s;){if(n=ht(e))o[e].atrulers_child=1;else if(n=x(e))o[e].atrulers_child=2;else{if(!(n=ut(e)))break;o[e].atrulers_child=3}e+=n}return e<s&&(o[e].atrulers_end=1),(n=ht(e))&&(e+=n),e-t}(++e))&&(e+=n),e<s&&o[e].type===a.RightCurlyBracket?++e-t:0):0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?((n=wt(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?((n=wt(e+=n))&&(e+=n),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function k(){var e,t,n,r,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,n=(t=o[l]).ln,r=t.col,a=[].concat(T(),Tt(),function(){var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=[];for(l++,a=a.concat(_t());l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(_t());else if(2===c)a.push(k());else{if(3!==c)break;a.push(dt())}}var u=f(a=a.concat(_t()),n,r,1);return l++,h(e,a,n,r,u)}()),h(e,a,n,r)):2===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),Tt(),C()),n,r)}():3===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),Tt()),n,r)}():4===c?function(){var e=i.AtruleType,t=o[l],n=t.ln,r=t.col,a=[].concat(T(),_t());return he(l)?a=a.concat(_e()):lt(l)&&(a=a.concat(ct())),h(e,a=a.concat(_t(),Se()),n,r)}():void 0}function S(e){return e<s&&o[e].type===a.LeftCurlyBracket?o[e].right-e+1:0}function C(){var e,t=i.BlockType,n=o[l],r=n.ln,a=n.col,s=o[l].right,c=[];for(l++;l<s;)M(l)?c=c.concat((void 0,1===(e=o[l].bd_type)?function(){var e=_t(),t=void 0;switch(o[l].bd_kind){case 1:t=B();break;case 2:t=ye();break;case 3:t=Oe();break;case 4:t=ie();break;case 5:t=H();break;case 6:t=k();break;case 7:t=dt()}return e.concat(t,_t(),K(),_t())}():2===e?function(){var e=_t(),t=void 0;switch(o[l].bd_kind){case 1:t=B();break;case 2:t=ye();break;case 3:t=Oe();break;case 4:t=ie();break;case 5:t=H();break;case 6:t=k();break;case 7:t=dt();break;case 8:t=Pe()}return e.concat(t,_t())}():3===e?[].concat(_t(),K(),_t()):4===e?_t():void 0)):u(l);var d=f(c,r,a,1);return l=s+1,h(t,c,r,a,d)}function M(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,n=void 0;if((n=ht(e))&&(e+=n),n=z(e))o[e].bd_kind=1;else if(n=ve(e))o[e].bd_kind=2;else if(n=re(e))o[e].bd_kind=4;else if(n=Ae(e))o[e].bd_kind=3;else if(n=x(e))o[e].bd_kind=6;else if(n=ut(e))o[e].bd_kind=7;else{if(!(n=$(e)))return 0;o[e].bd_kind=5}return(e+=n)<s&&(n=G(e))?((n=ht(e+=n))&&(e+=n),e-t):0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,n=void 0;if((n=ht(e))&&(e+=n),n=z(e))o[e].bd_kind=1;else if(n=ve(e))o[e].bd_kind=2;else if(n=re(e))o[e].bd_kind=4;else if(n=Ee(e))o[e].bd_kind=8;else if(n=Ae(e))o[e].bd_kind=3;else if(n=x(e))o[e].bd_kind=6;else if(n=ut(e))o[e].bd_kind=7;else{if(!(n=$(e)))return 0;o[e].bd_kind=5}return(n=ht(e+=n))&&(e+=n),e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,n=void 0;return(n=ht(e))&&(e+=n),(n=G(e))?((n=ht(e+=n))&&(e+=n),e-t):0}(e))o[e].bd_type=3;else{if(!(t=function(e){return ht(e)}(e)))return 0;o[e].bd_type=4}return t}function A(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var n=wt(e);if(!n)return 0;e+=n}return++e-t}function O(){var e=i.BracketsType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=Tt());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function E(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].class_l)return o[e].class_l;if(o[e].type!==a.FullStop)return 0;if(!(n=he(++e)))return 0;for(e+=n;e<s&&(n=he(e));)o[t].class_l=n+1,e+=n;return o[t].classEnd=e,e-t}function P(){var e=i.ClassType,t=o[l],n=t.ln,r=t.col,a=t.classEnd,s=[];for(l++;l<a&&he(l);)s=s.concat(_e());return h(e,s,n,r)}function D(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,n=e;return o[e].type!==a.Solidus?0:(t=de(++e))?o[e+=t].type!==a.Solidus?0:++e-n:0}(e))&&(o[e].combinatorType=4),t}function j(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;return l+=3,h(e,">>>",n,r)}():2===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,n,r)}():3===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}():4===e?function(){var e=i.CombinatorType,t=o[l],n=t.ln,r=t.col;l++;var a=pe();return l++,h(e,"/"+a.content+"/",n,r)}():void 0}function I(e){return e<s&&o[e].type===a.CommentML?1:0}function L(){var e=i.CommentMLType,t=o[l],n=t.ln,r=t.col,a=o[l].value.substring(2),s=a.length;"*"===a.charAt(s-2)&&"/"===a.charAt(s-1)&&(a=a.substring(0,s-2));var c=f(a,n,r,2);return c[0]===n&&(c[1]+=2),l++,h(e,a,n,r,c)}function R(e){return e<s&&o[e].type===a.CommentSL?1:0}function N(){var e=i.CommentSLType,t=o[l],n=t.ln,r=t.col,a=o[l++].value.substring(2);return h(e,a,n,r,f(a,n,r+2))}function F(e){var t=e,n=void 0,r=void 0;if(e>=s)return 0;if(!(n=w(e)))return 0;if(e+=n,["if","else"].indexOf(o[t+1].value)<0)return 0;for(;e<s&&!(n=S(e))&&(n=q(e+(r=ht(e))));)e+=n+r;return e-t}function q(e){return Bt(e)||De(e)||be(e)||de(e)||Ie(e)||D(e)||vt(e)}function U(){var e=i.ConditionType,t=o[l],n=t.ln,r=t.col,a=[],c=void 0;for(a.push(T());l<s&&!S(l)&&(c=ht(l),q(l+c));)c&&(a=a.concat(_t())),a.push(Bt(l)?$t():De(l)?je():be(l)?we():de(l)?pe():Ie(l)?Le():D(l)?j():vt(l)?yt():void 0);return h(e,a,n,r)}function z(e){var t=e,n=void 0;return e>=s?0:(n=F(e))?((n=ht(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}function B(){var e=i.ConditionalStatementType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(U(),_t(),C()),n,r)}function $(e){var t=e,n=void 0;return e>=s?0:(n=Je(e))?((n=ht(e+=n))&&(e+=n),(n=nt(e))?((n=ht(++e))&&(e+=n),(n=Ft(e))?(e+=n)-t:0):0):0}function H(){var e=i.DeclarationType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Ze(),_t(),rt(),_t(),qt()),n,r)}function V(e){var t=e,n=void 0;return e>=s?0:(n=Je(e))?((n=ht(e+=n))&&(e+=n),(n=nt(e))?((n=ht(++e))&&(e+=n),(n=function(e){for(var t=e,n=void 0,r=void 0;e<s&&!G(e)&&!Y(e)&&((n=Ut(e+(r=ht(e))))&&(e+=n+r),n&&!S(e-n)););return e-t}(e))?(e+=n)-t:0):0):0}function W(){var e=i.DeclarationType,t=o[l],n=t.ln,r=t.col,a=[].concat(Ze(),_t(),rt(),_t(),function(){for(var e=i.ValueType,t=o[l],n=t.ln,r=t.col,a=[],c=void 0,u=void 0;l<s&&(u=ht(l),!G(c=l+u)&&!Y(c))&&Ut(c)&&(u&&(a=a.concat(_t())),a.push(zt()),!S(c)););return h(e,a,n,r)}());return h(e,a,n,r)}function G(e){return e<s&&o[e].type===a.Semicolon?1:0}function K(){var e=i.DeclDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,";",n,r)}function Q(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"default"===o[e].value?(o[n].defaultEnd=e,e-n+1):0)}function X(){var e=i.DefaultType,t=o[l],n=t.ln,r=t.col,a=d(l,t.defaultEnd);return l=t.defaultEnd+1,h(e,a,n,r)}function Y(e){return e<s&&o[e].type===a.Comma?1:0}function J(){var e=i.DelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,",",n,r)}function Z(e){var t,n=De(e);return e>=s||!n||e+n>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+n))?n+t:0}function ee(){var e=i.DimensionType,t=o[l],n=t.ln,r=t.col;return h(e,[je(),Mt()],n,r)}function te(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function ne(){var e=i.ExpressionType,t=o[l],n=t.ln,r=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,n,r,1);return s[0]===n&&(s[1]+=11),l=o[l].right+1,h(e,a,n,r,s)}function re(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?(e+=n,"extend"!==o[t+1].value?0:(n=ht(e))&&(n=Kt(e+=n))&&(n=ht(e+=n))&&(n=Re(e+=n))?(e+=n)-t:0):0}(e))?o[e].extend_child=1:(t=function(e){var t=e,n=void 0;return e>=s?0:(n=w(e))?(e+=n,"extend"!==o[t+1].value?0:(n=ht(e))&&(n=Kt(e+=n))?(e+=n)-t:0):0}(e))&&(o[e].extend_child=2),t}function ie(){var e,t,n,r,a=o[l].extend_child;return 1===a?(e=i.ExtendType,n=(t=o[l]).ln,r=t.col,h(e,[].concat(T(),_t(),Qt(),_t(),Ne()),n,r)):2===a?function(){var e=i.ExtendType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),_t(),Qt()),n,r)}():void 0}function ae(e){var t,n=e;return e>=s?0:(t=he(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-n+1:0}function oe(){var e=i.FunctionType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(_e(),v()),n,r)}function se(e){var t,n=0;if(e>=s)return 0;if(!(t=ae(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)n++,e++;return 3===n?t+n:0}function le(){var e=i.FunctionsListType,t=o[l],n=t.ln,r=t.col,a=[oe()],s=f(a,n,r,3);return l+=3,h(e,a,n,r,s)}function ce(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"global"===o[e].value?(o[n].globalEnd=e,e-n+1):0)}function ue(){var e=i.GlobalType,t=o[l],n=t.ln,r=t.col,a=d(l,t.globalEnd);return l=t.globalEnd+1,h(e,a,n,r)}function de(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&o[e+1].type===a.DecimalNumber)return 0;if(o[e].type===a.HyphenMinus&&e++,be(e))return o[t].ident_last=e-1,e-t;if(o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function pe(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,n,r)}function fe(e){var t=e;if(e>=s)return 0;for(;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function he(e){for(var t=e,n=void 0,r=!1;e<s;)if(n=be(e))o[e].ii_type=1,e+=n,r=!0;else if(n=de(e))o[e].ii_type=2,e+=n,r=!1;else{if(!r||!(n=fe(e)))break;o[e].ii_type=3,e+=n,r=!1}return e-t}function _e(){for(var e=[];l<s;){var t=o[l].ii_type;if(1===t)e.push(we());else{if(2!==t&&3!==t)break;e.push(pe())}}return e}function ge(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"important"===o[e].value?(o[n].importantEnd=e,e-n+1):0)}function me(){var e=i.ImportantType,t=o[l],n=t.ln,r=t.col,a=d(l,t.importantEnd);return l=t.importantEnd+1,h(e,a,n,r)}function ve(e){var t=void 0;return e>=s?0:((t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=ht(e))&&(n=he(e+=n))?((n=ht(e+=n))&&(e+=n),(n=m(e))?((n=ht(e+=n))&&(e+=n),(n=ke(e))?(e+=n)-t:0):0):0):0}(e))?o[e].include_type=1:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=ht(e))&&(n=he(e+=n))?((n=ht(e+=n))&&(e+=n),(n=m(e))?((n=ht(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0):0):0}(e))?o[e].include_type=2:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=ht(e))&&(n=he(e+=n))?((n=ht(e+=n))&&(e+=n),(n=m(e))?(e+=n)-t:0):0):0}(e))?o[e].include_type=3:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=ht(e))&&(n=he(e+=n))?((n=ht(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0):0}(e))?o[e].include_type=4:(t=function(e){var t=e,n=void 0;return(n=w(e))?(e+=n,"include"!==o[t+1].value?0:(n=ht(e))&&(n=he(e+=n))?(e+=n)-t:0):0}(e))&&(o[e].include_type=5),t)}function ye(){var e=o[l].include_type;return 1===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),v(),_t(),Se()),n,r)}():2===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),v(),_t(),C()),n,r)}():3===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),v()),n,r)}():4===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),C()),n,r)}():5===e?function(){var e=i.IncludeType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(T(),_t(),_e()),n,r)}():void 0}function be(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign||!o[e+1]||o[e+1].type!==a.LeftCurlyBracket)return 0;for(e+=2;o[e].type!==a.RightCurlyBracket;){if(!(n=y(e)))return 0;e+=n}return o[e].type===a.RightCurlyBracket?e-t+1:0}function we(){var e=i.InterpolationType,t=o[l],n=t.ln,r=t.col,c=[];for(l+=2;l<s&&o[l].type!==a.RightCurlyBracket;){var u=b();"string"==typeof u.content?c.push(u):c=c.concat(u)}var d=f(c,n,r,1);return l++,h(e,c,n,r,d)}function Te(e){var t=e,n=void 0;return e>=s?0:(n=function(e){var t=e,n=void 0;if(!(n=Ce(e)))return 0;for(e+=n;e<s;){var r=ht(e),i=Y(e+r);if(!i)break;var a=ht(e+r+i);if(!(n=Ce(e+r+i+a)))break;e+=r+i+a+n}return o[t].selectorsGroupEnd=e,e-t}(e))?((n=ht(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}function xe(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(function(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Me());l<t;)e=e.concat(_t(),J(),_t(),Me());return e}(),_t(),C()),n,r)}function ke(e){var t=e,n=void 0;if(!(e<s&&o[e].type===a.LeftCurlyBracket))return 0;for((n=ht(++e))&&(e+=n),(n=Te(e))&&(e+=n);o[e].type!==a.RightCurlyBracket;)if(n=ht(e))e+=n;else if(n=Te(e))e+=n;else{if(!(n=x(e)))break;(n=ht(e+=n))&&(e+=n),(n=G(e))&&(e+=n)}return e<s&&o[e].type===a.RightCurlyBracket?++e-t:0}function Se(){var e=i.BlockType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];for(l++;l<a;)if(ht(l))s=s.concat(_t());else if(Te(l))s.push(xe());else{if(!x(l))break;s.push(k()),ht(l)&&(s=s.concat(_t())),G(l)&&s.push(K())}var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function Ce(e){var t=e,n=void 0;if(e>=s)return 0;if(n=de(e)){var r=p(e,n);if("from"!==r&&"to"!==r)return 0;e+=n,o[t].keyframesSelectorType=1}else if(n=He(e))e+=n,o[t].keyframesSelectorType=2;else{if(!(n=be(e)))return 0;e+=n,o[t].keyframesSelectorType=3}return e-t}function Me(){var e=i.KeyframesSelectorType,t=i.SelectorType,n=o[l],r=n.ln,a=n.col,s=[];1===n.keyframesSelectorType?s.push(pe()):2===n.keyframesSelectorType?s.push(Ve()):3===n.keyframesSelectorType&&s.push(we());var c=h(e,s,r,a);return h(t,[c],r,a)}function Ae(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=w(e)))return 0;if(e+=n,["for","each","while"].indexOf(o[t+1].value)<0)return 0;for(;e<s;){if(n=S(e)){e+=n;break}if(!(n=Bt(e)||De(e)||be(e)||de(e)||ht(e)||Ie(e)||D(e)||vt(e)))return 0;e+=n}return e-t}function Oe(){var e=i.LoopType,t=o[l],n=t.ln,r=t.col,a=[];for(a.push(T());l<s;){if(S(l)){a.push(C());break}Bt(l)?a.push($t()):De(l)?a.push(je()):be(l)?a.push(we()):de(l)?a.push(pe()):Ie(l)?a.push(Le()):D(l)?a.push(j()):ht(l)?a=a.concat(_t()):vt(l)&&a.push(yt())}return h(e,a,n,r)}function Ee(e){var t=e,n=void 0;return e>=s?0:(n=w(e))&&"mixin"===o[e+1].value?((n=ht(e+=n))&&(e+=n),(n=he(e))?((n=ht(e+=n))&&(e+=n),(n=m(e))&&(e+=n),(n=ht(e))&&(e+=n),(n=S(e))?(e+=n)-t:0):0):0}function Pe(){var e=i.MixinType,t=o[l],n=t.ln,r=t.col,a=[].concat(T(),_t());return he(l)&&(a=a.concat(_e())),a=a.concat(_t()),m(l)&&a.push(v()),a=a.concat(_t()),S(l)&&a.push(C()),h(e,a,n,r)}function De(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function je(){for(var e=i.NumberType,t=o[l],n=t.ln,r=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,n,r)}function Ie(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.PercentSign:case a.Comma:case a.Colon:case a.EqualsSign:case a.EqualitySign:case a.InequalitySign:case a.LessThanSign:case a.GreaterThanSign:case a.Asterisk:return 1}return 0}function Le(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function Re(e){var t,n=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"optional"===o[e].value?(o[n].optionalEnd=e,e-n+1):0)}function Ne(){var e=i.OptionalType,t=o[l],n=t.ln,r=t.col,a=d(l,t.optionalEnd);return l=t.optionalEnd+1,h(e,a,n,r)}function Fe(e){if(e>=s)return 0;var t=e,n=o[e].right,r=void 0;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<n){if(!(r=wt(e)))return 0;e+=r}return++e-t}function qe(){var e=i.ParenthesesType,t=o[l],n=t.ln,r=t.col,a=t.right,s=[];++l<a&&(s=Tt());var c=f(s,n,r,1);return l++,h(e,s,n,r,c)}function Ue(e){return e<s&&o[e].type===a.Ampersand?1:0}function ze(){var e=i.ParentSelectorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"&",n,r)}function Be(e){var t=e,n=void 0;if(e>=s)return 0;for(;e<s&&(n=he(e)||fe(e));)e+=n;return e-t}function $e(e){var t=e,n=void 0;return e>=s?0:(n=Ue(e))?((n=Be(e+=n))&&(e+=n),e-t):0}function He(e){var t,n=e;return e>=s?0:(t=We(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-n:0}function Ve(){var e=i.PercentageType,t=o[l],n=t.ln,r=t.col,a=Ge(),s=f(a,n,r,1);return l++,h(e,a,n,r,s)}function We(e){for(var t=e,n=void 0;e<s&&(n=be(e)||De(e));)e+=n;return e-t}function Ge(){for(var e=[];l<s;)if(be(l))e.push(we());else{if(!De(l))break;e.push(je())}return e}function Ke(e){var t,n=e;return e>=s?0:o[n].placeholder_l?o[n].placeholder_l:o[e].type!==a.PercentSign?0:(t=he(++e))?(e+=t,o[n].placeholder_l=e-n,e-n):0}function Qe(){var e=i.PlaceholderType,t=o[l],n=t.ln,r=t.col,a=[];return l++,h(e,a=a.concat(_e()),n,r)}function Xe(e){var t=e,n=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(n=he(e+=6))?((n=ht(e+=n))&&(e+=n),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function Ye(){var e=i.ProgidType,t=o[l],n=t.ln,r=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,n,r)}function Je(e){var t=e,n=void 0;return(n=function(e){var t,n=e;return e>=s?0:(t=he(e))?(e+=t)-n:0}(e))?o[t].propertyType=1:(n=function(e){return et(e)}(e))?o[t].propertyType=2:(n=function(e){var t,n=e;return e>=s?0:(t=Bt(e))?(e+=t)-n:0}(e))&&(o[t].propertyType=3),n}function Ze(){var e=o[l].propertyType;return 1===e?function(){var e=i.PropertyType,t=o[l],n=t.ln,r=t.col;return h(e,_e(),n,r)}():2===e?tt():3===e?function(){var e=i.PropertyType,t=o[l],n=t.ln,r=t.col;return h(e,[$t()],n,r)}():void 0}function et(e){var t,n=e;return e>=s||o[e].type!==a.HyphenMinus||o[e+1]&&o[e+1].type!==a.HyphenMinus?0:(t=de(e+=2))?(e+=t)-n:0}function tt(){var e=i.CustomPropertyType,t=o[l],n=t.ln,r=t.col;return l+=2,h(e,[pe()],n,r)}function nt(e){return e<s&&o[e].type===a.Colon?1:0}function rt(){var e=i.PropertyDelimType,t=o[l],n=t.ln,r=t.col;return l++,h(e,":",n,r)}function it(e){return ot(e)||lt(e)}function at(){return ot(l)?st():lt(l)?ct():void 0}function ot(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if((e+=2)>=s)return 0;if(!(n=de(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ht(++e))&&(e+=n),(n=Kt(e))?((n=ht(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,n=e;return(t=he(e+=2))?(e+=t)-n:0}(e)))return 0;o[e].pseudoElementType=2}return t}function st(){var e,t,n,r,a=o[l].pseudoElementType;return 1===a?function(){var e=i.PseudoeType,t=o[l],n=t.ln,r=t.col,a=[];l+=2,a.push(pe());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(_t(),Qt(),_t()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===a?(e=i.PseudoeType,n=(t=o[l]).ln,r=t.col,l+=2,h(e,_e(),n,r)):void 0}function lt(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=he(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ht(++e))&&(e+=n),(n=xt(e))&&(e+=n),(n=We(e))&&(e+=n),e>=s?0:("n"===o[e].value&&e++,(n=ht(e))&&(e+=n),e>=s||o[e].type!==a.PlusSign&&o[e].type!==a.HyphenMinus?0:((n=ht(++e))&&(e+=n),(n=We(e))?((n=ht(e+=n))&&(e+=n),e!==r?0:++e-t):0))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=he(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ht(++e))&&(e+=n),(n=xt(e))&&(e+=n),(n=be(e))&&(e+=n),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((n=ht(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=he(e)))return 0;if((e+=n)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ht(++e))&&(e+=n),(n=xt(e))&&(e+=n),o[e].type!==a.DecimalNumber?0:((n=ht(++e))&&(e+=n),e!==r?0:++e-t)}(e))o[e].pseudoClassType=5;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=he(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ht(++e))&&(e+=n),(n=Kt(e))?((n=ht(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,n=void 0;if(++e>=s)return 0;if(!(n=he(e)))return 0;if((e+=n)>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e].right;return(n=ht(++e))&&(e+=n),(n=he(e))?((n=ht(e+=n))&&(e+=n),e!==r?0:++e-t):0}(e))o[e].pseudoClassType=2;else{if(!(t=function(e){var t,n=e;return++e>=s?0:(t=he(e))?(e+=t)-n:0}(e)))return 0;o[e].pseudoClassType=6}return t}function ct(){var e,t,n,r,a=o[l].pseudoClassType;return 1===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(_e());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(_t(),Qt(),_t()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,n,r)}():2===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col;l++;var u=[].concat(_t(),_e(),_t()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():3===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(_t()),xt(l)&&u.push(kt()),We(l)&&(u=u.concat(Ge()));var d=o[l];if("n"===d.value){var p=d.ln,_=d.col,g=d.value,m=h(i.IdentType,g,p,_);u.push(m),l++}u=u.concat(_t()),xt(l)&&u.push(kt()),u=u.concat(_t()),We(l)&&(u=u.concat(Ge()));var v=f(u=u.concat(_t()),s,c,1),y=h(i.ArgumentsType,u,s,c,v);return a.push(y),l++,h(e,a,n,r)}():4===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(_t()),xt(l)&&u.push(kt()),be(l)&&u.push(we()),De(l)&&u.push(je()),de(l)&&u.push(pe());var d=f(u=u.concat(_t()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():5===a?function(){var e=i.PseudocType,t=o[l],n=t.ln,r=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(_t()),xt(l)&&u.push(kt()),De(l)&&u.push(je());var d=f(u=u.concat(_t()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,n,r)}():6===a?(e=i.PseudocType,n=(t=o[l]).ln,r=t.col,l++,h(e,_e(),n,r)):void 0}function ut(e){var t=e,n=void 0;return e>=s?0:(n=Kt(e))?((n=ht(e+=n))&&(e+=n),(n=S(e))?(e+=n)-t:0):0}function dt(){var e=i.RulesetType,t=o[l],n=t.ln,r=t.col;return h(e,[].concat(Qt(),_t(),C()),n,r)}function pt(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function ft(){var e=i.SType,t=o[l],n=t.ln,r=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,n,r)}function ht(e){if(e>=s)return 0;for(var t=void 0,n=0;e<s;){if(t=pt(e))o[e].sc_child=1;else if(t=I(e))o[e].sc_child=2;else{if(!(t=R(e)))break;o[e].sc_child=3}e+=t,n+=t}return n||0}function _t(){var e=[];if(l>=s)return e;for(;l<s;){var t=o[l].sc_child;if(1===t)e.push(ft());else if(2===t)e.push(L());else{if(3!==t)break;e.push(N())}}return e}function gt(e){var t=e,n=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign)return 0;if(!(n=he(++e)||fe(e)))return 0;for(e+=n;e<s&&(n=he(e)||fe(e));)e+=n;return o[t].shashEnd=e,e-t}function mt(){var e=i.ShashType,t=o[l],n=t.ln,r=t.col,a=t.shashEnd,s=[];for(l++;l<a;)if(he(l))s=s.concat(_e());else{if(!fe(l))break;s.push(pe())}return h(e,s,n,r)}function vt(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function yt(){var e=i.StringType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function bt(e){var t=void 0;return(t=Wt(e))?o[e].tset_child=1:(t=Ie(e))?o[e].tset_child=2:(t=_(e))?o[e].tset_child=3:(t=ht(e))&&(o[e].tset_child=4),t}function wt(e){var t=e,n=void 0;if(e>=s)return 0;for(;n=bt(e);)e+=n;return o[t].tsets_end=e,e-t}function Tt(){var e=[],t=void 0;if(l>=s)return e;for(var n,r=o[l].tsets_end;l<r;)"string"==typeof(t=1===(n=o[l].tset_child)?Gt():2===n?Le():3===n?g():4===n?_t():void 0).content?e.push(t):e=e.concat(t);return e}function xt(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function kt(){var e=i.OperatorType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function St(e){var t=e,n=void 0;if(e>=s)return 0;if(!(n=At(e)))return 0;for(e+=n;e<s;){var r=ht(e),i=Y(e+r);if(!i)break;var a=ht(e+r+i);if(!(n=At(e+r+i+a)))break;e+=r+i+a+n}return e-t}function Ct(){for(var e=i.UnicodeRangeType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(ht(l))a=a.concat(_t());else if(Y(l))a.push(J());else{if(!At(l))break;a.push(Ot())}return h(e,a,n,r)}function Mt(){var e=i.IdentType,t=o[l],n=t.ln,r=t.col,a=t.value;return l++,h(e,a,n,r)}function At(e){var t=e,n=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(n=de(e))e+=n;else if(n=De(e))e+=n;else if(n=xt(e))e+=n;else{if(!(n=Et(e)))break;e+=n}return o[t].urangeEnd=e-1,e-t}function Ot(){var e,t=l,n=i.UrangeType,r=o[l],a=r.ln,s=r.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(n,e,a,s)}function Et(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function Pt(e){var t=e,n=void 0;if(e>=s||"url"!==o[e].value)return 0;if(++e>=s||o[e].type!==a.LeftParenthesis)return 0;var r=o[e];for(e++;e<r.right;)if(n=Rt(e))e+=n,o[t].uriType=1;else{if(!(n=Nt(e)))return 0;e+=n,o[t].uriType=2}return++e-t}function Dt(){var e=l,t=i.UriType,n=o[e],r=n.ln,a=n.col,s=[],c=void 0,u=o[e].uriType;return l+=2,1===u?s=s.concat(function(){var e=l,t=[];for(ht(l)&&(t=t.concat(_t()));l<o[e].uri_end;)if(be(l))t.push(we());else{if(!It(l))break;t.push(Lt())}return ht(l)&&(t=t.concat(_t())),t}()):2===u?s=s.concat(function(){for(var e=l,t=[];l<o[e].uri_end;)if(ht(l))t=t.concat(_t());else if(xt(l))t.push(kt());else{if(!Ut(l))break;t.push(zt())}return t}()):c=f(s,r,a,4),c||(c=f(s,r,a,1)),l++,h(t,s,r,a,c)}function jt(e){var t=e,n=void 0;if(n=de(e))e+=n;else if(n=De(e))e+=n;else switch(o[e].type){case a.ExclamationMark:case a.NumberSign:case a.DollarSign:case a.PercentSign:case a.Ampersand:case a.Asterisk:case a.PlusSign:case a.Comma:case a.HyphenMinus:case a.FullStop:case a.Solidus:case a.Colon:case a.Semicolon:case a.LessThanSign:case a.EqualsSign:case a.GreaterThanSign:case a.QuotationMark:case a.CommercialAt:case a.LeftSquareBracket:case a.RightSquareBracket:case a.CircumflexAccent:case a.LowLine:case a.LeftCurlyBracket:case a.VerticalLine:case a.RightCurlyBracket:case a.Tilde:e+=1;break;default:return 0}return e-t}function It(e){for(var t=e,n=void 0;e<s&&!be(e)&&!Bt(e)&&(n=jt(e));)e+=n;return o[t].uri_raw_end=e,e-t}function Lt(){for(var e=l,t=i.RawType,n=o[e],r=n.ln,a=n.col,s=void 0;l<o[e].uri_raw_end&&!be(l)&&!Bt(l)&&(s=jt(l));)l+=s;return h(t,d(e,l-1),r,a)}function Rt(e){var t=e,n=void 0;for((n=ht(e))&&(e+=n);e<s&&(n=be(e)||It(e));)e+=n;return(n=ht(e))&&(e+=n),e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function Nt(e){for(var t=e,n=void 0;e<s;)if(n=ht(e))e+=n;else if(n=vt(e))e+=n;else if(n=ae(e))e+=n;else if(n=xt(e))e+=n;else if(n=he(e))e+=n;else{if(!(n=Bt(e)))break;e+=n}return e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function Ft(e){for(var t=e,n=void 0,r=void 0;e<s&&!G(e)&&((n=Ut(e+(r=ht(e))))&&(e+=n+r),n&&!S(e-n)););return o[t].value_end=e,e-t}function qt(){for(var e=i.ValueType,t=o[l],n=t.ln,r=t.col,a=o[l].value_end,s=[],c=void 0,u=void 0;l<a&&(u=ht(l),!G(c=l+u))&&Ut(c)&&(u&&(s=s.concat(_t())),s.push(zt()),!S(c)););return h(e,s,n,r)}function Ut(e){var t=void 0;return(t=be(e))?o[e].value_child=1:(t=Bt(e))?o[e].value_child=2:(t=Wt(e))?o[e].value_child=3:(t=S(e))?o[e].value_child=4:(t=w(e))?o[e].value_child=5:(t=Ie(e))?o[e].value_child=6:(t=ge(e))?o[e].value_child=7:(t=ce(e))?o[e].value_child=8:(t=Q(e))?o[e].value_child=9:(t=Xe(e))?o[e].value_child=10:(t=_(e))?o[e].value_child=11:(t=Ue(e))&&(o[e].value_child=12),t}function zt(){var e=o[l].value_child;return 1===e?we():2===e?$t():3===e?Gt():4===e?C():5===e?T():6===e?Le():7===e?me():8===e?ue():9===e?X():10===e?Ye():11===e?g():12===e?ze():void 0}function Bt(e){var t,n=e;return e>=s||o[e].type!==a.DollarSign?0:(t=de(++e))?(e+=t)-n:0}function $t(){var e=i.VariableType,t=o[l],n=t.ln,r=t.col;return l++,h(e,[pe()],n,r)}function Ht(e){var t,n=0;if(e>=s)return 0;if(!(t=Bt(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)n++,e++;return 3===n?t+n:0}function Vt(){var e=i.VariablesListType,t=o[l],n=t.ln,r=t.col,a=[$t()],s=f(a,n,r,3);return l+=3,h(e,a,n,r,s)}function Wt(e){var t,n=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-n:0}function Gt(){var e,t=i.VhashType,n=o[l],r=n.ln,c=n.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,r,c,f(u,r,c+1))}function Kt(e){if(e>=s)return 0;var t,n=e,r=0,i=0;if(!(t=Xt(e)))return 0;for(e+=t,r++;e<s;){var a=e,l=e,c=void 0,u=ht(l);if(!(c=Y(l+u)))break;i++,(c=ht(l+=u+c))&&(l+=c),(c=Xt(l))&&(l+=c,r++),e+=l-a}return o[n].selectorsGroupEnd=e,o[n].selectorsGroupSelectorCount=r,o[n].selectorsGroupDelimCount=i,e-n}function Qt(){var e=[],t=0,n=0,r=o[l].selectorsGroupEnd,i=o[l].selectorsGroupSelectorCount,a=o[l].selectorsGroupDelimCount;for(e.push(Yt()),t++;l<r;)n<a&&(n++,e=(e=(e=e.concat(_t())).concat(J())).concat(_t()),t<i&&(e=e.concat(Yt()),t++));return e}function Xt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=Jt(e)))return 0;for(e+=n;e<s;){var r=ht(e),i=D(e+r);if(!r&&!i)break;if(i&&(r=ht(e+=r+i)),!(n=Jt(e+r)))break;e+=r+n}return o[t].selectorEnd=e,e-t}(e))?o[e].selectorType=1:(t=function(e){if(e>=s)return 0;var t=e,n=void 0;if(!(n=D(e)))return 0;for(e+=n;e<s;){var r=ht(e);if(!(n=Jt(e+r)))break;var i=ht(e+=r+n),a=D(e+i);if(!i&&!a)break;a&&(e+=i+a)}return o[t].selectorEnd=e,e-t}(e))&&(o[e].selectorType=2),t}function Yt(){return 1===o[l].selectorType?function(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=Zt();l<a;)ht(l)?s=s.concat(_t()):D(l)?s.push(j()):Jt(l)&&(s=s.concat(Zt()));return h(e,s,n,r)}():function(){for(var e=i.SelectorType,t=o[l],n=t.ln,r=t.col,a=t.selectorEnd,s=[j()];l<a;)ht(l)?s=s.concat(_t()):D(l)?s.push(j()):Jt(l)&&(s=s.concat(Zt()));return h(e,s,n,r)}()}function Jt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,n=e;if(!(t=en(e)||nn(e)||Ke(e)||$e(e)))return 0;for(e+=t;e<s;){var r=gt(e)||E(e)||an(e)||it(e)||Ke(e)||be(e);if(!r)break;e+=r}return o[n].compoundSelectorEnd=e,e-n}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var n=gt(e)||E(e)||an(e)||it(e)||Ke(e)||be(e);if(!n)break;e+=n}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function Zt(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t=[],n=o[l].compoundSelectorEnd;for(en(l)?t.push(tn()):nn(l)?t.push(rn()):Ke(l)?t.push(Qe()):$e(l)&&(t=t.concat((e=[ze()],Be(l)&&e.push(function(){for(var e=i.ParentSelectorExtensionType,t=o[l],n=t.ln,r=t.col,a=[];l<s;)if(he(l))a=a.concat(_e());else{if(!fe(l))break;a.push(pe())}return h(e,a,n,r)}()),e)));l<n;)if(gt(l))t.push(mt());else if(E(l))t.push(P());else if(an(l))t.push(on());else if(it(l))t.push(at());else if(Ke(l))t.push(Qe());else{if(!be(l))break;t.push(we())}return t}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)if(gt(l))e.push(mt());else if(E(l))e.push(P());else if(an(l))e.push(on());else if(it(l))e.push(at());else if(Ke(l))e.push(Qe());else{if(!be(l))break;e.push(we())}return e}():void 0}function en(e){if(e>=s)return 0;var t,n=e;return(t=un(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-n}function tn(){var e=i.UniversalSelectorType,t=o[l],n=t.ln,r=t.col,a=[],s=void 0;return un(l)&&(a.push(dn()),s=f(a,n,r,1)),l++,h(e,a,n,r,s)}function nn(e){if(e>=s)return 0;var t=e,n=void 0;return(n=un(e))&&(e+=n),(n=he(e))?(e+=n)-t:0}function rn(){var e=i.TypeSelectorType,t=o[l],n=t.ln,r=t.col,a=[];return un(l)&&a.push(dn()),h(e,a=a.concat(_e()),n,r)}function an(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=ht(++e))&&(e+=n),(n=sn(e))?((n=ht(e+=n))&&(e+=n),(n=function(e){var t=void 0;return(t=function(e){var t=e,n=o[e].type;return n!==a.Tilde&&n!==a.VerticalLine&&n!==a.CircumflexAccent&&n!==a.DollarSign&&n!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((n=ht(e+=n))&&(e+=n),(n=function(e){return vt(e)||he(e)}(e))?((n=ht(e+=n))&&(e+=n),(n=cn(e))&&(n=ht(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var n=void 0;return(n=ht(++e))&&(e+=n),(n=sn(e))?((n=ht(e+=n))&&(e+=n),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function on(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,n=(t=o[l]).ln,r=t.col,l++,a=(a=[]).concat(_t(),ln(),_t(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,n,r)}():function(){var e=i.AttributeMatchType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"=",n,r)}(),_t(),function(){var e=i.AttributeValueType,t=o[l],n=t.ln,r=t.col,a=[];return vt(l)?a.push(yt()):a=a.concat(_e()),h(e,a,n,r)}(),_t()),cn(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],n=t.ln,r=t.col;return h(e,_e(),n,r)}()),a=a.concat(_t())),l++,h(e,a,n,r,f(a,n,r,1))):function(){var e=i.AttributeSelectorType,t=o[l],n=t.ln,r=t.col,a=[];return l++,a=a.concat(_t(),ln(),_t()),l++,h(e,a,n,r,f(a,n,r,1))}();var e,t,n,r,a}function sn(e){var t=e,n=void 0;return(n=un(e))&&(e+=n),(n=he(e))?(e+=n)-t:0}function ln(){var e=i.AttributeNameType,t=o[l],n=t.ln,r=t.col,a=[];return un(l)&&a.push(dn()),h(e,a=a.concat(_e()),n,r)}function cn(e){return he(e)}function un(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,n=void 0;return(n=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=he(e))?t:0}(e))?((n=I(e+=n))&&(e+=n),(n=pn(e))?(e+=n)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return pn(e)}(e))&&(o[e].namePrefixType=2),t}function dn(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,n=(t=o[l]).ln,r=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],n=t.ln,r=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",n,r);s.push(c),l++}else he(l)&&(s=s.concat(_e()));return h(e,s,n,r)}()),I(l)&&s.push(L()),s.push(fn()),h(e,s,n,r)):function(){var e=i.NamePrefixType,t=o[l],n=t.ln,r=t.col;return h(e,[fn()],n,r)}();var e,t,n,r,s}function pn(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function fn(){var e=i.NamespaceSeparatorType,t=o[l],n=t.ln,r=t.col;return l++,h(e,"|",n,r)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(13),i=[],a=!1,o=void 0,s=void 0,l=0,c=0,u=1,d=1,p={" ":r.Space,"\n":r.Newline,"\r":r.Newline,"\t":r.Tab,"!":r.ExclamationMark,'"':r.QuotationMark,"#":r.NumberSign,$:r.DollarSign,"%":r.PercentSign,"&":r.Ampersand,"'":r.Apostrophe,"(":r.LeftParenthesis,")":r.RightParenthesis,"*":r.Asterisk,"+":r.PlusSign,",":r.Comma,"-":r.HyphenMinus,".":r.FullStop,"/":r.Solidus,":":r.Colon,";":r.Semicolon,"<":r.LessThanSign,"=":r.EqualsSign,"==":r.EqualitySign,"!=":r.InequalitySign,">":r.GreaterThanSign,"?":r.QuestionMark,"@":r.CommercialAt,"[":r.LeftSquareBracket,"]":r.RightSquareBracket,"^":r.CircumflexAccent,_:r.LowLine,"{":r.LeftCurlyBracket,"|":r.VerticalLine,"}":r.RightCurlyBracket,"~":r.Tilde,"`":r.Backtick};function f(e,t,n){i.push({tn:c++,ln:u,col:n,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=l;l<e.length&&" "===e.charAt(l);l++);f(r.Space,e.substring(t,l--),d),d+=l-t}function g(e,t){var n=l;for(l++;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)===t)break;f('"'===t?r.StringDQ:r.StringSQ,e.substring(n,l+1),d),d+=l-n}function m(e){for(var t=l;l<e.length&&h(e.charAt(l));l++);f(r.DecimalNumber,e.substring(t,l--),d),d+=l-t}function v(e){for(var t=l;"/"===e.charAt(l);)l++;for(;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)in p)break;var n=e.substring(t,l--);a||"url"!==n||"("!==e.charAt(l+1)||(a=!0),f(r.Identifier,n,d),d+=l-t}function y(e){var t=l;for(l+=2;l<e.length;l++)if("*"===e.charAt(l)&&"/"===e.charAt(l+1)){l++;break}var n=e.substring(t,l+1);f(r.CommentML,n,d);var i=n.split("\n");i.length>1?(u+=i.length-1,d=i[i.length-1].length):d+=l-t}function b(e){var t=l;for(l+=2;l<e.length&&"\n"!==e.charAt(l)&&"\r"!==e.charAt(l);l++);f(r.CommentSL,e.substring(t,l--),d),d+=l-t}return function(e){for(l=0;l<e.length;d++,l++)o=e.charAt(l),s=e.charAt(l+1),"/"===o&&"*"===s?y(e):a||"/"!==o||"/"!==s?'"'===o||"'"===o?g(e,o):" "===o?_(e):"="===o&&"="===s?(f(r.EqualitySign,"==",d),l++,d++):"!"===o&&"="===s?(f(r.InequalitySign,"!=",d),l++,d++):o in p?("\r"===o&&"\n"===s||"\n"===o?("\r"===o?(f(r.Newline,"\r\n",d),l++):"\n"===o&&f(p[o],o,d),u++,d=0):"\r"!==o&&"\n"!==o&&f(p[o],o,d),")"===o?a=!1:"\t"===o&&t>1&&(d+=t-1)):h(o)?m(e):v(e):b(e);return i}(e)}},function(e,t,n){"use strict";var r=n(1),i=n(15);e.exports=function(){return new r({type:i.StylesheetType,content:[],start:[0,0],end:[0,0]})}}])},"object"==typeof n&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.gonzales=r():this.gonzales=r()},{}]},{},[1]),function(){var e,t,n=this;if(this._allready=!1,this.supported=!1,void 0!==document.getElementById&&void 0!==document.styleSheets&&void 0!==document.nodeType){this.supported=!0;var r,i=!1,a="Network Failure or Security Violation",o="Security Violation",s="Unspecified Error",l="Data is not CSS",c="unknown",u="OK",d="Discarded Duplicate",p="Stylesheet is disabled",f="Unsupported node type",h="CSSUtilities (Fatal Error):",_=h+" The specified mode is not valid",g=h+" The specified async setting is not valid",m=h+" The specified document is not a Document",v=h+" The specified base is not an absolute URL",y=h+" The specified watch setting is not valid",b=h+" The specified attributes setting is not valid",w=h+" The specified api settings are not valid",T=h+" Your Selectors API is not returning the right data",x=h+" The Selectors API is missing",k=h+" Unable to communicate with the network",S=h+' You cannot define "%var" after "api", it must be defined first',C="all",M="screen",A="none",O={azimuth:"2","border-collapse":"2","border-spacing":"2","caption-side":"2",color:"2",cursor:"2",direction:"2",elevation:"2","empty-cells":"2",fit:"3","fit-position":"3",font:"2","font-family":"2","font-size":"2","font-size-adjust":"2","font-stretch":"2","font-style":"2","font-variant":"2","font-weight":"2","hanging-punctuation":"3","hyphenate-after":"3","hyphenate-before":"3","hyphenate-character":"3","hyphenate-lines":"3","hyphenate-resource":"3",hyphens:"3","image-resolution":"3","letter-spacing":"2","line-height":"2","line-stacking":"3","line-stacking-ruby":"3","line-stacking-shift":"3","line-stacking-strategy":"3","list-style":"2","list-style-image":"2","list-style-position":"2","list-style-type":"2","marquee-direction":"3",orphans:"2","overflow-style":"3",page:"2","page-break-inside":"2",pitch:"2","pitch-range":"2","presentation-level":"3","punctuation-trim":"3",quotes:"2",richness:"2","ruby-align":"3","ruby-overhang":"3","ruby-position":"3",speak:"2","speak-header":"2","speak-numeral":"2","speak-punctuation":"2","speech-rate":"2",stress:"2","text-align":"2","text-align-last":"3","text-emphasis":"3","text-height":"3","text-indent":"2","text-justify":"3","text-outline":"3","text-replace":"?","text-shadow":"3","text-transform":"2","text-wrap":"3",visibility:"2","voice-balance":"3","voice-family":"2","voice-rate":"3","voice-pitch":"3","voice-pitch-range":"3","voice-stress":"3","voice-volume":"3",volume:"2","white-space":"2","white-space-collapse":"3",widows:"2","word-break":"3","word-spacing":"2","word-wrap":"3","-moz-force-broken-image-icon":"m","-moz-image-region":"m","-moz-stack-sizing":"m","-moz-user-input":"m","-x-system-font":"m","-xv-voice-balance":"o","-xv-voice-pitch":"o","-xv-voice-pitch-range":"o","-xv-voice-rate":"o","-xv-voice-stress":"o","-xv-voice-volume":"o","-ms-text-align-last":"e","-ms-text-justify":"e","-ms-word-break":"e","-ms-word-wrap":"e"},E={margin:["margin-top","margin-right","margin-bottom","margin-left"],padding:["padding-top","padding-right","padding-bottom","padding-left"],outline:["outline-width","outline-style","outline-color"],border:["border-width","border-style","border-color","border-top","border-right","border-bottom","border-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-color","border-right-color","border-bottom-color","border-left-color"],"border-width":["border-top-width","border-right-width","border-bottom-width","border-left-width"],"border-style":["border-top-style","border-right-style","border-bottom-style","border-left-style"],"border-color":["border-top-color","border-right-color","border-bottom-color","border-left-color"],"border-top":["border-top-width","border-top-style","border-top-color"],"border-right":["border-right-width","border-right-style","border-right-color"],"border-bottom":["border-bottom-width","border-bottom-style","border-bottom-color"],"border-left":["border-left-width","border-left-style","border-left-color"],"list-style":["list-style-type","list-style-image","list-style-position"],font:["font-weight","font-style","font-variant","font-size","line-height","font-family"],background:["background-color","background-image","background-repeat","background-attachment","background-position","background-size","background-clip","background-origin"],"line-stacking":["line-stacking-strategy","line-stacking-ruby","line-stacking-shift"],"column-rule":["column-rule-width","column-rule-style","column-rule-color"],columns:["column-width","column-count"],pause:["pause-before","pause-after"],rest:["rest-before","rest-after"],cue:["cue-before","cue-after"],mark:["mark-before","mark-after"],transition:["transition-property","transition-duration","transition-timing-function","transition-delay"],animation:["animation-name","animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction"],target:["target-name","target-new","target-position"]},P=/[:]{1,2}(?:first\-(letter|line)|before|after|selection|value|choices|repeat\-(item|index)|outside|alternate|(line\-)?marker|slot\([_a-z0-9\-\+\.\\]*\))/i,D=/([:]{1,2}(?:first\-(letter|line)|before|after|selection|value|choices|repeat\-(item|index)|outside|alternate|(line\-)?marker|slot\([_a-z0-9\-\+\.\\]*\)))/gi,j=/([:](?:(link|visited|active|hover|focus|lang|root|empty|target|(en|dis)abled|checked|indeterminate|default|(in)?valid|required|optional)|((in|out\-of)\-range)|(read\-(only|write))|(first|last|only|nth)(\-last)?\-(child|of\-type))(?:\([_a-z0-9\-\+\.\\]*\))?)/gi,I=/(\[\s*[_a-z0-9-:\.\|\\]+\s*(?:[~\|\*\^\$]?=\s*[\"\'][^\"\']*[\"\'])?\s*\])/gi,L=/(#[a-z]+[_a-z0-9-:\\]*)/gi,R=/(\.[_a-z]+[_a-z0-9-:\\]*)/gi,N=/\!\s*important\s*$/i,F="undefined",q="object",U="string",z="function",B="boolean",$=!0,H=!1,V=null,W="browser",G="author",K="active",Q="cancelled",X="Apple Computer, Inc."==navigator.vendor,Y=X&&/version\/3/i.test(navigator.appVersion),J="KDE"==navigator.vendor,Z=/applewebkit/i.test(navigator.userAgent),ee=typeof document.uniqueID!=F,te=typeof window.opera!=F,ne=W,re=!0,ie=document,ae=H,oe=$,se=V,le=V,ce=H;this.define=function(e,n,i){switch(e){case"mode":if(typeof n!=U||!/^(author|browser)$/i.test(n))throw new Error(_);if((ne=n)==W&&ae===V)throw new Error(y);break;case"async":if(typeof n!=B)throw new Error(g);re=n;break;case"mtvars":this.setup_mt_vars();break;case"page":if(ce==$)throw new Error(S.replace("%var","page"));if(typeof n.nodeType==F||9!=n.nodeType)throw new Error(m);ie=n,t.cssUtilitiesPage=ie;break;case"base":if(ce==$)throw new Error(S.replace("%var","base"));if(typeof n!=U||!/^(((ht|f)tp[s]?)\:)/i.test(n))throw new Error(v);r=n;break;case"attributes":if(typeof n!=B)throw new Error(b);oe=n;break;case"watch":if(typeof n!=B&&(ne!=G||n!=V))throw new Error(y);ae=n;break;case"api":if(typeof n!=B)throw new Error(w);if(typeof i!=F&&typeof i!=z)throw new Error(w);if(se=n==H?typeof ie.querySelectorAll==F:$,ce=$,typeof i==z){var a=i("*",ie);if(typeof a!=q||a==V||typeof a.length==F)throw new Error(T);le=i}}},this.setup_mt_vars=function(){e=TvrMT.MTF,t=TvrMT.TvrUi,TvrMT.TvrCom},this.init=function(e){i!==$&&(i=$,this._allready=H,se=typeof ie.querySelectorAll!=F&&se!==$?H:$,r==V&&(r=ie.location.href),this._isXML=te&&ie.documentElement.namespaceURI!=V||!te&&typeof ie.xmlVersion!=F&&ie.xmlVersion!=V,this._viewmedia=M,this._cssRules=V,delete this._cssRules,this._stylesheets=V,delete this._stylesheets,n._cssRules=[],n._stylesheets=[],n.ssidcounter=0,ne==G?function(e){n._cssdata=[],ee&&Ae("style").length>0?function(e){ze(re,r,(function(t){var n=Ae("style"),r=t.split(/<([^:]+:)?style[^>]*>/i);r.splice(0,1);for(var i=0;i<r.length;i++)n[i].__css=r[i].split(/<\/([^:]+:)?style>/i)[0];delete r,e()}),(function(){e()}))}(t):t();function t(){for(var t=function(){for(var e=[],t=ie.childNodes,n=0;n<t.length;n++)7==t[n].nodeType&&"xml-stylesheet"==t[n].target.toLowerCase()&&e.push(t[n]);var r=Ae("*");for(n=0;n<r.length;n++)(/link/i.test(r[n].nodeName)&&/stylesheet/i.test(r[n].getAttribute("rel"))||/style/i.test(r[n].nodeName))&&e.push(r[n]);return e}(),i=0;i<t.length;i++)de(t[i],7==t[i].nodeType?t[i].target.toLowerCase():t[i].nodeName.toLowerCase());function a(e){o(n._cssdata[e],(function(t){n._cssdata[e]=t,e+1<n._cssdata.length?a(e+1):s()}))}function o(e,t){e.href==V?t(e):pe(e.href,(function(n){n.message!=V?(e.message=n.message,e.stylenode=V,e.stylesheet=V,(e.message==l||/^[1-9]{1,3}/.test(e.message))&&(e.media=A)):e.text=fe(n.text,H),t(e)}))}function s(){function e(t){function i(r){t+1<n._cssdata.length?e(t+r):p()}if(n._cssdata[t].tested==$)i(1);else{var a=function(e){var t=[],n=/@import\s*(?:url\s*\(\s*[\'\"]?|[\'\"])([^\'\"\)]+)(?:[\'\"]|[\'\"]?\s*\))([^;]*)(;|$)/gi,i=e.match(n);if(i)for(var a=0;a<i.length;a++){var o=Ue(i[a].replace(n,"$1"),r),s=Le(Le(i[a].replace(n,"$2")).replace(/^\)/,"")),l=$;s||(l=H,s=C),t.push({href:o,media:s,hasownmedia:l})}return t}(n._cssdata[t].text);if(n._cssdata[t].tested=$,n._cssdata[t].ssid=n.ssidcounter++,a.length>0){function o(e){c(t,e,a[e],(function(e,r,s){try{if(n._cssdata[r+s].stylesheet){var l=0;if(sheetrules=n._cssdata[r+s].stylesheet.cssRules)for(var c=0;c<sheetrules.length;c++)if(3==sheetrules.item(c).type){if(s>0&&l++<s)continue;e.stylesheet=sheetrules.item(c).styleSheet;break}}}catch(e){n._cssdata[r+s].stylesheet=V}n._cssdata.splice(t+s,0,e),s+1<a.length?o(s+1):i(0)}))}o(0)}else i(1)}}e(0)}function c(e,t,r,i){var a={tested:H,owner:"@import",media:C,stylenode:n._cssdata[e].stylenode,href:r.href,text:""};try{a.stylesheet=n._cssdata[e].stylesheet}catch(e){a.stylesheet=V}a.media=r.media;for(var o=e,s=n._cssdata[o];s.href==a.href;)s=n._cssdata[o--];function c(n){n.message!=V?(a.message=n.message,a.stylenode=V,a.stylesheet=V,(a.message==l||/^[1-9]{1,3}.*$/.test(a.message))&&(a.media=A)):a.text=fe(n.text,H),i(a,e,t)}context=s.media,a.xmedia=r.hasownmedia?r.media:C,a.media=ke(context,a.media),Re(n._cssdata,r.href,"href")!=V?c({text:"",message:d}):pe(r.href,c)}function p(){for(var t=0;t<n._cssdata.length;t++){if(n._cssdata[t].href){var r=Re(n._stylesheets,n._cssdata[t].href,"href");if(r!=V&&r.message!=d){n._stylesheets.push({ssid:n._cssdata[t].ssid,href:n._cssdata[t].href,owner:n._cssdata[t].owner,media:n._cssdata[t].media,xmedia:n._cssdata[t].xmedia,stylenode:V,stylesheet:V,rules:0,message:d}),n._cssdata[t].stylenode&&(n._cssdata[t].stylenode.disabled=$);continue}}if(typeof n._cssdata[t].message==F){var i=he(n._cssdata[t]);a={ssid:n._cssdata[t].ssid,href:n._cssdata[t].href,owner:n._cssdata[t].owner,media:n._cssdata[t].media,xmedia:n._cssdata[t].xmedia,stylenode:n._cssdata[t].stylenode,rules:i,message:u};try{a.stylesheet=n._cssdata[t].stylesheet}catch(e){a.stylesheet=V}n._stylesheets.push(a)}else{var a={ssid:n._cssdata[t].ssid,href:n._cssdata[t].href,owner:n._cssdata[t].owner,media:n._cssdata[t].media,xmedia:n._cssdata[t].xmedia,stylenode:n._cssdata[t].stylenode,rules:0,message:n._cssdata[t].message};try{a.stylesheet=n._cssdata[t].stylesheet}catch(e){a.stylesheet=V}n._stylesheets.push(a)}}n._cssdata=V,delete n._cssdata,n._stylesheets.sort((function(e,t){return e.ssid-t.ssid})),n.ssidcounter=V,delete n.ssidcounter,ae===$&&Ce(),typeof e==z&&e()}0==n._cssdata.length?p():a(0)}}(a):function(e){var i=Ne(ie.styleSheets);i=t.filter_excluded_stylesheets(i);for(var a=0;a<i.length;a++)if(i[a].__ssid=n.ssidcounter++,typeof i[a].ownerNode!=F)if(Y&&/xml\-stylesheet/.test(i[a].ownerNode.nodeName))n._stylesheets.push({ssid:i[a].__ssid,href:Ue(i[a].href,r),owner:"xml-stylesheet",media:c,stylesheet:V,rules:0,message:f}),i.splice(a,1),a--;else try{_e(i[a],i[a].ownerNode.nodeName.toLowerCase(),i[a].media.length>0?Le(i[a].media.mediaText):C)}catch(e){n._stylesheets.push({ssid:i[a].__ssid,href:c,owner:c,media:c,stylesheet:V,rules:0,message:s}),i.splice(a,1),a--}else typeof i[a].owningElement!=F&&me(i[a],i[a].owningElement.nodeName.toLowerCase(),""!=Le(i[a].media)?Le(i[a].media):C);n._stylesheets.sort((function(e,t){return e.ssid-t.ssid})),n.ssidcounter=V,delete n.ssidcounter,ae==$&&Ce();typeof e==z&&e()}(a));function a(){i=H,CSSUtilities._allready=$,typeof e==z?(CSSUtilities.initcallback=e,CSSUtilities.initcallback()):(CSSUtilities.initcallback=V,delete CSSUtilities.initcallback)}},this.getElementsBySelector=function(e){return Me(e)},this.getCSSStyleSheets=function(){var e=Ee(arguments,[]);return e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){return n._stylesheets}))},this.getCSSRules=function(){var e=Ee(arguments,["element","media","accept","altstates"]);return e.element=Pe(e.element,"getCSSRules"),e.media=De(e.media),e.accept=je(e.accept),e.altstates==V&&(e.altstates=H),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){return ve(e.element,e.media,e.accept,e.altstates)}))},this.getCSSStyleSheetRules=function(){var e=Ee(arguments,["media","accept","ssid"]);if(e.media=De(e.media),e.accept=je(e.accept),typeof e.accept.properties!=F&&typeof e.accept.css==F){e.accept.css="";var t=$}if(e.ssid===V&&(e.ssid=-1),e.onfinished=Ie(e.onfinished),Oe(),-1!==e.ssid&&Re(this._stylesheets,e.ssid,"ssid")==V)throw new Error("CSSUtilities.%method has an invalid Stylesheet ID".replace("%method","getCSSStyleSheetRules"));return ue(e.onfinished,(function(){for(var r=[],i=0;i<n._cssRules.length;i++){var a={};if(Se(e.media,n._cssRules[i])){if(-1!==e.ssid&&n._cssRules[i].ssid!==e.ssid)continue;for(var o in n._cssRules[i])n._cssRules[i].hasOwnProperty(o)&&("*"!=e.accept&&typeof e.accept[o]==F||(a[o]=n._cssRules[i][o]));"*"!=e.accept&&typeof e.accept.index==F||(a.index=i),r.push(a)}}if(typeof e.accept.properties==F&&"*"!==e.accept||(r=ye(r,H)),typeof t!=F)for(i=0;i<r.length;i++)r[i].css=V,delete r[i].css;return r}))},this.getCSSProperties=function(){var e=Ee(arguments,["element","media"]);return e.element=Pe(e.element,"getCSSProperties"),e.media=De(e.media),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){var t={},n=ve(e.element,e.media,"properties",H);if(0==n.length)return V;for(var r=0;r<n.length;r++)for(var i in n[r].properties)n[r].properties.hasOwnProperty(i)&&n[r].properties[i].status==K&&(t[i]=n[r].properties[i].value);return t}))},this.getCSSSelectors=function(){var e=Ee(arguments,["element","media","directonly"]);return e.element=Pe(e.element,"getCSSSelectors"),e.media=De(e.media),e.directonly==V&&(e.directonly=$),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){for(var t=[],n=ve(e.element,e.media,"selector",$),r=0;r<n.length;r++)for(var i=Te(n[r].selector),a=0;a<i.length;a++)Re(t,i[a])==V&&t.push(i[a]);if(e.directonly==H){for(var o=e.element,s=[o];o.parentNode;)s.push(o.parentNode),o=o.parentNode;for(r=0;r<t.length;r++){var l=H;for(a=0;a<s.length;a++){if((u=Me(t[r].replace(j,""))).length>0)for(var c=0;c<u.length;c++)if(u[c]==s[a]){l=$;break}if(l==$)break}l==H&&(t.splice(r,1),r--)}return t}for(i=[],r=0;r<t.length;r++){var u;if((u=Me(t[r].replace(j,""))).length>0)for(a=0;a<u.length;a++)if(u[a]==e.element){i.push(t[r]);break}}return i}))},this.getCSSSelectorSpecificity=function(){var e=Ee(arguments,["selector","element"]);if(typeof e.selector!=U||e.selector==V||""==Le(e.selector))throw new Error("CSSUtilities.%method requires a valid Selector reference".replace("%method","getCSSSelectorSpecificity"));if(-1!=e.selector.indexOf(","))throw new Error("CSSUtilities.%method can only process one Selector at a time".replace("%method","getCSSSelectorSpecificity"));return e.element!=V&&(e.element=Pe(e.element,"getCSSSelectorSpecificity")),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){if(e.selector=Le(e.selector),e.element!=V){var t=H,n=e.selector.replace(j,""),r=Me(n);if(r.length>0)for(var i=0;i<r.length;i++)if(r[i]==e.element){t=$;break}if(""==n&&e.selector.match(j)&&(t=$),t==H){for(var a=e.element,o=[a];a.parentNode;)o.push(a),a=a.parentNode;for(var s=0;s<o.length;s++){if(r.length>0)for(i=0;i<r.length;i++)if(r[i]==o[s]){t=$;break}if(t==$)break}return t==$?[0,0,0,0]:V}}return function(e){var t=[0,0,0,0];if(""===e)return t[0]+=1,t;var n=e.replace(I,"");(r=n.match(L))&&(t[1]+=r.length);(r=n.match(R))&&(t[2]+=r.length);(r=e.match(I))&&(t[2]+=r.length);(r=n.match(j))&&(t[2]+=r.length);var r,i=n.replace(j,"").replace(D,"").replace(/(:not)/gi,"").replace(/(^|\()([_a-z0-9-\.\\]+\|)/gi,"$1").replace(L,"").replace(R,"");(r=i.match(/([_a-z0-9-:\\]+)/gi))&&(t[3]+=r.length);(r=n.match(D))&&(t[3]+=r.length);return t}(e.selector)}))}}function ue(e,t){if(n._allready===$||e!=V){if(e==V)return t();if(n._allready===$)e(t());else var r=window.setInterval((function(){n._allready===$&&(window.clearInterval(r),e(t()))}),200)}}function de(e,t){var i={tested:H,owner:t,media:C,stylenode:e,stylesheet:e.styleSheet||e.sheet,href:V,text:""};if(/xml\-stylesheet/.test(t))for(var a={},o=e.data.match(/([a-z]+=[\'\"][^\'\"]*[\'\"])/gm),s=0;s<o.length;s++)o[s]=o[s].split("="),a[o[s][0]]=o[s][1].substr(1,o[s][1].length-2);if((X||J||Z)&&!/xml\-stylesheet/.test(t))var l=e.disabled;else{var c=e[typeof e.styleSheet!=F?"styleSheet":"sheet"];l=c==V?$:c.disabled}if(te&&l&&e.sheet.media.length>0){var u=e.sheet.media.mediaText;e.sheet.media.mediaText=n._viewmedia,l=e.sheet.disabled,e.sheet.media.mediaText=u}if(ae!==V&&l&&(i.message=p),/xml\-stylesheet/.test(t))i.href=Ue(a.href,r);else if(/link/i.test(t))i.href=Ue(e.getAttribute("href",2),r);else if(!l||ae===V)if(ee)typeof e.__css==F?i.message="Network Failure":i.text+=fe(e.__css,H);else{o="";var d=e.childNodes;for(s=0;s<d.length;s++)switch(d[s].nodeType){case 3:o+=d[s].nodeValue;break;case 4:o+="<![CDATA["+d[s].nodeValue+"]]>";break;case 8:o+="\x3c!--"+d[s].nodeValue+"--\x3e"}i.text+=fe(o,H)}/xml\-stylesheet/.test(t)?i.media=typeof a.media!=F?a.media:C:i.media=e.getAttribute("media")?e.getAttribute("media"):C,i.media=i.media.split(/,\s*/).join(", "),i.xmedia=i.media,n._cssdata.push(i)}function pe(e,t){var n={text:"",message:V};ze(re,e,(function(e,r){if(typeof r!=U||""==Le(r)||/^(text\/css)/.test(r))n.text=e;else{if(/^(text\/html)/.test(r)){var i=e.match(/<title>([1-9]{1,3}[^<]+)<\/title>/i);i&&i.length>=2&&(n.message=i[1])}n.message==V&&(n.message=l)}t(n)}),(function(e){n.message=e,t(n)}))}function fe(e,t){if(e=e.replace(/(\/\*([^*]|(\*+([^*\/])))*\*+\/)/gm,""),n._isXML||(e=e.replace(/(<\!\[CDATA\[([^\]]|(\]+([^>])))*\]+>)/gm,"")),n._isXML&&!(X||J||Z)&&(e=e.replace(/(<\!\-\-([^\-]|(\-+([^>])))*\-+>)/gm,"")),e=(e=(e=e.replace(/[\t]+/g," ").replace(/[ ][ ]/g," ")).replace(/[\r\n]/g,"")).replace(/@(charset|namespace)[^;]+;/gim,""),typeof t!=F&&t==$)e=e.replace(/@import[^;]+;/gim,"");else if(/@import[^;]+;/i.test(e))for(var r=e.replace(/(@import[^;]+;)/gim,"{SPLIT}$1{SPLIT}").split("{SPLIT}"),i=(e="",V),a=0;a<r.length;a++)""!=Le(r[a])&&(/@import[^;]+;/i.test(r[a])?(i===V&&(i=H),i===H&&(e+=r[a])):(i=$,e+=r[a]));return Le(e=(e=e.replace(/@(font\-face|page)[^\}]+\}/gim,"")).replace(/(<\!\-\-)|(\-\->)|(<\!\[CDATA\[)|(\]\]>)/gm,""))}function he(e){var t=e.text.match(/(content:[^;]+;)/gim);if(t)for(var r=0;r<t.length;r++)e.text=e.text.replace(t[r],"[G"+r+"]");e.text=Le(fe(e.text,$)).split("}");for(var i=0;i<e.text.length;i++){e.text[i]=Le(e.text[i]).split("{");for(var a=0;a<e.text[i].length;a++)e.text[i][a]=Le(e.text[i][a])}if(t)for(r=0;r<t.length;r++)for(i=0;i<e.text.length;i++)for(a=0;a<e.text[i].length;a++)e.text[i][a]=e.text[i][a].replace("[G"+r+"]",t[r]);var o=0,s=e.media,l=e.xmedia,c=e.owner;for(i=0;i<e.text.length;i++)if(2==e.text[i].length)n._cssRules.push({selector:e.text[i][0],css:e.text[i][1],media:s,xmedia:l,owner:c.toLowerCase(),href:e.href,ssid:e.ssid}),o++;else if(3==e.text[i].length){c="@media",l=s=Le(e.text[i][0].replace("@media","")).toLowerCase();var u=e.media;""==u&&(u=C),s=ke(u,s),n._cssRules.push({selector:e.text[i][1],css:e.text[i][2],media:s,xmedia:l,owner:c,href:e.href,ssid:e.ssid}),o++}else 1==e.text[i].length&&(s=e.media,l=e.xmedia,c=e.owner);return o}function _e(e,t,i){if(e.href&&e.href!=r){var a=Ue(e.href,r);if(Re(n._stylesheets,a,"href")!=V)return n._stylesheets.push({ssid:e.__ssid,href:a,owner:t,media:i,stylesheet:V,rules:0,message:d}),void(e.disabled=$)}try{var s=e.disabled;if(te&&s&&e.media.length>0){var l=e.media.mediaText;e.media.mediaText=n._viewmedia,s=e.disabled,e.media.mediaText=l}if(s)f=0,m=p;else{for(var c=e.cssRules,f=0,h=0;h<c.length;h++)if(1==c.item(h).type)f++;else if(4==c.item(h).type)for(var _=c.item(h).cssRules,g=0;g<_.length;g++)1==_.item(g).type&&f++;var m=u}n._stylesheets.push({ssid:e.__ssid,href:e.href&&e.href!=r?Ue(e.href,r):V,owner:t,media:i,stylesheet:e,rules:f,message:m}),s||ge(e,e.cssRules,t,i)}catch(a){n._stylesheets.push({ssid:e.__ssid,href:e.href&&e.href!=r?Ue(e.href,r):V,owner:t,media:i,stylesheet:V,rules:0,message:o})}}function ge(e,t,i,a){for(l=0;l<t.length;l++)if(3==(c=t.item(l)).type){if(""==(a=c.media.mediaText))try{a=c.parentStyleSheet.media.mediaText}catch(e){a=c.parentStyleSheet.ownerRule.media.mediaText}""==a&&(a=C),a=a.toLowerCase();for(var o=c.parentStyleSheet;o;){try{var s=o.media.mediaText}catch(e){s=o.ownerRule.media.mediaText}""==s&&(s=C),a=ke(s,a),o=(X||J||Z)&&!o.parentStyleSheet&&o.ownerRule?o.ownerRule.parentStyleSheet:o.parentStyleSheet}c.styleSheet.__ssid=n.ssidcounter++,_e(c.styleSheet,"@import",a)}for(var l=0;l<t.length;l++){var c=t.item(l);if(1==c.type){/^(xml\-stylesheet|link|(([a-z]+:)?style))$/i.test(i)&&(""==(a=c.parentStyleSheet.media.mediaText)&&(a=C),a=a.toLowerCase());var u=c.style.cssText.replace(/[\r\n]/g," ");u=u.split(";");for(var d=0;d<u.length;d++){for(u[d]=u[d].split(":");u[d].length>2;)u[d][1]+=":"+u[d].pop();1!=u[d].length?("important"!=c.style.getPropertyPriority(Le(u[d][0]))||N.test(u[d][1])||(u[d][1]+=" !important"),u[d]=u[d].join(":")):(u.splice(d,1),d--)}u=u.join(";"),n._cssRules.push({selector:c.selectorText,css:u,media:a,owner:i,href:e.href==V?V:Ue(e.href,r),ssid:e.__ssid,idAttr:e.ownerNode.id})}}for(l=0;l<t.length;l++)if(4==(c=t.item(l)).type){""==(a=c.media.mediaText)&&(a=c.parentStyleSheet.media.mediaText),""==a&&(a=C),a=a.toLowerCase();for(o=c.parentStyleSheet;o;){try{s=o.media.mediaText}catch(e){s=o.ownerRule.media.mediaText}""==s&&(s=C),a=ke(s,a),o=(X||J||Z)&&!o.parentStyleSheet&&o.ownerRule?o.ownerRule.parentStyleSheet:o.parentStyleSheet}ge(e,c.cssRules,"@media",a)}}function me(e,t,i,a){if(e.href){var s=Ue(e.href,r);if(Re(n._stylesheets,s,"href")!=V)return n._stylesheets.push({ssid:e.__ssid,href:s,owner:t,media:i,stylesheet:V,rules:0,message:d}),void(e.disabled=$)}var l=[],c=e.disabled;if(!c)for(var f=0;f<e.imports.length;f++)if(0!=e.imports[f].rules.length){""==(i=Le(e.media))&&(i=C);var h=Ue(e.imports[f].href,r);l.push({sheet:e.imports[f],owner:"@import",media:i,href:h})}if(l.length>0)for(f=0;f<l.length;f++)l[f].sheet.__ssid=n.ssidcounter++,me(l[f].sheet,l[f].owner,l[f].media,l[f].href);try{if(c)x=p;else{var _=e.cssText,g=(_=(_=_.replace(/@(import|charset|namespace)[^;]+;/gim,"")).replace(/@(font\-face|page)[^\}]+\}/gim,"")).match(/(content\s*:\s*[\'\"].*(;|$))/gim);if(g)for(var m=0;m<g.length;m++)_=_.replace(g[m],"[G"+m+"]");_=Le(_).split("}");for(f=0;f<_.length;f++){_[f]=Le(_[f]).split("{");for(var v=0;v<_[f].length;v++)_[f][v]=Le(_[f][v])}if(g)for(m=0;m<g.length;m++)for(f=0;f<_.length;f++)for(v=0;v<_[f].length;v++)_[f][v]=_[f][v].replace("[G"+m+"]",g[m]);typeof a==F&&(a=e.href==V||""==e.href?V:Ue(e.href,r));var y=[],b=e.media;""==b&&(b=C);var w=t;for(f=0;f<_.length;f++)if(2==_[f].length)y.push({selector:_[f][0],css:_[f][1],media:b,owner:w,href:a,ssid:e.__ssid});else if(3==_[f].length){b=Le(_[f][0].replace("@media","")).toLowerCase(),w="@media";var T=e.media;""==T&&(T=C),b=ke(T,b),y.push({selector:_[f][1],css:_[f][2],media:b,owner:w,href:a,ssid:e.__ssid})}else 1==_[f].length&&(""==(b=e.media)&&(b=C),w=t);var x=u}if(!c)var k=function(e){for(var t=0,r=0;r<e.length;r++)""!=e[r].selector&&"UNKNOWN"!=e[r].selector&&-1==e[r].selector.indexOf(":unknown")&&(n._cssRules.push({selector:be(e[r].selector),css:we(e[r].css),media:e[r].media,owner:e[r].owner,href:e[r].href,ssid:e[r].ssid}),t++);return t}(y);n._stylesheets.push({ssid:e.__ssid,href:e.href?Ue(e.href,r):V,owner:t,media:i,stylesheet:e,rules:c?0:k,message:x})}catch(a){n._stylesheets.push({ssid:e.__ssid,href:e.href?Ue(e.href,r):V,owner:t,media:i,stylesheet:V,rules:0,message:o})}}function ve(e,t,r,i,a,o,s){if(r=je(r),typeof a!=F&&a!=V||(a=[]),typeof o!=F&&o!=V||(o=H),typeof s==F||s==V){if(s=[e],oe==$&&e.getAttribute("style")){var l=function(e){if(ee)try{var t=e.outerHTML.split(">")[0].match(/.*style\s*=\s*\"([^\"]*)\".*/im),n=t?we(t[1]):""}catch(e){n=""}else n=e.getAttribute("style");if(""==n)return V;var r={selector:"",css:n,media:C,owner:"@style",href:V,ssid:1/0};ne==G&&(r.xmedia=r.media);return r}(e);l!=V&&n._cssRules.push(l)}}else s.push(e);for(var c=0;c<n._cssRules.length;c++)if(Se(t,n._cssRules[c])){if("@style"==n._cssRules[c].owner&&e==s[0])var u=[e],d=H;else{if(i==$){d=$;for(var p=Me(n._cssRules[c].selector),f=0;f<p.length;f++)if(p[f]==e){d=H;break}}else d=H;u=Me(i==$?n._cssRules[c].selector.replace(j,""):n._cssRules[c].selector)}if(u.length>0)for(f=0;f<u.length;f++)if(u[f]==e){var h=[];if(o)for(var _=s.length-1;_>0;_--)h.push(s[_]);for(var g={idAttr:n._cssRules[c].idAttr,selector:n._cssRules[c].selector,css:n._cssRules[c].css,index:c,specificity:[0,0,0,0],inheritance:h,altstate:d},m=["media","xmedia","owner","ssid","href"],v=0;v<m.length;v++)"*"!=r&&typeof r[m[v]]==F||typeof n._cssRules[c][m[v]]!=F&&(g[m[v]]=n._cssRules[c][m[v]]);a.push(g);break}}if(e.parentNode&&1==e.parentNode.nodeType)return ve(e.parentNode,t,r,i,a,$,s);if(0==a.length)return a;for(c=0;c<a.length;c++){var y=a[c].selector.split(","),b=[];for(f=0;f<y.length;f++)if(y[f]=Le(y[f]),""===y[f])b.push([1,0,0,0]);else{var w=n.getCSSSelectorSpecificity(y[f],s[0]);null!==w&&b.push(w)}b.sort((function(e,t){return e[0]!==t[0]?t[0]-e[0]:e[1]!==t[1]?t[1]-e[1]:e[2]!==t[2]?t[2]-e[2]:t[3]-e[3]})),a[c].specificity=b[0]}if(a.sort((function(e,t){return e.specificity||(e.specificity=[0,0,0,0]),t.specificity||(t.specificity=[0,0,0,0]),e.specificity.toString()===t.specificity.toString()?e.index===t.index?t.inheritance.length-e.inheritance.length:e.index-t.index:e.specificity[0]!==t.specificity[0]?e.specificity[0]-t.specificity[0]:e.specificity[1]!==t.specificity[1]?e.specificity[1]-t.specificity[1]:e.specificity[2]!==t.specificity[2]?e.specificity[2]-t.specificity[2]:e.specificity[3]-t.specificity[3]})),"*"!==r&&typeof r.properties==F||(a=ye(a,$)),"*"!==r)for(c=0;c<a.length;c++){var T=["selector","css","index","specificity","inheritance","altstate"];for(f=0;f<T.length;f++)typeof r[T[f]]==F&&(a[c][T[f]]=V,delete a[c][T[f]])}return"@style"==n._cssRules[n._cssRules.length-1].owner&&n._cssRules.splice(n._cssRules.length-1,1),a}function ye(e,t){for(var n=0;n<e.length;n++){for(var r in e[n].properties=xe(e[n].css,{},typeof e[n].inheritance!=F&&e[n].inheritance.length>0),e[n].allproperties={},e[n].properties)e[n].allproperties[r]={value:e[n].properties[r].property,status:K};if(t)if(e[n].altstate==$)for(var i in e[n].allproperties)e[n].allproperties.hasOwnProperty(i)&&(e[n].allproperties[i].status="inactive");else for(r=0;r<n;r++)for(var a in e[r].allproperties)if(e[r].allproperties.hasOwnProperty(a)&&e[r].allproperties[a].status==K)for(var i in e[n].allproperties)if(e[n].allproperties.hasOwnProperty(i)&&e[n].allproperties[i].status==K&&a==i){e[r].allproperties[a].status=Q;break}}if(t){for(n=0;n<e.length;n++)if(!(e[n].inheritance.length>0))for(var r in e[n].allproperties)if(e[n].allproperties.hasOwnProperty(r)&&e[n].allproperties[r].status==Q&&N.test(e[n].allproperties[r].value)){for(var o=n,s=n+1;s<e.length;s++)typeof e[s].allproperties[r]!=F&&e[s].allproperties[r].status==Q&&N.test(e[s].allproperties[r].value)&&(o=s);for(s=n;s<e.length;s++)if(s==o){e[s].allproperties[r].status=K;for(var l=0;l<s;l++)typeof e[l].allproperties[r]!=F&&e[l].allproperties[r].status==K&&(e[l].allproperties[r].status=Q)}else if(typeof e[s].allproperties[r]!=F&&e[s].allproperties[r].status==K){e[s].allproperties[r].status=Q;break}}for(n=0;n<e.length;n++)for(var r in e[n].allproperties)if(e[n].allproperties.hasOwnProperty(r)&&e[n].allproperties[r].status==K&&typeof E[r]!=F)for(s=0;s<=n;s++)for(var c=0;c<E[r].length;c++){var u=E[r][c];if(typeof e[s].allproperties[u]!=F&&e[s].allproperties[u].status==K){if(s==n){var d=0;for(var p in e[s].allproperties)if(e[s].allproperties.hasOwnProperty(p)){if(p==r)var f=d;if(p==u)var h=d;d++}}(s<n||h<f)&&!N.test(e[s].allproperties[u].value)&&(e[s].allproperties[u].status=Q)}}}for(n=0;n<e.length;n++){for(var r in e[n])e[n].hasOwnProperty(r)&&("properties"!=r&&"allproperties"!=r||0!=qe(e[n][r])||(e[n][r]=V));if(e[n].properties=e[n].allproperties,delete e[n].allproperties,!t)for(var _ in e[n].properties)e[n].properties.hasOwnProperty(_)&&(e[n].properties[_]=e[n].properties[_].value)}return e}function be(e){var t=e.match(/(^|[^\(])(\[[^\]]+\])($|[^\)])/gi);if(t)for(var n=0;n<t.length;n++)"["!=t[n].charAt(0)&&(t[n]=t[n].substr(1,t[n].length-1)),"]"!=t[n].charAt(t[n].length-1)&&(t[n]=t[n].substr(0,t[n].length-1)),e=e.replace(t[n],"{a"+n+"}");var r=e.match(/([#\.][a-z]+[_a-z0-9-:\\]*)/gi);if(r)for(var i=0;i<r.length;i++)e=e.replace(r[i],"{c"+i+"}");if(e=e.replace(/([A-Z1-6]+)/g,(function(e){return e.toLowerCase()})),t)for(n=0;n<t.length;n++)e=e.replace("{a"+n+"}",t[n]);if(r)for(i=0;i<r.length;i++)e=e.replace("{c"+i+"}",r[i]);return e}function we(e){e=e.split(";");for(var t=0;t<e.length;t++){for(var n=e[t].split(":");n.length>2;)n[1]+=":"+n.pop();1!=n.length?(n[0]=Le(n[0]).toLowerCase(),n[1]=Le(n[1]),e[t]=n[0]+": "+n[1]):(e.splice(t,1),t--)}return e.join("; ")}function Te(e){var t=[];if(""==e)return t;e=e.split(",");for(var n=0;n<e.length;n++)t.push(Le(e[n]));return t}function xe(e,t,n){if(""==e)return t;e=(e=e.replace(/[\r\n]/gm,"")).split(";");for(var r=0;r<e.length;r++)if(e[r]=Le(e[r]),""!=e[r]){for(var i=e[r].split(":");i.length>2;)i[1]+=":"+i.pop();if(1!=i.length){var a=Le(i[0]);(!n||n&&typeof O[a]!=F)&&(typeof t[a]!=F&&N.test(t[a].property)&&t[a].inherited!=$&&!N.test(i[1])||(t[a]={property:Le(i[1]),inherited:n}))}}return t}function ke(e,t){var n=Fe(e,","),r=/([ \t]and.*$)/i,i=t.match(r),a=i?i[0]:"";if(t=t.replace(r,"").replace(/only[ \t]+/i,""),typeof n.all!=F)return t+a;t=t.split(",");for(var o=0;o<t.length;o++)t[o]=Le(t[o]);for(o=0;o<t.length;o++){if(t[o]==C)for(var s in n)n.hasOwnProperty(s)&&(Re(t,s)!=V||/[\(\)]/.test(s)||t.push(s));typeof n[t[o]]==F&&(t.splice(o,1),o--)}return 0==t.length&&t.push(A),t.join(", ")+a}function Se(t,n){return"all"==n.media||e.mediaMatches(n.media)}function Ce(){for(var e=[],t=0;t<n._stylesheets.length;t++){var r=ne==G?n._stylesheets[t].stylenode==H||n._stylesheets[t].stylenode==V?V:X||J||Z?n._stylesheets[t].stylenode:n._stylesheets[t].stylenode[typeof n._stylesheets[t].stylenode.styleSheet!=F?"styleSheet":"sheet"]:n._stylesheets[t].stylesheet;r!=V&&e.push({stylesheet:r,disabled:r.disabled})}if((X||J||Z)&&ne==W){function i(){for(var e=[],t=ie.styleSheets,n=0;n<t.length;n++)typeof t[n].ownerNode.__ident==F&&(t[n].ownerNode.__ident=(new Date).getTime()+""+Math.round(1e4*Math.random())),e.push(t[n].ownerNode.__ident);return e}var a=i(),o=window.setInterval((function(){var e=i();a.join()!=e.join()&&(window.clearInterval(o),n.init(typeof n.initcallback!=F?n.initcallback:V))}),200)}else o=window.setInterval((function(){for(var t=0;t<e.length;t++){if(e[t].stylesheet.disabled!=e[t].disabled){window.clearInterval(o),n.init(typeof n.initcallback!=F?n.initcallback:V);var r=$}if(typeof r!=F)break}}),200)}function Me(e){if(".tvr-element-overlay"==e||".tvr-hh-mode .tvr-element-overlay"==e)return[];if(P.test(e)){for(var t=e.split(","),n=0;n<t.length;n++)P.test(t[n])&&(t.splice(n,1),n--);e=t.join(",")}if(""==Le(e))return[];if(se==H)try{return Ne(ie.querySelectorAll(e))}catch(e){return[]}if(typeof le==z)try{return Ne(le(e,ie))}catch(e){return[]}try{if(typeof Selector!=z)throw new Error(x);var r=Selector(e,ie);return typeof r==F?[]:r}catch(e){if(e.message==x)throw e;return[]}}function Ae(e){try{var t=Ne(n._isXML?ie.getElementsByTagNameNS("*",e):ie.getElementsByTagName(e))}catch(e){t=[]}if("*"==e)for(var r=0;r<t.length;r++)1==t[r].nodeType&&"/"!=t[r].tagName.charAt(0)||t.splice(r--,1);return t}function Oe(){typeof n._cssRules==F&&n.init()}function Ee(e,t){t.push("onfinished");for(var n={},r=0;r<t.length;r++){if(typeof e[r]==z){for(var i=r;i<t.length;i++)n[t[i]]=V;n.onfinished=e[r];break}typeof e[r]==F?n[t[r]]=V:n[t[r]]=e[r]}return n}function Pe(e,t){if(typeof e==U&&"#"==e.charAt(0)&&(e=ie.getElementById(e.substr(1,e.length-1))),typeof e==F||e==V||typeof e.nodeType==F||1!=e.nodeType)throw new Error("CSSUtilities.%method has an invalid Element reference or ID".replace("%method",t));return e}function De(e){typeof e!=F&&""!=e&&e!=V||(e=M),/(^|,)\*(,|$)/.test(e)&&(e="all,none"),e=e.split(",");for(var t=0;t<e.length;t++)e[t]=Le(e[t]),"current"==e[t]&&(e[t]=n._viewmedia);return e}function je(e){return typeof e==F||""==e||e==V||"null"==e?e="*":typeof e==U&&"*"!==(e=Le(e))&&(e=/(,\s*\*|\*\s*,)/.test(e)?"*":Fe(e,",")),e}function Ie(e){return typeof e!=z&&(e=V),e}function Le(e){return e.replace(/^\s+|\s+$/g,"")}function Re(e,t,n){for(var r=0;r<e.length;r++)if(typeof n!=F&&typeof e[r]==q){if(e[r][n]==t)return e[r]}else if(e[r]==t)return e[r];return V}function Ne(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function Fe(e,t){var n={},r=(e=e.split(t))[e.length-1];if(/[ \t]and/i.test(r)){r=r.split(/[ \t]and/i),e.splice(e.length-1,1);for(var i=0;i<r.length;i++)e.push(r[i])}for(i=0;i<e.length;i++)n[Le(e[i])]="";return n}function qe(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}function Ue(e,t){if(typeof e==F)return"";var n={protocol:(a=t.replace("//","/").split("/"))[0],host:a[1]};a.splice(0,2),n.pathname="/"+a.join("/");var r=n.protocol+"//"+n.host;if(/^(\.\/)([^\/]?)/.test(e)&&(e=e.replace(/^(\.\/)([^\/]?)/,"$2")),/(^([a-z]+)\:\/\/)/.test(e))r=e;else if("/"==e.substr(0,1))r+=e;else if(/^((\.\.\/)+)([^\/].*$)/.test(e)){var i=e.match(/^((\.\.\/)+)([^\/].*$)/);i=i[i.length-1];var a,o=e.split("../").length-1;a=(a=n.pathname.split("/")).splice(0,a.length-1);for(var s=0;s<o;s++)a=a.splice(0,a.length-1);var l="";for(s=0;s<a.length;s++)""!=a[s]&&(l+="/"+a[s]);l+="/",r+=l+=i}else{l="",a=(a=n.pathname.split("/")).splice(0,a.length-1);for(s=0;s<a.length;s++)""!=a[s]&&(l+="/"+a[s]);r+=(l+="/")+e}return r}function ze(e,t,n,r){var i=V;if(typeof window.ActiveXObject!=F)try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){i=V}if(i==V&&typeof window.XMLHttpRequest!=F)try{i=new XMLHttpRequest}catch(e){i=V}if(i==V)throw new Error(k);function o(e){/(0|200|304)/.test(e.status.toString())?n(e.responseText,e.getResponseHeader("Content-Type")):r(Le(e.statusText),e.status)}if(i.open("GET",t,e),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-User-Agent","CSSUtilities/.103"),e==$){i.onreadystatechange=function(){4==i.readyState&&o(i)};try{i.send(V)}catch(e){r(a)}}else{var s;try{i.send(V),s=$}catch(e){s=H}s===$?o(i):r(a)}}}.apply(CSSUtilities),function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){(function(e){(function(){"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var n,r="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),a=s,o=0;continue}}else if(2===r.length||1===r.length){r="",i=0,a=s,o=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var i={resolve:function(){for(var t,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=e.cwd()),s=t),n(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=r(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var a=e.length,o=a-r,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,c=o<l?o:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else o>c&&(47===e.charCodeAt(r+d)?u=d:0===d&&(u=0));break}var p=e.charCodeAt(r+d);if(p!==t.charCodeAt(s+d))break;47===p&&(u=d)}var f="";for(d=r+u+1;d<=a;++d)d!==a&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(s+u):(s+=u,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!o){i=r+1;break}}else-1===l&&(o=!1,l=r+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(a=r):(s=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){i=r+1;break}}else-1===a&&(o=!1,a=r+1);return-1===a?"":e.slice(i,a)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(a=!1,i=s+1),46===l?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){r=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),a=47===i;a?(t.root="/",r=1):r=0;for(var o=-1,s=0,l=-1,c=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===o?o=u:1!==d&&(d=1):-1!==o&&(d=-1);else if(!c){s=u+1;break}return-1===o||-1===l||0===d||1===d&&o===l-1&&o===s+1?-1!==l&&(t.base=t.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(t.name=e.slice(1,o),t.base=e.slice(1,l)):(t.name=e.slice(s,o),t.base=e.slice(s,l)),t.ext=e.slice(o,l)),s>0?t.dir=e.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}).call(this)}).call(this,e("_process"))},{_process:3}],3:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=l(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new _(e,t)),1!==u.length||d||l(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(e,t,n){var r=e("./parser").parser;r.yy.create=function(e){return e},n.parser=r},{"./parser":5}],5:[function(e,t,n){(function(r){(function(){var i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,selector_list:4,EOF:5,comma:6,selector:7,",":8,S:9,combinator_selector:10,simple_selector:11,element:12,constraint_list:13,padded_child_combinator:14,padded_tilde:15,padded_plus:16,">":17,ident:18,"*":19,constraint:20,class:21,hash:22,attrib:23,pseudo:24,".":25,"#":26,IDENT:27,n:28,"[":29,padded_ident:30,"]":31,"=":32,padded_ident_or_string:33,CONTAINS:34,DOES_NOT_CONTAIN:35,CONTAINS_WORD:36,CONTAINS_PREFIX:37,STARTS_WITH:38,ENDS_WITH:39,string:40,"~":41,"+":42,SINGLE_QUOTED_STRING:43,DOUBLE_QUOTED_STRING:44,":":45,func:46,ODD_ARGUMENT:47,EVEN_ARGUMENT:48,"(":49,func_arguments:50,")":51,INTEGER:52,an_plus_b:53,odd:54,even:55,negative_integer:56,signed_integer:57,positive_integer:58,unsigned_integer:59,"-":60,NEGATIVE_INTEGER:61,POSITIVE_INTEGER:62,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:",",9:"S",17:">",19:"*",25:".",26:"#",27:"IDENT",28:"n",29:"[",31:"]",32:"=",34:"CONTAINS",35:"DOES_NOT_CONTAIN",36:"CONTAINS_WORD",37:"CONTAINS_PREFIX",38:"STARTS_WITH",39:"ENDS_WITH",41:"~",42:"+",43:"SINGLE_QUOTED_STRING",44:"DOUBLE_QUOTED_STRING",45:":",47:"ODD_ARGUMENT",48:"EVEN_ARGUMENT",49:"(",51:")",52:"INTEGER",54:"odd",55:"even",60:"-",61:"NEGATIVE_INTEGER",62:"POSITIVE_INTEGER"},productions_:[0,[3,2],[4,3],[4,1],[6,1],[6,2],[7,1],[7,1],[11,2],[11,1],[11,1],[10,3],[10,3],[10,3],[10,3],[10,3],[10,2],[12,1],[12,1],[13,2],[13,1],[20,1],[20,1],[20,1],[20,1],[21,2],[22,2],[18,1],[18,1],[23,3],[23,5],[23,5],[23,5],[23,5],[23,5],[23,5],[23,5],[30,3],[30,2],[30,2],[30,1],[33,1],[33,3],[33,2],[33,2],[33,1],[14,3],[14,2],[14,2],[14,1],[15,3],[15,2],[15,2],[15,1],[16,3],[16,2],[16,2],[16,1],[40,1],[40,1],[24,2],[24,2],[46,2],[46,2],[46,4],[46,4],[46,3],[50,1],[50,1],[53,1],[53,1],[53,3],[53,3],[53,3],[53,3],[53,2],[53,2],[53,2],[57,1],[57,1],[56,1],[58,1],[59,1]],performAction:function(e,t,n,r,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 2:a[s-2].selectors.push(a[s]),this.$=a[s-2];break;case 3:this.$=r.create({type:"selector_list",selectors:[a[s]]});break;case 8:a[s-1].constraints=a[s].constraints,this.$=a[s-1];break;case 10:this.$=r.create({type:"constraint_list",constraints:a[s].constraints});break;case 11:this.$=r.create({type:"combinator_selector",left:a[s-2],right:a[s],combinator:"child"});break;case 12:this.$=r.create({type:"combinator_selector",left:a[s-2],right:a[s],combinator:"descendant"});break;case 13:this.$=r.create({type:"previous_sibling",left:a[s-2],right:a[s]});break;case 14:this.$=r.create({type:"adjacent_sibling",left:a[s-2],right:a[s]});break;case 15:case 16:this.$=r.create({type:"immediate_child",child:a[s],combinator:"child"});break;case 17:case 18:this.$=r.create({type:"element",name:a[s],constraints:[]});break;case 19:a[s-1].constraints.push(a[s]),this.$=a[s-1];break;case 20:this.$=r.create({type:"constraint_list",constraints:[a[s]]});break;case 25:this.$={type:"class",name:a[s]};break;case 26:this.$={type:"id",name:a[s]};break;case 29:this.$=r.create({type:"has_attribute",name:a[s-1]});break;case 30:this.$=r.create({type:"attribute_equals",name:a[s-3],value:a[s-1]});break;case 31:this.$=r.create({type:"attribute_contains",name:a[s-3],value:a[s-1]});break;case 32:this.$=r.create({type:"attribute_does_not_contain",name:a[s-3],value:a[s-1]});break;case 33:this.$=r.create({type:"attribute_contains_word",name:a[s-3],value:a[s-1]});break;case 34:this.$=r.create({type:"attribute_contains_prefix",name:a[s-3],value:a[s-1]});break;case 35:this.$=r.create({type:"attribute_starts_with",name:a[s-3],value:a[s-1]});break;case 36:this.$=r.create({type:"attribute_ends_with",name:a[s-3],value:a[s-1]});break;case 37:case 39:case 44:this.$=a[s-1];break;case 38:case 40:case 43:case 45:this.$=a[s];break;case 42:this.$=a[s-2];break;case 58:case 59:this.$=a[s].substr(1,a[s].length-2);break;case 60:this.$=r.create({type:"pseudo_func",func:a[s]});break;case 61:this.$=r.create({type:"pseudo_class",name:a[s]});break;case 62:this.$={type:"function",name:a[s-1],args:{type:"odd"}};break;case 63:this.$={type:"function",name:a[s-1],args:{type:"even"}};break;case 64:case 65:this.$={type:"function",name:a[s-3],args:a[s-1]};break;case 66:this.$={type:"function",name:a[s-2]};break;case 69:this.$={type:"odd"};break;case 70:this.$={type:"even"};break;case 71:case 72:case 73:this.$={type:"an_plus_b",a:a[s-2],b:a[s]};break;case 74:this.$={type:"an_plus_b",a:-1,b:a[s]};break;case 75:this.$={type:"n_plus_b",b:a[s]};break;case 76:case 77:this.$={type:"an",a:a[s-1]};break;case 80:case 81:case 82:this.$=Number(a[s])}},table:[{3:1,4:2,7:3,10:4,11:5,12:7,13:8,17:[1,6],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{1:[3]},{5:[1,22],6:23,8:[1,24]},{5:[2,3],8:[2,3],9:[1,26],14:25,15:27,16:28,17:[1,29],41:[1,30],42:[1,31],51:[2,3]},{5:[2,6],8:[2,6],9:[2,6],17:[2,6],41:[2,6],42:[2,6],51:[2,6]},{5:[2,7],8:[2,7],9:[2,7],17:[2,7],41:[2,7],42:[2,7],51:[2,7]},{9:[1,32],11:33,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{5:[2,9],8:[2,9],9:[2,9],13:34,17:[2,9],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],29:[1,20],41:[2,9],42:[2,9],45:[1,21],51:[2,9]},{5:[2,10],8:[2,10],9:[2,10],17:[2,10],20:35,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],29:[1,20],41:[2,10],42:[2,10],45:[1,21],51:[2,10]},{5:[2,17],8:[2,17],9:[2,17],17:[2,17],25:[2,17],26:[2,17],29:[2,17],41:[2,17],42:[2,17],45:[2,17],51:[2,17]},{5:[2,18],8:[2,18],9:[2,18],17:[2,18],25:[2,18],26:[2,18],29:[2,18],41:[2,18],42:[2,18],45:[2,18],51:[2,18]},{5:[2,20],8:[2,20],9:[2,20],17:[2,20],25:[2,20],26:[2,20],29:[2,20],41:[2,20],42:[2,20],45:[2,20],51:[2,20]},{5:[2,27],8:[2,27],9:[2,27],17:[2,27],25:[2,27],26:[2,27],29:[2,27],31:[2,27],32:[2,27],34:[2,27],35:[2,27],36:[2,27],37:[2,27],38:[2,27],39:[2,27],41:[2,27],42:[2,27],45:[2,27],47:[2,27],48:[2,27],49:[2,27],51:[2,27]},{5:[2,28],8:[2,28],9:[2,28],17:[2,28],25:[2,28],26:[2,28],29:[2,28],31:[2,28],32:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],38:[2,28],39:[2,28],41:[2,28],42:[2,28],45:[2,28],47:[2,28],48:[2,28],49:[2,28],51:[2,28]},{5:[2,21],8:[2,21],9:[2,21],17:[2,21],25:[2,21],26:[2,21],29:[2,21],41:[2,21],42:[2,21],45:[2,21],51:[2,21]},{5:[2,22],8:[2,22],9:[2,22],17:[2,22],25:[2,22],26:[2,22],29:[2,22],41:[2,22],42:[2,22],45:[2,22],51:[2,22]},{5:[2,23],8:[2,23],9:[2,23],17:[2,23],25:[2,23],26:[2,23],29:[2,23],41:[2,23],42:[2,23],45:[2,23],51:[2,23]},{5:[2,24],8:[2,24],9:[2,24],17:[2,24],25:[2,24],26:[2,24],29:[2,24],41:[2,24],42:[2,24],45:[2,24],51:[2,24]},{18:36,27:[1,12],28:[1,13]},{18:37,27:[1,12],28:[1,13]},{9:[1,39],18:40,27:[1,12],28:[1,13],30:38},{18:42,27:[1,12],28:[1,13],46:41},{1:[2,1]},{7:43,10:4,11:5,12:7,13:8,17:[1,6],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{9:[1,44],17:[2,4],19:[2,4],25:[2,4],26:[2,4],27:[2,4],28:[2,4],29:[2,4],45:[2,4]},{11:45,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{11:46,12:7,13:8,17:[1,47],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],41:[1,48],42:[1,49],45:[1,21]},{11:50,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{11:51,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{9:[1,52],19:[2,49],25:[2,49],26:[2,49],27:[2,49],28:[2,49],29:[2,49],45:[2,49]},{9:[1,53],19:[2,53],25:[2,53],26:[2,53],27:[2,53],28:[2,53],29:[2,53],45:[2,53]},{9:[1,54],19:[2,57],25:[2,57],26:[2,57],27:[2,57],28:[2,57],29:[2,57],45:[2,57]},{11:55,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{5:[2,16],8:[2,16],9:[2,16],17:[2,16],41:[2,16],42:[2,16],51:[2,16]},{5:[2,8],8:[2,8],9:[2,8],17:[2,8],20:35,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],29:[1,20],41:[2,8],42:[2,8],45:[1,21],51:[2,8]},{5:[2,19],8:[2,19],9:[2,19],17:[2,19],25:[2,19],26:[2,19],29:[2,19],41:[2,19],42:[2,19],45:[2,19],51:[2,19]},{5:[2,25],8:[2,25],9:[2,25],17:[2,25],25:[2,25],26:[2,25],29:[2,25],41:[2,25],42:[2,25],45:[2,25],51:[2,25]},{5:[2,26],8:[2,26],9:[2,26],17:[2,26],25:[2,26],26:[2,26],29:[2,26],41:[2,26],42:[2,26],45:[2,26],51:[2,26]},{31:[1,56],32:[1,57],34:[1,58],35:[1,59],36:[1,60],37:[1,61],38:[1,62],39:[1,63]},{18:64,27:[1,12],28:[1,13]},{9:[1,65],31:[2,40],32:[2,40],34:[2,40],35:[2,40],36:[2,40],37:[2,40],38:[2,40],39:[2,40]},{5:[2,60],8:[2,60],9:[2,60],17:[2,60],25:[2,60],26:[2,60],29:[2,60],41:[2,60],42:[2,60],45:[2,60],51:[2,60]},{5:[2,61],8:[2,61],9:[2,61],17:[2,61],25:[2,61],26:[2,61],29:[2,61],41:[2,61],42:[2,61],45:[2,61],47:[1,66],48:[1,67],49:[1,68],51:[2,61]},{5:[2,2],8:[2,2],9:[1,26],14:25,15:27,16:28,17:[1,29],41:[1,30],42:[1,31],51:[2,2]},{17:[2,5],19:[2,5],25:[2,5],26:[2,5],27:[2,5],28:[2,5],29:[2,5],45:[2,5]},{5:[2,11],8:[2,11],9:[2,11],17:[2,11],41:[2,11],42:[2,11],51:[2,11]},{5:[2,12],8:[2,12],9:[2,12],17:[2,12],41:[2,12],42:[2,12],51:[2,12]},{9:[1,69],19:[2,47],25:[2,47],26:[2,47],27:[2,47],28:[2,47],29:[2,47],45:[2,47]},{9:[1,70],19:[2,51],25:[2,51],26:[2,51],27:[2,51],28:[2,51],29:[2,51],45:[2,51]},{9:[1,71],19:[2,55],25:[2,55],26:[2,55],27:[2,55],28:[2,55],29:[2,55],45:[2,55]},{5:[2,13],8:[2,13],9:[2,13],17:[2,13],41:[2,13],42:[2,13],51:[2,13]},{5:[2,14],8:[2,14],9:[2,14],17:[2,14],41:[2,14],42:[2,14],51:[2,14]},{19:[2,48],25:[2,48],26:[2,48],27:[2,48],28:[2,48],29:[2,48],45:[2,48]},{19:[2,52],25:[2,52],26:[2,52],27:[2,52],28:[2,52],29:[2,52],45:[2,52]},{19:[2,56],25:[2,56],26:[2,56],27:[2,56],28:[2,56],29:[2,56],45:[2,56]},{5:[2,15],8:[2,15],9:[2,15],17:[2,15],41:[2,15],42:[2,15],51:[2,15]},{5:[2,29],8:[2,29],9:[2,29],17:[2,29],25:[2,29],26:[2,29],29:[2,29],41:[2,29],42:[2,29],45:[2,29],51:[2,29]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:72,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:78,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:79,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:80,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:81,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:82,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:83,40:75,43:[1,76],44:[1,77]},{9:[1,84],31:[2,38],32:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],38:[2,38],39:[2,38]},{31:[2,39],32:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],38:[2,39],39:[2,39]},{5:[2,62],8:[2,62],9:[2,62],17:[2,62],25:[2,62],26:[2,62],29:[2,62],41:[2,62],42:[2,62],45:[2,62],51:[2,62]},{5:[2,63],8:[2,63],9:[2,63],17:[2,63],25:[2,63],26:[2,63],29:[2,63],41:[2,63],42:[2,63],45:[2,63],51:[2,63]},{4:88,7:3,10:4,11:5,12:7,13:8,17:[1,6],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,96],29:[1,20],45:[1,21],50:85,51:[1,87],52:[1,86],53:89,54:[1,90],55:[1,91],56:92,58:93,59:94,60:[1,95],61:[1,97],62:[1,98]},{19:[2,46],25:[2,46],26:[2,46],27:[2,46],28:[2,46],29:[2,46],45:[2,46]},{19:[2,50],25:[2,50],26:[2,50],27:[2,50],28:[2,50],29:[2,50],45:[2,50]},{19:[2,54],25:[2,54],26:[2,54],27:[2,54],28:[2,54],29:[2,54],45:[2,54]},{31:[1,99]},{31:[2,41]},{18:64,27:[1,12],28:[1,13],40:100,43:[1,76],44:[1,77]},{9:[1,101],31:[2,45]},{9:[2,58],31:[2,58]},{9:[2,59],31:[2,59]},{31:[1,102]},{31:[1,103]},{31:[1,104]},{31:[1,105]},{31:[1,106]},{31:[1,107]},{31:[2,37],32:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],38:[2,37],39:[2,37]},{51:[1,108]},{28:[2,82],51:[1,109]},{5:[2,66],8:[2,66],9:[2,66],17:[2,66],25:[2,66],26:[2,66],29:[2,66],41:[2,66],42:[2,66],45:[2,66],51:[2,66]},{6:23,8:[1,24],51:[2,67]},{51:[2,68]},{51:[2,69]},{51:[2,70]},{28:[1,110]},{28:[1,111]},{28:[1,112]},{28:[1,113]},{8:[2,28],9:[2,28],17:[2,28],25:[2,28],26:[2,28],29:[2,28],41:[2,28],42:[2,28],45:[2,28],51:[2,28],56:116,57:114,58:115,61:[1,97],62:[1,98]},{28:[2,80],51:[2,80]},{28:[2,81],51:[2,81]},{5:[2,30],8:[2,30],9:[2,30],17:[2,30],25:[2,30],26:[2,30],29:[2,30],41:[2,30],42:[2,30],45:[2,30],51:[2,30]},{9:[1,117],31:[2,43]},{31:[2,44]},{5:[2,31],8:[2,31],9:[2,31],17:[2,31],25:[2,31],26:[2,31],29:[2,31],41:[2,31],42:[2,31],45:[2,31],51:[2,31]},{5:[2,32],8:[2,32],9:[2,32],17:[2,32],25:[2,32],26:[2,32],29:[2,32],41:[2,32],42:[2,32],45:[2,32],51:[2,32]},{5:[2,33],8:[2,33],9:[2,33],17:[2,33],25:[2,33],26:[2,33],29:[2,33],41:[2,33],42:[2,33],45:[2,33],51:[2,33]},{5:[2,34],8:[2,34],9:[2,34],17:[2,34],25:[2,34],26:[2,34],29:[2,34],41:[2,34],42:[2,34],45:[2,34],51:[2,34]},{5:[2,35],8:[2,35],9:[2,35],17:[2,35],25:[2,35],26:[2,35],29:[2,35],41:[2,35],42:[2,35],45:[2,35],51:[2,35]},{5:[2,36],8:[2,36],9:[2,36],17:[2,36],25:[2,36],26:[2,36],29:[2,36],41:[2,36],42:[2,36],45:[2,36],51:[2,36]},{5:[2,64],8:[2,64],9:[2,64],17:[2,64],25:[2,64],26:[2,64],29:[2,64],41:[2,64],42:[2,64],45:[2,64],51:[2,64]},{5:[2,65],8:[2,65],9:[2,65],17:[2,65],25:[2,65],26:[2,65],29:[2,65],41:[2,65],42:[2,65],45:[2,65],51:[2,65]},{51:[2,76],56:116,57:118,58:115,61:[1,97],62:[1,98]},{56:116,57:119,58:115,61:[1,97],62:[1,98]},{51:[2,77],56:116,57:120,58:115,61:[1,97],62:[1,98]},{56:116,57:121,58:115,61:[1,97],62:[1,98]},{51:[2,75]},{51:[2,78]},{51:[2,79]},{31:[2,42]},{51:[2,71]},{51:[2,72]},{51:[2,73]},{51:[2,74]}],defaultActions:{22:[2,1],73:[2,41],89:[2,68],90:[2,69],91:[2,70],101:[2,44],114:[2,75],115:[2,78],116:[2,79],117:[2,42],118:[2,71],119:[2,72],120:[2,73],121:[2,74]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],a=this.table,o="",s=0,l=0,c=0,u=i.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;i.push(d);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,h,_,g,m,v,y,b,w,T,x={};;){if(_=n[n.length-1],this.defaultActions[_]?g=this.defaultActions[_]:(null==f&&(T=void 0,"number"!=typeof(T=t.lexer.lex()||1)&&(T=t.symbols_[T]||T),f=T),g=a[_]&&a[_][f]),void 0===g||!g.length||!g[0]){var k="";for(v in w=[],a[_])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:w})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+f);switch(g[0]){case 1:n.push(f),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(g[1]),f=null,h?(f=h,h=null):(l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[g[1]][1],x.$=r[r.length-y],x._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},p&&(x._$.range=[i[i.length-(y||1)].range[0],i[i.length-1].range[1]]),void 0!==(m=this.performAction.apply(x,[o,l,s,this.yy,g[1],r,i].concat(u))))return m;y&&(n=n.slice(0,-1*y*2),r=r.slice(0,-1*y),i=i.slice(0,-1*y)),n.push(this.productions_[g[1]][0]),r.push(x.$),i.push(x._$),b=a[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},t={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((n=this._input.match(this.rules[i[a]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return 28;case 1:return 27;case 2:return 5;case 3:return 36;case 4:return 34;case 5:return 37;case 6:return 35;case 7:return 38;case 8:return 39;case 9:return 43;case 10:return 44;case 11:return 62;case 12:return 61;case 13:return 52;case 14:return 47;case 15:return 48;case 16:return 26;case 17:return 8;case 18:return 25;case 19:return 29;case 20:return 31;case 21:return 32;case 22:return 45;case 23:return 49;case 24:return 51;case 25:return 17;case 26:return"'";case 27:return 19;case 28:return 41;case 29:return 42;case 30:return 60;case 31:return 9}},rules:[/^(?:n\b)/,/^(?:[_a-zA-Z][_a-zA-Z0-9-]*)/,/^(?:$)/,/^(?:~=)/,/^(?:\*=)/,/^(?:\|=)/,/^(?:!=)/,/^(?:\^=)/,/^(?:\$=)/,/^(?:"[^\n\r\f\\"]*")/,/^(?:'[^\n\r\f\\']*')/,/^(?:\+\d+)/,/^(?:-\d+)/,/^(?:\d+)/,/^(?:\(odd\))/,/^(?:\(even\))/,/^(?:#)/,/^(?:,)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:=)/,/^(?::)/,/^(?:\()/,/^(?:\))/,/^(?:>)/,/^(?:')/,/^(?:\*)/,/^(?:~)/,/^(?:\+)/,/^(?:-)/,/^(?:\s+)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!0}}};function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();void 0!==e&&void 0!==n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(t){t[1]||r.exit(1);var i=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return n.parser.parse(i)},void 0!==t&&e.main===t&&n.main(r.argv.slice(1)))}).call(this)}).call(this,e("_process"))},{_process:3,fs:1,path:2}],6:[function(e,t,n){(function(){var n,r,i,a,o;n=e("bo-selector").parser,r=e("xpath-builder").dsl(),i=e("./expression"),n.yy.create=function(e){return new i(e)},(o=function(e){return a(e).toXPath()}).parse=a=function(e){return n.parse(e).render(r,"descendant")},o.xPathBuilder=r,t.exports=o,window.TvrMT.convertToXpath=o}).call(this)},{"./expression":7,"bo-selector":4,"xpath-builder":9}],7:[function(e,t,n){(function(){var n,r,i;n=e("./renderer"),(r=function(e){return i(this,e),this}).prototype.render=function(e,t){return(new n).render(this,e,t)},i=function(e,t){var n;for(n in t)!function(n){e[n]=t[n]}(n)},t.exports=r}).call(this)},{"./renderer":8}],8:[function(e,t,n){(function(){var n,r;n=e("xpath-builder").dsl(),(r=function(){return this}).prototype={render:function(e,t,n){var r;if(!(r=this[e.type]))throw new Error("No renderer for '"+e.type+"'");return r.call(this,e,t,n)},selector_list:function(e,t,n){var r,i;for(r=this.render(e.selectors[0],t,n),i=1;i<e.selectors.length;++i)r=r.union(this.render(e.selectors[i],t,n));return r},constraint_list:function(e,t,n){return this.element(e,t,n)},element:function(e,t,n){return this.applyConstraints(e,t[n].call(t,e.name||"*"))},combinator_selector:function(e,t,n){var r;return r=this.render(e.left,t,n),this.render(e.right,r,e.combinator)},immediate_child:function(e,t){return this.render(e.child,t,"child")},pseudo_func:function(e,t){var n;if(n=this[e.func.name.replace(/-/g,"_")])return n.call(this,e,t);throw new Error("Unsupported pseudo function :"+e.func.name+"()")},pseudo_class:function(e,t){var n;if(n=this[e.name.replace(/-/g,"_")])return n.call(this,e,t);throw new Error("Unsupported pseudo class :"+e.name)},has:function(e,t){return this.render(e.func.args,n,"descendant")},not:function(e,t){var n;return"constraint_list"===(n=e.func.args.selectors[0]).type?this.combineConstraints(n,t).inverse():this.matchesSelectorList(e.func.args,t).inverse()},nth_child:function(e,t){return t.nthChild(Number(e.func.args))},first_child:function(e,t){return t.firstChild()},last_child:function(e,t){return t.lastChild()},nth_last_child:function(e,t){return t.nthLastChild(Number(e.func.args))},only_child:function(e,t){return t.onlyChild()},only_of_type:function(e,t){return t.onlyOfType()},nth_of_type:function(e,t){var n;return"odd"===(n=e.func.args.type)?t.nthOfTypeOdd():"even"===n?t.nthOfTypeEven():"an"===n?t.nthOfTypeMod(Number(e.func.args.a)):"n_plus_b"===n?t.nthOfTypeMod(1,Number(e.func.args.b)):"an_plus_b"===n?t.nthOfTypeMod(Number(e.func.args.a),Number(e.func.args.b)):t.nthOfType(Number(e.func.args))},nth_last_of_type:function(e,t){var n;return"odd"===(n=e.func.args.type)?t.nthLastOfTypeOdd():"even"===n?t.nthLastOfTypeEven():"an"===n?t.nthLastOfTypeMod(Number(e.func.args.a)):"n_plus_b"===n?t.nthLastOfTypeMod(1,Number(e.func.args.b)):"an_plus_b"===n?t.nthLastOfTypeMod(Number(e.func.args.a),Number(e.func.args.b)):t.nthLastOfType(Number(e.func.args))},last_of_type:function(e,t){return t.lastOfType()},empty:function(e,t){return t.empty()},has_attribute:function(e,t){return n.attr(e.name)},attribute_equals:function(e,t){return n.attr(e.name).equals(e.value)},attribute_contains:function(e,t){return n.attr(e.name).contains(e.value)},attribute_contains_word:function(e,t){return t.concat(" ",n.attr(e.name).normalize()," ").contains(" "+e.value+" ")},attribute_contains_prefix:function(e){return n.attr(e.name).startsWith(e.value).or(n.attr(e.name).startsWith(e.value+"-"))},attribute_starts_with:function(e,t){return n.attr(e.name).startsWith(e.value)},attribute_ends_with:function(e){return n.attr(e.name).endsWith(e.value)},class:function(e){return this.attribute_contains_word({name:"class",value:e.name},n)},id:function(e){return n.attr("id").equals(e.name)},previous_sibling:function(e,t,n){var r;return r=this.render(e.left,t,n),this.applyConstraints(e.right,r.axis("following-sibling",e.right.name))},adjacent_sibling:function(e,t,n){var r;return r=this.render(e.left,t,n),this.applyConstraints(e.right,r.axis("following-sibling::*[1]/self",e.right.name))},first_of_type:function(e,t){return t.firstOfType()},matchesSelectorList:function(e,t){var r,i;if(e.selectors.length>0){for(r=this.matchesSelector(e.selectors[0],n),i=1;i<e.selectors.length;++i)r=r.or(this.matchesSelector(e.selectors[i],n));return r}return t},matchesSelector:function(e,t){return t.name().equals(e.name)},combineConstraints:function(e,t){var n,r;for(n=this.render(e.constraints[0],t),r=1;r<e.constraints.length;++r)n=n.and(this.render(e.constraints[r],n));return n},applyConstraints:function(e,t){return e.constraints.length>0?t.where(this.combineConstraints(e,t)):t}},t.exports=r}).call(this)},{"xpath-builder":9}],9:[function(e,t,n){(function(){var t,r,i,a,o,s,l,c,u,d;for(c in t=e("./expression"),r=e("./literal").Literal,i={current:function(){return new u("thisNode")},name:function(){return new u("nodeName",this.current())},descendant:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("descendant",this.current(),o(e))},child:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("child",this.current(),o(e))},axis:function(e,t){return new u("axis",this.current(),new r(e),new r(t||"*"))},nextSibling:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("nextSibling",this.current(),o(e))},previousSibling:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("previousSibling",this.current(),o(e))},anywhere:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("anywhere",o(e))},attr:function(e){return new u("attribute",this.current(),new r(e))},contains:function(e){return new u("contains",this.current(),e)},startsWith:function(e){return new u("startsWith",this.current(),e)},endsWith:function(e){return new u("endsWith",this.current(),e)},text:function(){return new u("text",this.current())},string:function(){return new u("stringFunction",this.current())},substring:function(e,t){var n;return n=[e],t&&n.push(t),new u("substringFunction",this.current(),n)},stringLength:function(){return new u("stringLengthFunction",this.current())},literal:function(e){return new r(e)},concat:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("concatFunction",e)},nthChild:function(e){return new u("nthChild",e)},nthLastChild:function(e){return new u("nthLastChild",e)},firstChild:function(){return new u("firstChild")},lastChild:function(){return new u("lastChild")},onlyChild:function(){return new u("onlyChild")},onlyOfType:function(){return new u("onlyOfType")},firstOfType:function(){return new u("nthOfType",1)},lastOfType:function(){return new u("lastOfType")},nthOfType:function(e){return new u("nthOfType",e)},nthLastOfType:function(e){return new u("nthLastOfType",e)},nthOfTypeMod:function(e,t){return new u("nthOfTypeMod",e,t||0)},nthOfTypeOdd:function(){return new u("nthOfTypeOdd")},nthOfTypeEven:function(){return new u("nthOfTypeEven")},nthLastOfTypeMod:function(e,t){return new u("nthLastOfTypeMod",e,t||0)},nthLastOfTypeOdd:function(){return new u("nthLastOfTypeOdd")},nthLastOfTypeEven:function(){return new u("nthLastOfTypeEven")},empty:function(){return new u("empty")}},a={where:function(e){return new u("where",this.current(),e)},oneOf:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("oneOf",this.current(),e)},equals:function(e){return new u("equality",this.current(),e)},is:function(e){return new u("is",this.current(),e)},or:function(e){return new u("or",this.current(),e)},and:function(e){return new u("and",this.current(),e)},union:function(){var e=this,t=Array.prototype.slice.call(arguments,0,arguments.length);return new d([e].concat(t))},inverse:function(){return new u("inverse",this.current())},stringLiteral:function(){return new u("stringLiteral",this)},normalize:function(){return new u("normalizedSpace",this.current())},n:function(){return this.normalize()},add:function(e){return new u("addition",this.current(),e)},subtract:function(e){return new u("subtraction",this.current(),e)},count:function(){return new u("countFunction",this.current())}},o=function(e){return e.map((function(e){return new r(e)}))},(s=function(){return this}).prototype=i,(l=function(){return this}).prototype=new s,a)!function(e){l.prototype[e]=a[e]}(c);u=t.createExpression(l.prototype),(d=function(e){return this.expression="union",this.args=e,this}).prototype=u.prototype,n.dsl=function(){return new s}}).call(this)},{"./expression":10,"./literal":11}],10:[function(e,t,n){(function(){var t,r;t=e("./renderer").Renderer,r=function(e){var n;return n=function(e){var t=Array.prototype.slice.call(arguments,1,arguments.length);return this.expression=e,this.args=t,this},(n.prototype=e).isExpression=!0,n.prototype.toXPath=function(e){return t.render(this,e)},n.prototype.toString=function(){return this.toXPath()},n.prototype.inspect=function(){return this.toXPath()},n.prototype.current=function(){return this},n},n.createExpression=r}).call(this)},{"./renderer":12}],11:[function(e,t,n){(function(){var e;(e=function(e){return this.value=e,this.isLiteral=!0,this}).prototype.isLiteral=!0,n.Literal=e}).call(this)},{}],12:[function(e,t,n){(function(){var e;(e=function(e){return this.type=e,this}).prototype={render:function(e){var t,n=this;return t=e.args.map((function(e){return n.convertArgument(e)})),n[e.expression].apply(n,t)},convertArgument:function(e){var t=this;return e.isExpression||e.isUnion?t.render(e):e instanceof Array?e.map((function(e){return t.convertArgument(e)})):"string"==typeof e?t.stringLiteral(e):"number"==typeof e?e:e.isLiteral?e.value:e.toString()},stringLiteral:function(e){return e.indexOf("'")>-1?"concat("+(e=e.split("'",-1).map((function(e){return"'"+e+"'"})).join(',"\'",'))+")":"'"+e+"'"},thisNode:function(){return"."},descendant:function(e,t){return 1===t.length?e+"//"+t[0]:t.length>1?e+"//*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"//*"},child:function(e,t){return 1===t.length?e+"/"+t[0]:t.length>1?e+"/*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"/*"},axis:function(e,t,n){return e+"/"+t+"::"+n},nodeName:function(e){return"name("+e+")"},where:function(e,t){return e+"["+t+"]"},attribute:function(e,t){return e+"/@"+t},equality:function(e,t){return e+" = "+t},addition:function(e,t){return e+" + "+t},subtraction:function(e,t){return e+" - "+t},is:function(e,t){var n=this;return"exact"===n.type?n.equality(e,t):n.contains(e,t)},variable:function(e){return"%{"+e+"}"},text:function(e){return e+"/text()"},normalizedSpace:function(e){return"normalize-space("+e+")"},literal:function(e){return e},union:function(){return Array.prototype.slice.call(arguments,0,arguments.length).join(" | ")},anywhere:function(e){return 1===e.length?"//"+e[0]:e.length>1?"//*["+e.map((function(e){return"self::"+e})).join(" | ")+"]":"//*"},contains:function(e,t){return"contains("+e+", "+t+")"},startsWith:function(e,t){return"starts-with("+e+", "+t+")"},endsWith:function(e,t){return"substring("+e+", string-length("+e+") - string-length("+t+") + 1, string-length("+e+")) = "+t},and:function(e,t){return"("+e+" and "+t+")"},or:function(e,t){return"("+e+" or "+t+")"},oneOf:function(e,t){return t.map((function(t){return e+" = "+t})).join(" or ")},nextSibling:function(e,t){return 1===t.length?e+"/following-sibling::*[1]/self::"+t[0]:t.length>1?e+"/following-sibling::*[1]/self::*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"/following-sibling::*[1]/self::*"},previousSibling:function(e,t){return 1===t.length?e+"/preceding-sibling::*[1]/self::"+t[0]:t.length>1?e+"/preceding-sibling::*[1]/self::*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"/preceding-sibling::*[1]/self::*"},inverse:function(e){return"not("+e+")"},stringFunction:function(e){return"string("+e+")"},substringFunction:function(e,t){return"substring("+e+", "+t.join(", ")+")"},concatFunction:function(e){return"concat("+e.join(", ")+")"},stringLengthFunction:function(e){return"string-length("+e+")"},countFunction:function(e){return"count("+e+")"},nthOfType:function(e){return"position() = "+e},nthOfTypeMod:function(e,t){return-1===e?"(position() <= "+t+") and (((position() - "+t+") mod 1) = 0)":t>0?"(position() >= "+t+") and (((position() - "+t+") mod "+e+") = 0)":"(position() mod "+e+") = 0"},nthOfTypeOdd:function(){return"(position() mod 2) = 1"},nthOfTypeEven:function(){return"(position() mod 2) = 0"},nthLastOfType:function(e){return"position() = last() - "+(e-1)},nthLastOfTypeMod:function(e,t){return-1===e?"((last() - position() + 1) <= "+t+") and ((((last() - position() + 1) - "+t+") mod 1) = 0)":t>0?"((last() - position() + 1) >= "+t+") and ((((last() - position() + 1) - "+t+") mod "+e+") = 0)":"((last() - position() + 1) mod "+e+") = 0"},nthLastOfTypeOdd:function(){return"((last() - position() + 1) >= 1) and ((((last() - position() + 1) - 1) mod 2) = 0)"},nthLastOfTypeEven:function(){return"((last() - position() + 1) mod 2) = 0"},lastOfType:function(){return"position() = last()"},nthChild:function(e){return"count(preceding-sibling::*) = "+(e-1)},nthLastChild:function(e){return"count(following-sibling::*) = "+(e-1)},firstChild:function(){return"count(preceding-sibling::*) = 0"},lastChild:function(){return"count(following-sibling::*) = 0"},onlyChild:function(){return"count(preceding-sibling::*) = 0 and count(following-sibling::*) = 0"},onlyOfType:function(){return"last() = 1"},empty:function(){return"not(node())"}},e.render=function(t,n){return void 0===n&&(n="*"),new e(n).render(t)},n.Renderer=e}).call(this)},{}]},{},[6]),MTMainAndWorker=function(){var e={TVR_TIMERS:0,setWorkerObjectRefs:function(e){this.MTloop=e.mod.MTloop},set_worker_and_main_common_reference:function(t){e=t},isDefined:function(e){return""!==e&&"undefined"!==e&&null!=e},checkObject:function(e,t,n){if(!e)return!1;for(var r=0;r<t.length;r++){if(null==e||!e.hasOwnProperty(t[r]))return!!n&&void 0;e=e[t[r]]}return e},profiler:{},log_concurrent:0,startT:function(t,n){(n||TVR_DEV_MODE&&e.TVR_TIMERS)&&(t===Object(t)&&(t=t.callee.name),e.isDefined(e.profiler[t])||(e.profiler[t]={fName:t,sT:[],eT:[],elT:[],calls:0,avg_time:0,total_time:0}),e.profiler[t].sT[++e.profiler[t].calls]=(new Date).getTime())},endT:function(t,n,r){if(r||TVR_DEV_MODE&&e.TVR_TIMERS){t===Object(t)&&(t=t.callee.name),e.profiler[t]||console.log("function timer was not started: ",t);var i=e.profiler[t].calls;e.profiler[t].eT[i]=(new Date).getTime();var a=e.profiler[t].eT[i]-e.profiler[t].sT[i];e.profiler[t].elT[i]=a,e.profiler[t].total_time=e.profiler[t].total_time+a,e.profiler[t].avg_time=e.profiler[t].total_time/i,(n||e.log_concurrent)&&e.showT(t)}},showT:function(t,n){if(TVR_DEV_MODE&&e.TVR_TIMERS){var r="";if("all"!==t)r=e.msgT(e.profiler[t],e.profiler[t].calls);else{var i=[];for(var t in e.profiler)e.profiler.hasOwnProperty(t)&&i.push(e.profiler[t]);for(var a in n=n||"avg_time",i.sort(e.firstBy(n,-1)),i)i.hasOwnProperty(a)&&(r+=e.msgT(i[a]))}console&&console.log&&console.log(r)}},msgT:function(t,n){e.isDefined(t.eT[t.calls])||(console.log(t.fName+" was not endT() finished",t),e.endT(t.fName));var r="",i=t.fName,a=t.total_time.toFixed(2),o=t.avg_time?t.avg_time.toFixed(2):a,s=n?t.elT[n]:e.isDefined(t.elT[1])?t.elT[1]:"[error]";return r+=(n=n||t.calls)+" calls\t\t"+s+"ms\t\tavg: "+o+"ms\t\ttot: "+a+"ms\t\t"+i+"\n"},clear_console:function(){void 0!==console._commandLineAPI?console.API=console._commandLineAPI:void 0!==console._inspectorCommandLineAPI?console.API=console._inspectorCommandLineAPI:void 0!==console.clear&&(console.API=console),console.API.clear()},firstBy:function(){function e(e){return e}function t(e){return"string"==typeof e?e.toLowerCase():e}function n(n,r){if(r="number"==typeof r?{direction:r}:r||{},"function"!=typeof n){var i=n;n=function(e){return e[i]?e[i]:""}}if(1===n.length){var a=n,o=r.ignoreCase?t:e;n=function(e,t){return o(a(e))<o(a(t))?-1:o(a(e))>o(a(t))?1:0}}return-1===r.direction?function(e,t){return-n(e,t)}:n}function r(e,t){return(e=n(e,t)).thenBy=i,e}function i(e,t){var i=this;return e=n(e,t),r((function(t,n){return i(t,n)||e(t,n)}))}return r}(),unique_key:function(){return Math.random().toString(16).slice(2)+(new Date).getTime()},reg:{html_tag:function(e){var t=e.tag,n=e.capParts?"(":"",r=e.capParts?")":"";return n+"<\\s*("+t+")[^>]*>"+r+n+"(?:[\\s\\S]*?)"+r+n+"<\\s*\\/\\s*(?:\\"+e.closeTagCap+")>"+r},html_att:function(e){return"("+e.att+")=(['\"]+)(?:[\\s\\S]*?)(?:['\"]+)"},builder_html_atts:function(e){return"("+e.att+")=(['\"]+)(?:[\\s\\S]*?)(?:['\"]+)"}},truncate_html_string:function(t,n,r,i,a,o){return t=t.replace(/(?=<!--)([\s\S]*?)-->/gm,""),n&&(t=t.replace(new RegExp(e.reg.html_tag({tag:n.join("|"),closeTagCap:"1"}),"gm"),"<$1>(MT truncated)</$1>")),r&&(t=t.replace(new RegExp(e.reg.html_att({att:r.join("|")}),"gm"),'$1="(MT truncated)"')),i&&(a=a||"",t=t.replace(i,a)),t},add_pseudo_placeholders_to_html_string:function(t,n,r){e.startT(arguments);var i=e.parse(t,{},{tagIndex:-1,data:{}}),a={traverseBackwards:1,data:{pseudoCount:0,pseudoCheckCount:0,hasPseudo:n},cb:{tag:[{f:e.remove_mt_ignore_and_subsequent,a:[r]},{f:e.add_pseudos}]}};return e.traverse(0,i,a),t=e.stringify(i),e.endT(arguments),t},get_all_matches:function(e,t,n,r){n=n||0;for(var i,a=[],o=(r=r||{}).autoIncrement;i=t.exec(e);){var s=i[n]?i[n]:i[n+1];void 0===s&&void 0!==o&&"[]"===i[0]&&(s=o);var l=r.itemObj?{value:s,start:i.index,end:i.index+s.length,match:i}:s;a.push(l)}return a},beautifyHTMLOpts:{html:{no_preserve_newlines:!0,max_preserve_newlines:0,indent_inner_html:!0,indent_handlebars:!0,indent_size:2,wrap_line_length:0,inline:[],extra_liners:[],unformatted:[],content_unformatted:[]}},mtArtificalClassRegex:function(){let e="(?:\\s*(?:tvr-hover-element|tvr-trigger-el|tvr-element-overlay)){0,3}\\s*",t='\\s*class="'+e+'"|'+e.replace("{0,3}","{1,3}");return new RegExp(t,"g")},formatHTMLString:function(t,n,r,i,a){e.startT(arguments),t=t.replace(e.mtArtificalClassRegex(),""),t=e.truncate_html_string(t,["noscript","script","style"],!1,n.pattern,n.repl);return t=(t=(t=i(t=e.add_pseudo_placeholders_to_html_string(t,r,a),e.beautifyHTMLOpts)).replace(/<mtphtagtext>([\s\S]+?)<\/mtphtagtext>/g,"$1")).replace(/<mtphtag(::)?(.+?)\/>/g,"$1$2"),e.endT(arguments),t},beautifyHTMLString:function(t){return self.html_beautify(t,e.beautifyHTMLOpts)},voidElements:{area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,source:1,track:1,wbr:1},noPseudo:{mtbefore:1,mtafter:1,html:1,head:1,title:1,meta:1,link:1,script:1,style:1,path:1,select:1,option:1,defs:1,filter:1,feColorMatrix:1,feComponentTransfer:1,feFuncR:1,feFuncG:1,feFuncB:1,feFuncA:1,feComposite:1},parseTag:function(t,n){++n.tagIndex;var r=e.voidElements,i=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;return function(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},a=e.match(/<\/?([^\s]+?)[/\s>]/);if(a&&(t.name=a[1],t.i=n.tagIndex,(r[a[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var o=e.indexOf("--\x3e");return{type:"comment",comment:-1!==o?e.slice(4,o):""}}for(var s=new RegExp(i),l=null;null!==(l=s.exec(e));)if(l[0].trim())if(l[1]){var c=l[1].trim(),u=[c,""];c.indexOf("=")>-1&&(u=c.split("=")),t.attrs[u[0]]=u[1],s.lastIndex--}else l[2]&&(t.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1));return t}(t)},parse:function(t,n,r){var i=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,a=/^\s*$/,o=Object.create(null);return function(t,n,r){n||(n={}),n.components||(n.components=o);var s,l=[],c=[],u=-1,d=!1;if(0!==t.indexOf("<")){var p=t.indexOf("<");l.push({type:"text",content:-1===p?t:t.substring(0,p)})}return t.replace(i,(function(i,o){if(d){if(i!=="</"+s.name+">")return;d=!1}var p,f="/"!==i.charAt(1),h=i.startsWith("\x3c!--"),_=o+i.length,g=t.charAt(_);if(h){var m=e.parseTag(i,n,r);return u<0?(l.push(m),l):((p=c[u]).children.push(m),l)}if(f&&(u++,"tag"===(s=e.parseTag(i,r)).type&&n.components[s.name]&&(s.type="component",d=!0),s.voidElement||d||!g||"<"===g||s.children.push({type:"text",content:t.slice(_,t.indexOf("<",_))}),0===u&&l.push(s),(p=c[u-1])&&p.children.push(s),c[u]=s),(!f||s.voidElement)&&(u>-1&&(s.voidElement||s.name===i.slice(2,-1))&&(u--,s=-1===u?l:c[u]),!d&&"<"!==g&&g)){p=-1===u?l:c[u].children;var v=t.indexOf("<",_),y=t.slice(_,-1===v?void 0:v);a.test(y)&&(y=" "),(v>-1&&u+p.length>=0||" "!==y)&&p.push({type:"text",content:y})}})),l}(t,n,r)},stringify:function(e){function t(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(t,"")+"</"+n.name+">";case"comment":return e+="\x3c!--"+n.comment+"--\x3e"}}return e.reduce((function(e,n){return e+t("",n)}),"")},traverse:function(t,n,r,i){var a,o=n.length;if(r.traverseBackwards)for(a=o-1;a>=0;a--)s(a,t,n,r,i);else for(a=0;a<o;a++)s(a,t,n,r,i);function s(t,n,r,i,a){var o=r[t],s={};if(i.arrKey=t,"tag"===o.type){if((s=e.maybe_run_callbacks("tag",o,i,a)).continue)return!0;o.children&&!s.skipChildren&&(++n,e.traverse(n,o.children,i,o),--n)}}},maybe_run_callbacks:function(t,n,r,i){var a=e.checkObject(r,["cb",t]),o={};if(a)for(var s=0;s<a.length;s++){var l=a[s],c=[n,r,i];if(c=l.a?c.concat(l.a):c,(o=l.f.apply(this,c||[]))&&o.continue)return o}return o||{}},pseudos:["after","before"],remove_mt_ignore_and_subsequent:function(t,n,r,i){var a=!1;return n.mtStuffRemoved||("mt-stuff-ignore"===e.checkObject(t,["attrs","id"])?(r.children.splice(n.arrKey,1),n.mtStuffRemoved=1,a=!0):i||"html"===t.name||"body"===t.name||(r.children.splice(n.arrKey,1),a=!0)),{continue:a}},add_pseudos:function(t,n,r){var i=e,a=i.pseudos,o=t.name;if(!t.isPH&&!i.voidElements[o]&&!i.noPseudo[o]){n.data.pseudoCheckCount++;for(var s=0;s<a.length;s++){var l=a[s];if(e.checkObject(n,["data","hasPseudo",t.i,l])){n.data.pseudoCount++;var c=t.children,u={name:"mtphtag::"+l,type:"tag",voidElement:1,isPH:1};e.convert_text_node_to_placeholder_tag(t,l),"before"===l?c.unshift(u):c.push(u)}}}},convert_text_node_to_placeholder_tag:function(e,t){for(var n=e.children,r=n.length-1;r>=0;r--){var i=n[r];"text"!==i.type||i.content.match(/^\s*$/)||(n[r]={name:"mtphtagtext",type:"tag",children:[i],voidElement:!1})}},eq_str:function(e){let t=25-name.length,n="";t=t>0?t:1;for(let e=t;e>=0;e--)n+="=";return n},getCallbacks:function(e,t){return e.cbs[t]||[]},maybeLoopSelectors:function(t,n,r,i){t.cbs.selector&&Object.entries(n).forEach((([a,o])=>{if("this"!==a){t.trail=e.get_js_object_data([r,a],i,!1,!0).levels,t.selector=o,t.selector_key=a;let s=t.targetSelector===a;(t.allSelectors||s)&&t.cbs.selector.forEach((e=>{e.item.apply(this,[t,n,r,i,a,o])}))}}))},loopUiData:function(t,n,r){let i=(n=n||TvrUi.uiData).non_section.m_query,a=i?Object.keys(i):[];return t.existingCSS||(t.existingCSS=""),t.recurse||(t.recurse={mq_key:"all-devices"}),Object.entries(n).forEach((([n,o])=>{if("non_section"!==n){t.trail=[n],t.section=o,t.section_key=n,t.recurse.mq_key="all-devices";let s=t.targetSection===n;(t.allSections||s||t.loadingSections&&t.loadingSections[n])&&(r&&"all-devices"!==r||(e.getCallbacks(t,"section").forEach((e=>{e.item.apply(this,[t,o,n,"all-devices"])})),e.maybeLoopSelectors(t,o,n,"all-devices")),t.skipMediaQueries||a.forEach((a=>{let o=e.checkObject(i,[a,n]);t.trail=e.get_js_object_data([n],a,!1,!0).levels,(o&&!r||r===a)&&(t.recurse.mq_key=a,e.getCallbacks(t,"mq").forEach((e=>{e.item.apply(this,[t,o,n,a])})),e.maybeLoopSelectors(t,o,n,a))})))}})),t},db:{dbInstance:null,isInitialized:!1,async init(e="settingsDB",t="settings"){if(!this.isInitialized||!this.dbInstance?.objectStoreNames.contains(t))return new Promise(((n,r)=>{const i=i=>{const a=indexedDB.open(e,i);a.onupgradeneeded=e=>{const n=e.target.result;n.objectStoreNames.contains(t)||n.createObjectStore(t,{keyPath:"id"})},a.onsuccess=e=>{this.dbInstance=e.target.result,this.isInitialized=!0,n()},a.onerror=e=>{console.error("IndexedDB initialization error:",e.target.error),r(e.target.error)}},a=indexedDB.open(e);a.onsuccess=e=>{const r=e.target.result;if(r.objectStoreNames.contains(t))this.dbInstance=r,this.isInitialized=!0,n();else{const e=r.version+1;r.close(),i(e)}},a.onerror=e=>{console.error("Error checking IndexedDB version:",e.target.error),r(e.target.error)}}))},async ensureInitialized(){this.isInitialized||await this.init()},async save(e,t){return await this.ensureInitialized(),new Promise(((n,r)=>{const i=this.dbInstance.transaction([e],"readwrite").objectStore(e).put(t);i.onsuccess=()=>n(t),i.onerror=e=>{console.error("Error saving data:",e.target.error),r(e.target.error)}}))},async get(e,t){return await this.ensureInitialized(),new Promise(((n,r)=>{const i=this.dbInstance.transaction([e],"readonly").objectStore(e).get(t);i.onsuccess=e=>n(e.target.result),i.onerror=e=>{console.error("Error retrieving data:",e.target.error),r(e.target.error)}}))},async delete(e,t){return await this.ensureInitialized(),new Promise(((n,r)=>{const i=this.dbInstance.transaction([e],"readwrite").objectStore(e).delete(t);i.onsuccess=()=>n(t),i.onerror=e=>{console.error("Error deleting data:",e.target.error),r(e.target.error)}}))},async clear(e){return await this.ensureInitialized(),new Promise(((t,n)=>{const r=this.dbInstance.transaction([e],"readwrite").objectStore(e).clear();r.onsuccess=()=>t(),r.onerror=e=>{console.error("Error clearing data:",e.target.error),n(e.target.error)}}))}}};return e}(),jQuery(document).ready((function(e){TvrMT.TvrCom=function(){var t,n,r,i,a,o={set_vars:function(){t=TvrMT.TvrUi,n=TvrMT.MTF,TvrMT.mod.MTsave,TvrMT.mod.MTgrid,i=TvrMT.mod.MTlayout,r=TvrMT.mod.MTdd,TvrMT.mod.MTace,TvrMT.mod.MTfolder,TvrMT.mod.MTloop,a=TvrMT.mod.MThtml},specificity:{},get_specifcity:function(e){var t=o.specificity.calculate(e);return parseInt(t[0].specificity.split(",").join(""))},init_specificity:function(){var e,t,n;o.specificity=(e=function(e){var n,r,i,a,o=[];for(i=0,a=(n=e.split(",")).length;i<a;i+=1)(r=n[i]).length>0&&o.push(t(r));return o},t=function(e){var t,n=e,r={a:0,b:0,c:0},i=[];return t=function(t,a){var o,s,l,c,u,d;if(t.test(n))for(s=0,l=(o=n.match(t)).length;s<l;s+=1)r[a]+=1,c=o[s],u=n.indexOf(c),d=c.length,i.push({selector:e.substr(u,d),type:a,index:u,length:d}),n=n.replace(c,Array(d+1).join(" "))},function(){var e=function(e){var t,r,i,a;if(e.test(n))for(r=0,i=(t=n.match(e)).length;r<i;r+=1)a=t[r],n=n.replace(a,Array(a.length+1).join("A"))};e(/\\[0-9A-Fa-f]{6}\s?/g),e(/\\[0-9A-Fa-f]{1,5}\s/g),e(/\\./g)}(),function(){var e=/:not\(([^\)]*)\)/g;e.test(n)&&(n=n.replace(e,"     $1 "))}(),function(){var e,t,r,i,a=/{[^]*/gm;if(a.test(n))for(t=0,r=(e=n.match(a)).length;t<r;t+=1)i=e[t],n=n.replace(i,Array(i.length+1).join(" "))}(),t(/(\[[^\]]+\])/g,"b"),t(/(#[^\s\+>~\.\[:]+)/g,"a"),t(/(\.[^\s\+>~\.\[:]+)/g,"b"),t(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,"c"),t(/(:[\w-]+\([^\)]*\))/gi,"b"),t(/(:[^\s\+>~\.\[:]+)/g,"b"),n=(n=n.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),t(/([^\s\+>~\.\[:]+)/g,"c"),i.sort((function(e,t){return e.index-t.index})),{selector:e,specificity:"0,"+r.a.toString()+","+r.b.toString()+","+r.c.toString(),specificityArray:[0,r.a,r.b,r.c],parts:i}},n=function(e,n){var r,i,a;if("string"==typeof e){if(-1!==e.indexOf(","))throw"Invalid CSS selector";r=t(e).specificityArray}else{if(!Array.isArray(e))throw"Invalid CSS selector or specificity array";if(4!==e.filter((function(e){return"number"==typeof e})).length)throw"Invalid specificity array";r=e}if("string"==typeof n){if(-1!==n.indexOf(","))throw"Invalid CSS selector";i=t(n).specificityArray}else{if(!Array.isArray(n))throw"Invalid CSS selector or specificity array";if(4!==n.filter((function(e){return"number"==typeof e})).length)throw"Invalid specificity array";i=n}for(a=0;a<4;a+=1){if(r[a]<i[a])return-1;if(r[a]>i[a])return 1}return 0},{calculate:e,compare:n})},deepClone:function(t,n){let r=n?[]:{};return e.extend(!0,r,t)},loadJSFile:function(e,t,n){var r=(n=n||document).createElement("script");r.src=e,t&&(r.onload=function(){t.item.apply(this,t.args||[])}),n.head.appendChild(r)},scroll_to:function(e){var t;e.offset?t=e.offset:void 0!==e.relative?t=e.scrollDiv[0].scrollTop+e.relative:e.bottom?t=e.scrollDiv[0].scrollHeight:e.top&&(t=0),e.scrollDiv.scrollTop(t)},compareVersions:function(e,t){var n,r;n="object"!=typeof e?e.toString().split("."):e,r="object"!=typeof t?t.toString().split("."):t;for(var i=0;i<Math.max(n.length,r.length);i++){if(n[i]=void 0===n[i]?0:Number(n[i]),r[i]=void 0===r[i]?0:Number(r[i]),n[i]>r[i])return 1;if(n[i]<r[i])return-1}return 0},getElPosRelToContainer:function(e,t){var n=t[0].getBoundingClientRect();return e[0].getBoundingClientRect().top-n.top+t[0].scrollTop},offsets_match:function(e,t,n){return e.left===t.left&&e.top===t.top},dimensions_match:function(e,t,n){return e.outerWidth===t.outerWidth&&e.outerHeight===t.outerHeight},apply_offset:function(e,t){var n=e.top,r=e.left,i=e.bottom,a=e.right,s={top:o.isNumeric(n)?n+"px":n,left:o.isNumeric(r)?r+"px":r,bottom:o.isNumeric(i)?i+"px":i,right:o.isNumeric(a)?a+"px":a};t.css(s)},clearSelection:function(e,t){if(e.getSelection){let t=e.getSelection();t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())}else t.selection&&t.selection.empty()},hasValue:function(e){return!!e},obj_length:function(e,t){if(t=t||{},!e||!o.check_type(e,["object"]))return-1;var n,r,i=0;for(n in e)if(e.hasOwnProperty(n)){if(t.exclKey===n||t.exclIfDraft&&(e[n].isDraft||e[n].isDraftRetarget))continue;r=n,i++}return i&&t.returnLastKey?r:i},date_format:function(e,t){var n=e.getDate(),r=e.getMonth()+1,i=e.getFullYear();switch(n<10&&(n="0"+n),r<10&&(r="0"+r),t){case"mysql":return i+"-"+r+"-"+n;case"en":return n+"/"+r+"/"+i}},isDomEl:function(e,t,n){return n=n||document,!!(o.hasValue(e)&&e.prop&&e.prop("tagName"))&&(!t||n.contains(e[0]))},get_tagName:function(e){if(!o.isDomEl(e))return"";var t=e.prop("tagName");return o.isDefined(t)?t.toLowerCase():""},trim:function(e,t){return o.rtrim(o.ltrim(e,t),t)},ltrim:function(e,t){return e.replace(new RegExp("^(?:([\\s"+t+"]+))","i"),"")},rtrim:function(e,t){return e.replace(new RegExp("(?:([\\s"+t+"]+)$)","i"),"")},remove_last_linebreak:function(e){return e?this.rtrim(e,"\n"):e},remove_only_last_char:function(e,t){return e.replace(new RegExp("(?:("+t+"\\s*)$)","i"),"")},last_char_uppercase:function(e,t){return t=t||"xyz",e.replace(new RegExp("(["+t+"])$","i"),(function(e){return e.toUpperCase()}))},has_protocol:function(e){return e.match(/((?:[a-z]+:)?\/\/)/i)},domain_matches:function(e){return e.indexOf(t.homeUrl)>-1},get_root_domain:function(e){var t=document.createElement("a");return t.href=e,t.protocol+t.hostname},isExternalUrl:function(e){var t=document.createElement("a");return t.href=e,t.hostname!==window.location.hostname},multiple_comma_values:function(e){return(e.match(/,/g)||[]).length},path_without_name:function(e){var t=e.split("/");return t.splice(-1,1),t.length?t.join("/"):""},extract_url_path:function(e,n){var r;if(o.startT(arguments),o.domain_matches(e)||o.has_protocol(e)){var i=n?n.home:t.homeUrl,a=document.createElement("a");a.href=e;var s=a.hostname,l=document.createElement("a");l.href=i;var c=l.hostname;l.port&&(c+=":"+l.port),a.port&&(s+=":"+a.port),c!==s&&(i=i.replace(c,s)).indexOf("http")<0&&(i=a.protocol+i);var u=e.replace(i,"");r="/"+o.ltrim(u,"/")}else r="/"+o.ltrim(e,"/");return o.endT(arguments),r},strip_preview_params:function(e){return e=e.split(/(?:elementor-)?preview=/),this.rtrim(e[0],"?&")},strip_page_builder_and_other_params:function(e){if(!e)return"";for(var t=TvrMT.data.prog.params_to_strip,n=Object.keys(t),r=0;r<n.length;r++){var i=t[r];i.unless&&e.match(i.unless.join("|"))||(e=this.strip_url_param(e,i.param,i.withVal))}return e},strip_url_param:function(e,t,n){t=n?t+"(?:=[a-z0-9]+)?":t;var r=new RegExp("(?:&|\\?)"+t);return(e=e.replace(r,"")).indexOf("&")>-1&&e.indexOf("?")<0&&(e=e.replace("&","?")),e},append_url_param:function(e,t,n,r){if(e.indexOf(t)>-1)return void 0!==n&&r?e.replace(RegExp(t+"=(a-zA-Z0-9_)+"),t+"="+n):e;var i=e.indexOf("?")>-1?"&":"?";return e+i+(t=n?t+"="+n:t)},force_fresh_url:function(e){var t=e.indexOf("?")>-1?"&":"?";return e+t+"no_cache="+(new Date).getTime()},stripURLProtocol:function(e){return e.replace(/https?:/,"")},simpler_media_query_label:function(e){return e.replace(/@media\s?|\(|\)/gi,"")},ucwords:function(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,(function(e){return e.toUpperCase()}))},capitalizeFL:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},readable_name:function(e){return e.replace(/[_-]/g," ")},maybe_to_hex:function(e){if(!o.hasValue(e))return e;if((e=e.toString()).indexOf("rgb")<0)return e;if(e.indexOf("rgba(0, 0, 0, 0)")>-1)return e.replace(/rgba\(0, 0, 0, 0\)/g,"transparent");var n="rgb",r=/(.*?)rgb\((\d+), (\d+), (\d+)\)/,i=/rgb\(.+[^\)]\)/g;e.indexOf("rgba")>-1&&(n="rgba",r=/(.*?)rgba\((\d+), (\d+), (\d+), (\d+(\.\d+)?)\)/,i=/rgba\(.+[^\)]\)/g);var a=e.split(n),s="";for(var l in a)if(a.hasOwnProperty(l)&&a[l]&&o.hasValue(a[l])&&("string"==typeof a[l]||a[l]instanceof String)&&a[l].indexOf("function")<0)if(l>0){var c=n+a[l],u=r.exec(c);if(!u)return e;var d=parseInt(u[2]),p=parseInt(u[3]),f=parseInt(u[4]),h=!1;if(o.hasValue(u[5])&&"rgba"==n&&(h=parseFloat(u[5]),o.hasValue(h)&&(h=h.toFixed(2))),1!=t.pref.color_as_hex){var _=n+"("+d+", "+p+", "+f;return _+="rgba"==n?", "+h:"",_+=")"}var g="#"+((1<<24)+(d<<16)+(p<<8)+f).toString(16).slice(1);c=c.replace(i,g),h&&"rgba"==n&&(c+=" ("+h+" opacity)"),s+=c}else s+=a[l];return s},pipes_to_array:function(e){o.startT(arguments);for(var t=[],n=e.attr("rel").split("|"),r=n.length,i=0;i<r;++i){var a=n[i].split(",");t[a[0]]=parseInt(a[1])}return o.endT(arguments),t},print_r:function(e,t){var n=t||"",r="[object Array]"===Object.prototype.toString.call(e),i=r?"Array\n"+n+"[\n":"Object\n"+n+"{\n";for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l="";switch(Object.prototype.toString.call(s)){case"[object Array]":case"[object Object]":l=o.print_r(s,n+"\t");break;case"[object String]":l="'"+s+"'";break;default:l=s}i+=n+"\t"+a+" => "+l+",\n"}return i=i.substring(0,i.length-2)+"\n"+n,r?i+"]":i+"}"},extract_str:function(e,t){var n;if(o.startT(arguments),"gradient"==e)if((n=t.split("linear-"))[0].indexOf("gradient")>=0)var r=n[0];else if(n[1]&&n[1].indexOf("gradient")>=0)r=n[1];else r="";"bg-image"==e&&(r=(n=t.split("linear-"))[0].indexOf("url")<0?"none":o.basename(n[0]).replace(/\)?"/,""));return o.endT(arguments),r},stringify_object:function(e,t){return e&&(!t&&o.obj_length(e)>0||e.length)?JSON.stringify(e):""},replace_all_matches:function(e,t,n){if(o.startT(arguments),Array.isArray(t)&&Array.isArray(n))for(var r in t)t.hasOwnProperty(r)&&(e=e.replace(t[r],n[r]));else if(Array.isArray(t)&&!Array.isArray(n))for(var r in t)t.hasOwnProperty(r)&&(e=e.replace(t[r],n));else if(!Array.isArray(t)&&Array.isArray(n))for(var r in n)n.hasOwnProperty(r)&&(e=e.replace(t,n[r]));else e=e.replace(new RegExp(t,"g"),n);return o.endT(arguments),e},isInteger:function(e){return(0^e)===e},basename:function(e){return o.hasValue(e)?e.split(/[\\/]/).pop().replace(")",""):e},root_rel:function(e,n){var r=new RegExp("(?:https?:)?"+t.homeUrl,"i");return e.replace(r,"")},root_rel_if_local:function(e,n){if(e.indexOf(t.siteUrl)>-1&&!parseInt(t.pref.abs_image_paths)&&!TvrMT.integrate.gutenberg){let r=o.root_rel(e,t.siteUrl);return!n||o.fileExists(r)?r:e}return e},scroll_input_end:function(e){e.get(0).scrollLeft=e.get(0).scrollWidth},pseudo_str_to_arr:function(e){return e.match(/::?([^: ])+/gi)},strip_pseudo:function(e){return e.replace(/::?([^: ])+/gi,"")},strip_state_pseudo:function(e){return e.replace(/::?(active|after|before|checked|disabled|enabled|focus|hover|in-range|invalid|link|out-of-range|valid|visited)+/gi,"")},get_pseudo_el:function(e){return e.match(/::?(before|after|first-(?:line|letter)|selection)+$/gi)},get_before_after:function(e,t){return o.regex(r.reg.trailing_before_after(),{match:1,str:e,capture:t})},get_pseudo_class:function(e){return e.match(/:(?!before|after|first-(?:line|letter)|selection)[a-z-]+$/gi)},regex:function(e,t){var n=(t=t||{}).flags||"",r=new RegExp(e,n);if(t.match){if(void 0===t.capture)return t.str.match(r);var i=t.str.match(r);return!!i&&i[t.capture]}return t.replace?t.str.replace(r,t.replace):r},escapeRegExp:function(e){return e?e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):e},combine_array_values:function(e,t,n){if(!e)return!1;for(var r="",i=0;i<e.length;i++)r+=t?e[i][t]:e[i],n&&(r+=n);return n&&(r+=o.rtrim(r,n)),r},new_name_checks:function(n,r,i){if(o.isNumeric(n))return alert("Plain numbers are not permitted as names. Please use some letters too."),!1;if("folder"==r)var a=e("#tvr-menu"),s=".section-name";else if("selector"==r)a=i||t.meta.sectionM,s=".selector-name";else if("item"==r)a=t.dyn_meta.menu,s=".dyn-item";if(o.duplicates(n,a,s)){switch(r){case"folder":alert(TvrLang.already_exists_folder);break;case"selector":alert(TvrLang.already_exists_selector);break;default:alert(tvrsprintf(TvrLang.already_exists_misc,r))}return!1}if(""==n||"folder"==r&&n==TvrLang.new_folder){switch(r){case"folder":alert(TvrLang.enter_folder_name);break;case"selector":alert(TvrLang.enter_selector_name);break;default:alert(tvrsprintf(TvrLang.enter_name_misc,r))}return o.endT(arguments),!1}return{newNameHuman:n,newName:o.convert_to_param(n)}},duplicates:function(n,r,i,a){var s=!1,l=o.convert_to_param(n);if(".selector-name"===i){var c=t.get_meta(r,"section").sectionSlug,u=t.uiData[c];for(var d in u)if(u.hasOwnProperty(d)&&"this"!==d){if(a&&"strk-"+c+"-"+d===a)return!0;if(d===l)return!0}}else r.find(i).find(".name-text").each((function(){o.convert_to_param(e(this).text())===l&&(s=!0)}));return s},duplicates_old:function(t,n,r,i){o.startT(arguments);var a=!1;return n.find(r).find(".name-text").each((function(){if(i&&e(this).closest(".selector-tag").attr("id")===i)return!0;o.convert_to_param(e(this).text())===o.convert_to_param(t)&&(a=!0)})),o.endT(arguments),a},resolve_unique_name:function(e,t,n,r,i){if(o.duplicates(e,t,n,i)){var a=1;do{var s;if(r){var l=new RegExp(r+" \\d+$");e.match(l)?(1===a&&(a=2),s=e.replace(l,r+" "+a)):s=e+" "+r+" "+a}else 1===a&&(a=2),s=e+" "+a;++a}while(o.duplicates(s,t,n,i));return s}return e},config_obj_to_string:function(e,t,n,r){t=t||"MT",r=r||{};var i=[];for(var a in e)e.hasOwnProperty(a)&&o.isDefined(e[a])&&!r[a]&&i.push(a+": "+e[a]);return n?i.join(n):t+" [ "+i.join(" | ")+" ]"},kebab_to_camel_case:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},config_string_to_obj:function(e){if(!e)return e;for(var n=e.split("|"),r={},i=!1,a=/(.+?)\[(\d+)]$/,s=0;s<n.length;s++){var l=n[s].split(/^([^:]+):(.+)/),c=l[1],u=l[2];if(c&&u){c=c.trim(),u=u.trim();let e=c.match(a);if(e||o.in_array(c,t.cssProps.html.map((e=>e.prop)))&&(e=(c+="[0]").match(a)),e){c=e[1];let t=e[2];r[c]||(r[c]=[]),r[c][t]=u}else r[c]=u;i=!0}}return!!i&&r},getMaxArrLength:function(e){let t=0;return Object.keys(e).forEach((n=>{let r=e[n].length;r>t&&(t=r)})),t},convert_to_param_old:function(e){return o.startT(arguments),e=(e=e.replace(/[^a-zA-Z0-9 ]+/g,"").replace("/ {2,}/"," ")).replace(/ /g,"_").toLowerCase(),o.endT(arguments),e},convert_to_param:function(e,t){void 0===t&&(t="unicode");var n=e.trim().replace("/ {2,}/"," ");return e=(e=(e=o.replaceMatchingChars(n,/[^a-zA-Z0-9_ ]+?/g,t)).replace(/ /g,"_").toLowerCase()).replace(/__/g,"_")},replaceMatchingChars:function(e,t,n){return t=t||/[\s\S]/g,e.replace(t,(function(e){return"unicode"===n?o.charToUnicode(e):""}))},charToUnicode:function(e){var t=e.charCodeAt().toString(16),n=t.length>2;return(n?"u":"x")+("0000"+t).slice(n?-4:-2)},custom_escape_quotes:function(e){return e.replace(/"/g,"cus-quot;").replace(/'/g,"cus-#039;")},escapeHTML:function(e){return o.hasValue(e)?e=e.replace(/&[^(#\d+;|a-z+;)]/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},escapeSpecialText:function(e,t="textString",n=!1){let r=e;if("htmlString"===t){const t=(new DOMParser).parseFromString(e,"text/html");if(t.querySelector("parsererror"))throw new Error("Invalid HTML string provided.");r=t.body.innerHTML}else{const t=document.createElement("div");t.textContent=e,r=t.textContent}return n&&(r=this.escapeAttribute(r)),r},custom_to_non_escaped:function(e){return e?e.replace(/cus-quot;/g,'"').replace(/cus-#039;/g,"'"):e},regular_escape_quotes:function(e){return o.isDefined(e)?e.replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},regular_escaped_to_non_escaped:function(e){return e.replace(/&quot;/g,'"').replace(/&#039;/g,"'")},jquery_escape_quotes:function(e){return e.replace(/"/g,'\\"').replace(/'/g,"\\'")},jquery_escaped_to_non_escaped:function(e){return e.replace(/\\"/g,'"').replace(/\\'/g,"'")},strip_quotes:function(e){return e?e.replace(/['"]/g,""):""},escape_backslashes:function(e,t){return t?e.replace(/%5C/g,"%26%2392%3B"):e.replace(/\\/g,"&#92;")},prop_to_cssf:function(e){return e.replace(/_/g,"-")},cssf_to_prop:function(e){return e.replace(/-/g,"_")},embolden_matched_text:function(e,t){return e?e.replace(new RegExp("("+o.escapeRegExp(t)+")","ig"),"<b>$1</b>"):t},custom_to_regular_escape:function(e){return e.replace(/cus-/g,"&")},sane_decimal:function(e,t){if(o.hasValue(e)&&("string"==typeof e||e instanceof String)&&-1!==e.indexOf("px")&&-1!==e.indexOf(".")&&e.indexOf("rgb")<0&&e.indexOf("calc")<0){var n=e.split(" "),r=[];t=t||0;for(var i=0;i<n.length;i++){var a=n[i].split("px");r.push(parseFloat(a[0]).toFixed(t)+"px")}return r.join(" ")}return e},replace_decimals:function(e,t){return e=e.replace(/\d+(\.\d*)|\.\d+/,(function(e,n,r,i){return parseFloat(e).toFixed(t)}))},getJQueryVersion:function(e,t){return e.split(".").map((function(e){return("0"+e).slice(-2)})).join(".").toString()},in_array:function(e,t,n,r){if(!Array.isArray(t))return!1;for(var i in t)if(t.hasOwnProperty(i)&&(t[i]===e||n&&e&&e.indexOf(t[i])>-1||r&&t[i][r]===e))return i;return!1},join_object_properties_in_array:function(e,t,n){return t.map((function(t){return t[e]})).join(n)},flatten:function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?o.flatten(t):t)}),[])},obj_index:function(e,t,n){var r=-1,i=!1;for(var a in t)if(t.hasOwnProperty(a)&&++r==e){if(a!=n){i=t[a];break}++e}return i},editArray:function(e,t,n){var r=e.indexOf(t);return-1!==r&&("remove"===n?e.splice(r,1):"prevItems"===n?e=e.slice(0,r):"prevItemsIncCurrent"===n?e=e.slice(0,r+1):"nextItems"===n?e=e.slice(r+1):"nextItemsIncCurrent"===n&&(e=e.slice(r))),e},count_array_item:function(e,t,n,r){e=void 0===e?0:e;for(var i=0;i<n.length;i++)t===n[i]&&++e;return e},compare_array_values:function(e,t,n,r){var i={};e=e||[],t=t||[];for(var a=0;a<e.length;a++){var s=e[a];o.count_array_item(i[s],s,e)>o.count_array_item(0,s,t)&&r.push({action:n,value:s,form:1!==s?"declaration":"instance"}),i[s]=void 0!==i[s]?i[s]-1:-1}},callStack:function(e,t){if(TVR_DEV_MODE||t){e=e||10;for(var n=arguments.callee.caller,r=arguments.callee.caller.name,i=[],a=0;a<e;a++){if(n.name&&n.name!==r){let e="Call stack ("+r+") "+a+" "+n.name;t?i.push(e):console.log(e)}if(!n.caller)break;n=n.caller}}return i},updateIf:function(e,t,n,r,i){var a=this.checkObject(t,n);(a&&"exits"===e||void 0===a&&"undefined"===e)&&this.updateObject(t,n,r,i)},orderObject:function(e){if(o.check_type(e,["array"]))return e;var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),t},joinObjectOrArray:function(e,t){return(o.check_type(e,["array"])?e.join(t):Object.values(this.orderObject(e)).join(t)).trim()},objectToArray:function(e,t){if(o.check_type(e,["array"]))return e;var n=this.orderObject(e);if(!t)return Object.values(n);var r=[];for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r},safe_to_use_array:function(e,t,n,r,i){var a=parseInt(t);return a!==r.sectionIndex&&a!==r.selectorIndex&&!(!this.isNumeric(e[parseInt(t)+1])||!(i&&i.isArraySafe||this.inside_valid_array_structure(r)))},inside_valid_array_structure:function(e){for(var t=["important","styles","pg_disabled","pgtab_disabled","griditems","value","mods"],n=0;n<t.length;n++){if(e[t[n]])return!0}return!1},replace_variable_name_attr:function(e,t){return e.replace(/(.+)\[\d\]$/,"$1["+t+"]")},get_array_or_object_keys:function(e){var t=[];if("object"===o.check_type(e,["array","object"]))return Object.keys(e);for(var n=0;n<e.length;n++)o.isDefined(e[n])&&t.push(n);return t},get_name_attr_index:function(e){var t=e.match(/\[(\d)\]$/);return!!t&&parseInt(t[1])},updateObject:function(n,r,i,a){o.startT(arguments);var s,l={m_query:!1,styles:!1,pg_disabled:!1,important:!1};for(var c in r)if(r.hasOwnProperty(c)){var u=r[c],d=c<r.length-1;"styles"===u?l.styles=!0:"m_query"===u?(l.m_query=!0,l.sectionIndex=parseInt(c)+2,l.selectorIndex=parseInt(c)+3):"important"===u?(l.important=!0,l.sectionIndex=parseInt(c)+1,l.selectorIndex=parseInt(c)+2):"pg_disabled"===u?l.pg_disabled=!0:"value"===u?l.value=!0:"griditems"===u?l.griditems=!0:"mods"===u&&(l.mods=!0),(!n.hasOwnProperty(u)||d&&n[u]!==Object(n[u]))&&(n[u]=this.safe_to_use_array(r,c,u,l,a)?[]:{}),d&&n[u]===Object(n[u])&&(n=n[u])}if(a){var p=r[c];switch(a.action){case"replace":n[p]=i;break;case"delete":delete n[p][a.key];break;case"append":n[p][a.key]=i;break;case"reorder":r.length?n[p]=this.order_item_properties(n[p],a.order):t.uiData=this.order_item_properties(n,a.order);break;case"array_merge":e.extend(!1,n[p],i);break;case"array_merge_recursive_distinct":r.length?e.extend(!0,n[p],i):e.extend(!0,n,i);break;case"join_string":case"replace_string":"object"==typeof(s=n[p])&&(s=""),o.isDefined(s)?"join_string"===a.action?n[p]=s+a.joinChar+i:"replace_string"===a.action&&(n[p]=s.replace(a.replacePattern,a.replaceValue)):n[p]=a.ifUndefined}}else n[r[c]]=i;o.endT(arguments)},order_item_properties:function(e,t,n,r){for(var i={},a=0;a<t.length;a++){var s=t[a],l=s===n?r:s,c=e[s];o.isDefined(c)&&(i[l]=c)}return i},check_type:function(e,t){var n=!1;return t&&!o.in_array("array",t)||!Array.isArray(e)?t&&!o.in_array("object",t)||e!==Object(e)?t&&!o.in_array("function",t)||"function"!=typeof e?t&&!o.in_array("string",t)||"string"!=typeof e||(n="string"):n="function":n="object":n="array",n},uniqueArray:function(e){var t=[],n={};for(var r in e){var i=e[r],a=i===Object(i)&&"value"?i.value:i;n[a]||t.push(i),n[a]=1}return t},comboHasInitialCats:function(e,t){return o.isArrayOfObjects(e,t)},isArrayOfObjects:function(e,t){return!!Array.isArray(e)&&e[t=t||0]===Object(e[t])},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return e==parseFloat(e)},isNumeric:function(e){return!isNaN(e)},isOdd:function(e){return o.isNumber(e)&&Math.abs(e)%2==1},check_fake:function(n,r){var i=n.hasClass("mt-toggle-parent"),a=i?n.parent():n;if(r||(r=n.prev()),n.hasClass("fake-radio")){var s=n.closest(".fake-radio-parent"),l=s.find('input[type="radio"]');l.prop("checked",!1),i?s.find(".fake-radio").parent().removeClass("on"):s.find(".fake-radio").removeClass("on"),l.attr("name").indexOf("mt_dark_mode")>-1&&t.toggle_feature(e("#mymtonoffswitch-mt_dark_mode"))}o.isDomEl(r)&&r.prop("checked",!0),a.addClass("on")},uncheck_fake:function(e,t){if(e.hasClass("fake-radio"))return!1;var n=e.hasClass("mt-toggle-parent")?e.parent():e;t||(t=e.prev()),o.isDomEl(t)&&t.prop("checked",!1),n.removeClass("on")},isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},isInterceptedX:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x)},isValidTagName:e=>/^[a-zA-Z][a-zA-Z0-9-]*$/.test(e),isTextSelected:function(e){return"number"==typeof e.selectionStart?0==e.selectionStart&&e.selectionEnd==e.value.length:void 0!==document.selection?(e.focus(),document.selection.createRange().text==e.value):void 0},getTextareaCursorLine:function(e,t){const n=e.value,r=e.selectionStart,i=n.lastIndexOf("\n",r-1)+1,a=n.indexOf("\n",r),s=-1===a?n.length:a,l=n.slice(i,s),c=r-i;let u=l.slice(0,c).trim();return u.trim()||(u=l.slice(c).trim()),t?o.getLastWords(u):u},getLastWords:function(e,t=5){return e.trim().split(/\s+/).slice(-t).join(" ")},mouseIsOverElement:function(e,t,n){n=n||e[0].getBoundingClientRect();var r={x:t.clientX,y:t.clientY,width:1,height:1};return o.isIntercepted(n,r)},open_folder_if_dragging_over:function(n){var r=e(n.target);if("section"!==o.currentlySorting&&r.hasClass("section-tag")){var i=r.find(".folder-icon");o.mouseIsOverElement(i,n)&&!i.hasClass("on")&&t.open_folder(t.get_meta(i,"section"))}},toggle_radio_checkbox:function(n){if(n.hasClass("toggle-checked-folders"))t.toggle_multi_checkboxes(n);else{var r=n.prev(),a=!(n.hasClass("mt-toggle-parent")?n.parent():n).hasClass("on");if(n.data("toggleFeature")&&t.toggle_feature(n),a?o.check_fake(n,r):o.uncheck_fake(n,r),n.data("dyn-tt-root")){let e=a?n.data("neg"):n.data("pos");t.refresh_tt(n,e)}if(n.hasClass("switch-layout-preset")&&i.switch_layout_preset(n),n.hasClass("mt-reporting-permission")){let r=n.data("permission-key"),i=t.pref.reporting.permission,o="error_reporting_disabled",s=t.stat.tvr;a?i[r]=1:delete i[r],i.file||i.data?s.removeClass(o):s.addClass(o),e("#toggle-preview-report-data").hasClass("on")&&t.update_error_report_preview()}}},enable_full_screen:function(){o.startT(arguments),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),t.full_screen_mode=!0,i.toolbar_adjusted()),o.endT(arguments)},disable_full_screen:function(){o.startT(arguments),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),t.full_screen_mode=!1,i.toolbar_adjusted(),o.endT(arguments)},full_screen_changed:function(){i.toolbar_adjusted()},file_extension:function(e){return e.match(/\.([0-9a-z]+)(?:[\?#]|$)/i)},strip_extension:function(e){return e.substr(0,e.lastIndexOf("."))||e},is_image:function(e){o.startT(arguments);var t=o.file_extension(e);return"jpg"==(t=!!t&&t[1])||"jpeg"==t||"gif"==t||"png"==t||"svg"==t},forceReflow:function(e){e.offsetHeight},replaceAt:function(e,t,n,r){return r=r||n.length,e.substr(0,t)+n+e.substr(t+r)},convertUnit:function(){var e,t=document.createElement("test"),n=document.documentElement,r=document.defaultView,i=r&&r.getComputedStyle,a=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,s={},l=[1/25.4,1/2.54,1/72,1/6],c=["mm","cm","pt","pc","in","mozmm"],u=(Math.PI,Math.PI,Math.PI,Math.PI,Math.PI,Math.PI,6);for(n.appendChild(t),i&&(t.style.marginTop="1%",e="1%"===i(t).marginTop);u--;)s[c[u]+"toPx"]=l[u]?l[u]*s.inToPx:d(t,"1"+c[u]);function d(e,t,r,i){r=r||"width";var l,c,u,d=(t.match(a)||[])[2],f="px"===d?1:s[d+"toPx"];if(f||/r?em/i.test(d)&&!i)e=f?e:"rem"===d?n:"fontSize"===r&&e.parentNode||e,f=f||parseFloat(p(e,"fontSize")),u=parseFloat(t)*f;else{if(c=(l=e.style)[r],"%"===d){var h=parseFloat(t),_=parseFloat(t)/100;return"fontSize"===r?parseFloat(p(e.parentNode,r))*_:e["client"+o.capitalizeFL(r)]*h/100}try{l[r]=t}catch(e){return 0}u=l[r]?parseFloat(p(e,r)):0,l[r]=void 0!==c?c:null}return u}function p(t,n){var r,o,s,l,c,u=["paddingTop","paddingBottom","borderTop","borderBottom"],f=4;if("%"===(s=((r=i?i(t)[n]:(o=t.style["pixel"+n.charAt(0).toUpperCase()+n.slice(1)])?o+"px":"fontSize"===n?d(t,"1em","left",1)+"px":t.currentStyle[n]).match(a)||[])[2])&&e)if(/^top|bottom/.test(n)){for(l=(c=t.parentNode||t).offsetHeight;f--;)l-=parseFloat(p(c,u[f]));r=parseFloat(r)/100*l+"px"}else r=d(t,r);else("auto"===r||s&&"px"!==s)&&i?r=0:s&&"px"!==s&&!i&&(r=d(t,r)+"px");return r}return n.removeChild(t),t=void 0,{toPx:d}},getViewPortDimensions:function(t){var n=e(t).width(),r=e(t).height();return{vw:n,vh:r,vmin:n<r?n:r,vmax:n>r?n:r}},iconClasses:function(e){return TvrMT.data.templates.icon_classes.replace(/iconName/g,e)},action_after_repaint(e,t=0,r=null,i=null){if(!r){const e=o.checkObject(n,["stat","win"]);if(!e)return console.warn("action_after_repaint: no valid window context"),!1;r=e}if("function"!=typeof r.requestAnimationFrame)return console.warn("action_after_repaint: window does not support rAF"),!1;let a,s=!1;"number"==typeof i&&i>0&&(a=setTimeout((()=>{s||(s=!0,e.item.apply(this,e.args||[]))}),i)),r.requestAnimationFrame((()=>{r.requestAnimationFrame((()=>{setTimeout((()=>{s||(s=!0,clearTimeout(a),e.item.apply(this,e.args||[]))}),t)}))}))},action_after_timeout:function(e,n,r,i=null){var a=Date.now(),o=a;if(t.timer[e]){var s=t.timer[e].then;if(clearTimeout(t.timer[e].timerID),delete t.timer[e],r.rateLimited){if(a-s>=n)return r.item.apply(i||this,r.args),!0;o=s}}var l=setTimeout((function(){delete t.timer[e],r.item.apply(i||this,r.args)}),n);t.timer[e]={timerID:l,then:o}},cancel_timers:function(e=[],n="include"){Array.isArray(e)&&Object.keys(t.timer).forEach((r=>{const i=e.includes(r);("exclude"===n?!i:i)&&(clearTimeout(t.timer[r].timerID),delete t.timer[r])}))},iterate_string:function(t,n,r,i){var a,o,s=-1;for(e.extend(!0,i,{modifiedStr:t,indexCorrection:0,matchesFound:0,allMatches:[]});a=n.exec(t);){++s,++i.matchesFound,i.allMatches.push(a[1]);for(var l=0;l<r.length;l++)void 0!==(o=r[l].item.apply(this,[s,t,a,i].concat(r[l].args)))&&(i.indexCorrection=i.indexCorrection+o);if(s>300)return!1}return i.modifiedStr},replace_all:function(e,t,n,r,i,a){var s=a,l=n[i].length,c=s.length;return r.modifiedStr=o.replaceAt(r.modifiedStr,n.index-r.indexCorrection,s,l),l-c},split_on_regex_group:function(e,t,n){if(!e)return[];var r={parts:[],start:0};return o.iterate_string(e,t,[{item:function(e,t,n,r,i){if(void 0!==n[i]){var a=n.index;r.parts.push(t.slice(r.start,a)),r.start=a+n[i].length}},args:[n]}],r),r.parts.push(e.slice(r.start).trim()),r.parts.filter(Boolean)},offset:function(e){var t=e[0].getBoundingClientRect();return{top:t.top,left:t.left}},scrollToSmoothly:function(e,t,n){var r=n.pageYOffset,i=null;null==t&&(t=500),e=+e,t=+t,n.requestAnimationFrame((function a(o){var s=o-(i=i||o);r<e?n.scrollTo(0,(e-r)*s/t+r):n.scrollTo(0,r-(r-e)*s/t),s<t?n.requestAnimationFrame(a):n.scrollTo(0,e)}))},forceElReflow:function(e,t,n,r){e.attr("style",t),o.action_after_repaint({item:function(){n?e.attr("style",n):e.removeAttr("style")}},r||20)},reload_current_frontend_page:function(e){e&&(t.resumeIframeScroll={top:e.stat.win.scrollY,left:e.stat.win.scrollX,behaviour:"auto"},t.change_preview_url(t.stat.settingsMenu.find(".change-preview-url")))},ww:{max:4,channels:{queueable:{max:1,list:[]},async:{max:3,list:[]},formatHTML:{max:1,list:[]},revisions:{max:1,list:[]},getElStylesheetStyles:{max:1,list:[]}},mainThreadData:{},debug:!1,debug_log:function(t,n,r){o.ww.debug&&(r=void 0===r?"":r,console.log(t,n.taskName,r,n,e.extend(!0,{},o.ww)))},getChannel:function(e,t){var n=e.channel||e.taskName;return o.ww.channels[n]||(n="queueable"),t?n:o.ww.channels[n]},getChannelList:function(e){return o.ww.getChannel(e).list},newWorker:function(e){var n=window.TVR_DEV_MODE?"/worker":"-min",r=t.pluginUrl+"js"+n+"/mt-worker.js?v=5",i=o.ww.getChannel(e,!0);return TVR_DEV_MODE&&(i="TVR_DEV_MODE."+i),new Worker(r,{name:i})},create:function(e){o.startT(arguments);var t={worker:o.ww.newWorker(e),queueCount:0,queue:[],taskQueue:[],isBusy:!1,id:o.unique_key()};return o.ww.getChannelList(e).push(t),o.ww.debug_log("Web worker created and added to list",e,t),o.endT(arguments),t},getWorker:function(e){if(o.startT(arguments),"undefined"==typeof Worker)return o.ww.debug_log("Workers are not supported",e),o.endT(arguments),!1;var t=o.ww.getChannel(e),n=t.list,r=t.max,i=n.length,a=!1;if(!i)return a=o.ww.create(e),o.ww.debug_log("Create first web worker",e),o.endT(arguments),a;for(var s={queueCount:void 0,arrIndex:0},l=0;l<n.length;l++){var c=n[l].queueCount;(void 0===s.queueCount||c<s.queueCount)&&(s.queueCount=c,s.arrIndex=l)}return e.terminateCurrent&&s.queueCount>0?(a=n[s.arrIndex],o.ww.terminateWorkerItem(a),o.ww.debug_log("Terminated existing worker, a new one will be started",e)):s.queueCount>0&&i<r?(a=o.ww.create(e),o.ww.debug_log("All web workers are busy, but we can create a new one",e)):(a=n[s.arrIndex],o.ww.debug_log("Use an existing web worker",e,n[s.arrIndex])),a.terminated&&(a.worker=o.ww.newWorker(e),a.terminated=!1,a.isBusy=!1,o.ww.debug_log("Revived terminated worker item",e,a)),o.endT(arguments),a},terminateWorkerItem:function(e){e.worker.terminate(),e.terminated=!0,e.queueCount=0,e.queue=[];const t=Object.keys(o.ww.channels).find((t=>o.ww.channels[t].list.some((t=>t.id===e.id))));if(t){const n=o.ww.channels[t].list,r=n.findIndex((t=>t.id===e.id));r>-1&&n.splice(r,1)}},assignTask:function(e){o.startT(arguments);var t=o.ww.getWorker(e);if(!t)return o.ww.debug_log("Worker not available",e),!1;if(e.workerID=t.id,e.mainThreadData){var n=o.unique_key();o.ww.mainThreadData[n]=e.mainThreadData,e.mainThreadData=n}var r=e.transferable?[e]:void 0;t.taskQueue.push({data:e,transferable:r}),o.ww.debug_log("Task added to queue",t,e),t.isBusy||o.ww.runNextTask(t),o.endT(arguments)},runNextTask:function(e){if(!e.taskQueue.length)return;const{data:n,transferable:r}=e.taskQueue.shift();n.data&&n.data.get_last_save_time&&(n.data.last_save_time=t.uiData.non_section.last_save_time),e.queueCount++,e.queue.push(n.taskName),e.isBusy=!0,e.worker.onmessage=o.ww.taskComplete,e.worker.postMessage(n,r),o.ww.debug_log("Worker is executing task",n)},runMainThreadCallback:function(e,t){var n=e.ref.split("."),r=o.checkObject(TvrMT,n);if(r){var i=[t];t.mainThreadData&&i.push(o.ww.mainThreadData[t.mainThreadData]),e.args&&(i=i.concat(e.args)),o.ww.debug_log("Running callback function",t,{name:e.funcName,args:i}),r[e.funcName].apply(this,i)}},taskComplete:function(t){o.startT(arguments);var n,r=t.data,i=r.cb,a=o.ww.getChannelList(r);o.ww.debug_log("Worker task complete",r);for(var s=0;s<a.length;s++)if((n=a[s]).id===r.workerID){n.queueCount--,n.queue.shift(),o.ww.debug_log("QueueCount decremented",r,n);break}i&&!r.failure&&o.ww.runMainThreadCallback(i,r),r.failure&&r.cb_failure&&o.ww.runMainThreadCallback(r.cb_failure,r),r.cb_complete&&o.ww.runMainThreadCallback(r.cb_complete,r),r.mainThreadData&&(delete o.ww.mainThreadData[r.mainThreadData],o.ww.debug_log("Deleted main thread data key",r.mainThreadData,e.extend(!0,{},o.ww.mainThreadData))),n&&(n.isBusy=!1,r.terminateOnCompletion&&!n.taskQueue.length?(o.ww.terminateWorkerItem(n),o.ww.debug_log("Terminated worker after task completion",r)):o.ww.runNextTask(n)),o.endT(arguments)},preload:function(){var e={channel:"async",taskName:"initWorkers",terminateCurrent:!0,terminateOnCompletion:!0};o.ww.assignTask(e),o.ww.debug_log("Preloaded web worker to cache scripts in browser",e)}},fileExists:function(e){let t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!==t.status},definedOrDefault:function(e,t,n){return void 0!==e[t]?e[t]:n},EventHandlerClass:class{constructor(){this.functionMap={}}addEventListener(e,t,n){n=n||document,this.functionMap[e]=t,n.addEventListener(e.split(".")[0],this.functionMap[e])}removeEventListener(e,t){(t=t||document).removeEventListener(e.split(".")[0],this.functionMap[e]),delete this.functionMap[e]}},downloadObjectAsJson:function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},get_section_css:function(e,n,r,i,a,s){if(!r)return"get_section_css";let l=!(!e||!e.targetSelector)&&e.targetSelector,c="",u=t.uiData[i],d=u?u.this.label:"";if(!s&&a&&d&&e.includeFolderComment){let e=u?u.this.logic:"",t="",n=r.this.disabled;if(e||n){let r=structuredClone(e);n&&(r.disabled=1),t=" "+o.config_obj_to_string(r,"** MT")}c+="/*= "+d+t+" "+o.eq_str(d+t)+" */\n\n"}return Object.entries(r).forEach((([t,n])=>{("this"!==t&&!l||t===l)&&(c+=o.get_selector_css(e,t,n,u,a,d))})),c},get_selector_css:function(e,t,n,r,i,s){let l="",c=r[t],u="",d=o.checkObject(n,["compiled_css"]);if(!d&&i&&(d=c.label.split("|")[1]+" {}"),d){if(i&&(d=o.strip_important_prefixes(d)),s&&c.label){let e=c.label.split("|")[0],t="";n.disabled&&(t=" "+o.config_obj_to_string({disabled:1},"** MT")),u="/** "+s+" >> "+e+t+" **/\n"}l+=u+d,i||(l+=a.maybeAppendSnippets(n))}return l},strip_important_prefixes:function(e){return e=e.replace(/^\s*-\b(?:webkit|moz|ms-|o-)[^;]*;\s*$/gm,""),parseInt(t.pref.css_important)&&(e=e.replace(/\s*!important/g,"")),e},get_js_object_data:function(e,n,r,i){var a=[];return"all-devices"!==n&&(a=["m_query",n]),r&&(a=["important"].concat(a)),a.length&&(e=["non_section"].concat(a,e)),{data:i?null:o.checkObject(t.uiData,e),levels:e}}};return e.extend(!0,o,window.MTMainAndWorker),window.MTMainAndWorker.set_worker_and_main_common_reference(o),o}()})),jQuery(document).ready((function(e){TvrMT.init=function(){var t,n,r,i,a,o,s,l,c,u,d,p,f={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTace,TvrMT.mod.MTint,TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,TvrMT.mod.MTsass,s=TvrMT.mod.MTgrid,l=TvrMT.mod.MTfolder,c=TvrMT.mod.MTwidget,u=TvrMT.mod.MTlayout,d=TvrMT.mod.MTai,p=TvrMT.mod.MThtml,TvrMT.MTdetached,TvrMT.tvrsprintf=window.tvrsprintf},add_listeners:function(){f.set_vars(),n.startT(arguments),window.MTMainAndWorker.setWorkerObjectRefs(TvrMT),n.ww.preload(),o.setup_ajax_queue(),t.catch_js_errors(),t.setup_keyboard_shortcuts(t.stat.doc),t.reset_global_vars(),t.mqs=t.adjust_mqs_for_unit(TvrMQsCombined),n.init_specificity(),window.onbeforeunload=function(e){if(t.pendingAutoSave())return"Exit even though changes have not been saved?"},MTlocal.setup_event_listeners(!1),n.startT("init full screen events"),t.stat.doc.addEventListener("fullscreenchange",n.full_screen_changed),t.stat.doc.addEventListener("webkitfullscreenchange",n.full_screen_changed),t.stat.doc.addEventListener("mozfullscreenchange",n.full_screen_changed),t.stat.doc.addEventListener("MSFullscreenChange",n.full_screen_changed),n.endT("init full screen events"),t.stat.doc.addEventListener("selectionchange",(function(n){c.maybe_update_slidable_pieces(e(t.stat.doc.activeElement),n)})),e.widget("custom.MTdraggable",e.ui.draggable,{_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))}}),t.stat.curSelInput.on("blur",(function(){t.selectorLabelEditing&&t.save_selector_label_edit(!0)})),e("#left-column-options").on("input.tvr propertychange.tvr",(function(){u.set_num_columns(e(this).val(),"left")})),e("#right-column-options").on("input.tvr propertychange.tvr",(function(){u.set_num_columns(e(this).val(),"right")})),e("#mt-logic-expressions").on("input.tvr",(function(){l.logic_textarea_changed(e(this))})),t.stat.searchFoldersInput.on("input.tvr propertychange.tvr",(function(){t.search_folders(e(this).val(),!0)})),t.bothSuggestionAreas().on("focus","input.sug-sel",(function(){t.stat.currentFolderItem.addClass("sug-sel-focussed")})).on("blur","input.sug-sel",(function(){t.stat.currentFolderItem.removeClass("sug-sel-focussed")})),t.EventHandler=new n.EventHandlerClass,n.startT("init mouseup event"),t.stat.$doc.on("mouseup.tvr",(function(e){t.aceClick&&(0!==t.aceClick.container.height()-t.aceClick.orig_height&&i.eds["adaptable-editor"].resize(),t.aceClick=!1)})),n.endT("init mouseup event"),t.refresh_sortable(),t.stat.breadcrumbs.draggable({containment:"parent",stop:function(){}}),u.make_sidebars_draggable(),c.init_slider(),t.stat.opts[0].onwheel=function(e){if(e.altKey&&(e.preventDefault(),t.mouseWheelAltAction=!0),t.mouseOverInput&&e.altKey){var n=t.mouseOverInput;n.hasClass("mt-slider")?(c.ensure_slider_connected(n),c.increment_change(e,e.deltaY>0)):n.next(".combo-arrow").hasClass("on")||t.cycleDrowndownValues(n,e,n.next(".combo-arrow").hasClass("on"))}},n.startT("init mouseenter event"),t.stat.body.on("mouseenter",".property-input, tr.mixed-val, div.grid-canvas, div.type-nth-item, .ui-tooltip, .ui-menu, .highlight-preview, .mt-menu-icon.item-toggle-highlighting, li.mt-screen-preview, a.supported-item",(function(i){var a=!1,o=!1,s=!0,l=e(this),u=l.attr("class"),d=!1;if(!u)return!1;if(u.indexOf("ui-tooltip")>=0)MTlocal.clean_tooltips();else if(u.indexOf("ui-menu")>=0)c.stat.set.addClass("user-hovers-combo");else if(u.indexOf("property-input")>=0)t.adjust_comp_span(l,"hover"),t.mouseOverInput=l;else if(u.indexOf("mt-screen-preview")>=0)t.get_local_window_function("set_screen_preview")(l,"hover");else if(u.indexOf("mixed-val")>=0)t.mixedElKey=l.attr("rel"),a="mixed-hover";else if(u.indexOf("grid-canvas")>=0)l.addClass("user-interacting");else if(u.indexOf("type-nth-item")>=0){if(t.nthItemIndex=parseInt(l.data("nth"))-1,!t.grid.items[t.nthItemIndex])return!1;parseInt(t.pref.mt_highlight)||(d=!0),a="grid-nth-item",s=!1}else if(u.indexOf("highlight-preview")>=0)o=l.parent().next().attr("title"),a="sel-preview",d=!0;else if(u.indexOf("item-toggle-highlighting")>=0){if(n.hasValue(t.selInFocusID))o=t.get_meta(e("#"+t.selInFocusID),"selector").selectorM.find("span.selector-name").attr("title"),a="reg"}else if(u.indexOf("supported-item")>=0){let n=e("#condition-clipboard-icon"),r=e("#phpSyntax").offset(),i=l.offset();i.top-=r.top,i.left-=r.left,i.left+=l.outerWidth()-16,n.css({top:i.top+"px",left:i.left+"px"}),t.hoveredConditionItem=l}a&&(t.iframeEditing()&&d&&r.stat.html.addClass("mt-hide-primary-overlay"),t.feature_on(0,"mt_highlight",{tmp:!parseInt(t.pref.mt_highlight),offFirst:{fHTML:1,noSave:1},fHTML:1,noSave:1,con:a,css:o,scroll:s}))})),n.endT("init mouseenter event"),n.startT("init mouseleave event"),t.stat.tvr.on("mouseleave",".property-input, tr.mixed-val, div.grid-canvas, div.type-nth-item, .ui-menu, .highlight-preview, .mt-menu-icon.item-toggle-highlighting, .sp-container, li.mt-screen-preview, ul.supported-functions-list",(function(){var i=e(this),a=i.attr("class");if(!a)return!1;a.indexOf("grid-canvas")>=0&&i.removeClass("user-interacting");var o=a.indexOf("type-nth-item")>=0;if(o&&(t.nthItemIndex=!1),a.indexOf("property-input")>=0)t.mouseOverInput=!1,t.adjust_comp_span(i,"after");else if(a.indexOf("ui-menu")>=0)c.stat.set.removeClass("user-hovers-combo");else if(a.indexOf("mt-screen-preview")>=0)t.get_local_window_function("unset_screen_preview")(i,"hover");else if(a.indexOf("mixed-val")>=0||o||a.indexOf("highlight-preview")>=0||a.indexOf("item-toggle-highlighting")>=0&&n.hasValue(t.selInFocusID)){var s=!0;"turnedOn"===t.tmp.mt_highlight&&(t.tmp.mt_highlight=!1,s=!1),t.feature_off(0,"mt_highlight",{fHTML:1,noSave:1,onAgain:s?{fHTML:1,noSave:1,con:"intelli",scroll:1}:0}),t.iframeEditing()&&r.stat.html.removeClass("mt-hide-primary-overlay")}else a.indexOf("supported-functions-list")>=0&&(e("#condition-clipboard-icon").css({top:"-999px"}),t.hoveredConditionItem=!1)})),n.endT("init mouseleave event"),n.startT("init MQs sortable"),e("#mq-list, #enq_js-dyn-menu, #mqs-dyn-menu").sortable({cursor:"move",handle:".sortable-icon",helper:"clone",revert:200}),n.endT("init MQs sortable"),n.startT("init MQs validation check"),e("#edit-media-queries-form, #mt-enqueue-js, #microthemer_ui_settings_import, #microthemer_ui_settings_export").on("submit",(function(){return!1})),n.endT("init MQs validation check"),t.load_visual_view(e("#load-visual")),t.stat.adaptableEditor.on("click",(function(){t.draftSelector.ace.editorClickCancelsDeferSave=!0})),window.MTBroadCast&&parseInt(t.pref.sync_browser_tabs)&&MTBroadCast.init(),t.stat.tvr.on("click",(function(r){var f=e(r.target);try{if(!(h=f.attr("class")))var h="tvr-undefined"}catch(e){}if(t.close_all_expanded(f,h),t.ua_detected(),h.indexOf("no-click")>=0)return!1;let _=f.data("mtc");if(_){let e=_.split("."),t=n.checkObject(TvrMT,e);t&&t(f)}else if(h.indexOf("fake-checkbox")>=0||h.indexOf("fake-radio")>=0)n.toggle_radio_checkbox(f);else if("email-error"===f.attr("id"))t.email_error_report();else if(h.indexOf("property-input")>=0||h.indexOf("mt-supplementary-picker")>=0)h.indexOf("mt-color-picker")>=0&&(f.hasClass("bound")||t.colorpicker_bind(f,!0)),MTlocal.clean_tooltips();else if(h.indexOf("dismiss-status")>=0)o.clear_messages();else if(h.indexOf("mt-save-action")>=0)t.keyboard_save_action(r,"manual");else if(h.indexOf("mt-publish-action")>=0)o.publish_settings();else if(h.indexOf("tvr-pop-toggle")>=0){var g=f.parent();g.hasClass("trigger-click")&&(g.hasClass("active")?g.removeClass("active"):g.addClass("active"))}else h.indexOf("main-menu-tip-trigger")>=0?t.toggle_main_menu(f):h.indexOf("sel-hierarchy-input")>=0?t.show_selector_label_edit():h.indexOf("save-selector-label")>=0?t.save_selector_label_edit():h.indexOf("cancel-selector-label-edit")>=0?t.cancel_selector_label_edit():h.indexOf("mt-change-page")>=0?t.toggle_preview_page_menu(f):h.indexOf("css-code-wrap")>=0||(h.indexOf("mt-screen-preview")>=0?t.toggle_screen_preview(f):h.indexOf("save-javascript-button")>=0?o.save_javascript(f):h.indexOf("show-dialog")>=0?t.show_dialog(f):h.indexOf("close-dialog")>=0?t.close_dialog(!1,f):h.indexOf("dialog-section-tab")>=0?t.dialog_section_tab_pressed(f):h.indexOf("dialog-tab")>=0&&h.indexOf("dialog-tabs")<0&&h.indexOf("dialog-tab-field")<0?t.dialog_tab_pressed(f):h.indexOf("view-import-stylesheet")>=0?a.update_import_css_preview(!1,{c:f},"loadNew"):h.indexOf("refresh-stylesheet-list")>=0?t.refresh_stylesheet_list(f):h.indexOf("view-import-stats")>=0?a.process_css_import(f,"preview-stats"):h.indexOf("delete-item")>=0?t.delete_item(f):h.indexOf("edit-item")>=0?t.toggle_edit_item(f):h.indexOf("reveal-hidden-form-opts")>=0?t.reveal_form_opts(f):h.indexOf("folder-reset")>=0?t.ui_reset(f):h.indexOf("clear-css-filters")>=0?t.clear_css_filters():h.indexOf("force-styles-analysis")>=0?t.force_styles_analysis():h.indexOf("save-revision")>=0&&t.toggle_revision_save_status(f));if(h.indexOf("show_total_times")>=0&&(console.log("# START TOTAL TIMES"),console.log(n.showT("all",f.prevAll("input").val())),console.log("# END TOTAL TIMES")),h.indexOf("menu-input-toggle")>=0)t.toggle_system_menu_options(f);else if(h.indexOf("item-clear-console-logs")>=0)n.clear_console();else if(h.indexOf("change-preview-url")>=0)t.change_preview_url(f);else if(h.indexOf("program-settings-icon")>=0)t.toggle_program_menu(f);else if(h.indexOf("ai-expand-toggle")>=0)t.toggle_ai_panel(f);else if(h.indexOf("ai-send-prompt")>=0)d.sendPrompt(f,{requestContext:d.requestContext});else if(h.indexOf("ai-feedback-thumb")>=0)d.voteCast(f);else if(h.indexOf("ai-new-task")>=0)d.resetTask("New chat started");else if(h.indexOf("export-dialog-button")>=0)o.export_settings(f);else if(h.indexOf("ui-import")>=0)o.import_settings();else if(h.indexOf("save-preferences")>=0)o.save_preferences();else if(h.indexOf("update-media-queries")>=0)o.save_media_queries();else if(h.indexOf("update-enqjs")>=0)o.save_enq_js();else if(h.indexOf("reveal-unlock")>=0)e("#tvr_validate_form").addClass("show"),f.parent("p").hide();else if(h.indexOf("explain-link")>=0)t.toggle_help_info(f);else if(h.indexOf("restore-link")>=0)t.restore_rev(f);else if(h.indexOf("selector-count-state")>-1||h.indexOf("folder-count-wrap")>-1||h.indexOf("section-name")>-1||h.indexOf("folder-state-count")>-1)t.toggle_folder(f);else if(h.indexOf("mt-search-entry")>=0)t.search_entry_clicked(f);else if(h.indexOf("sec-in-focus")>=0)t.toggle_main_menu(f);else if(h.indexOf("new-item-add")>=0)t.dyn_add_item(f);else if(h.indexOf("add-section-button")>=0)t.add_section(f.closest(".mt-folder-form").find(".add-section-label-input").val());else if(h.indexOf("edit-section-button")>=0)t.action_rename_section(f);else if(h.indexOf("test-folder-logic")>=0)l.save_folder_logic(f,!0);else if(h.indexOf("initial-auto-folder")>=0){let t=f.data();l.setInitialAutoFolder(e.extend(!0,a.inputs_to_data(f.closest(".cm-switch-folder-mode")),{sectionSlug:t.slug,sectionH:f.text(),logic:{expr:t.expr},closeContextMenu:!0}))}else if(h.indexOf("clear-folder-logic")>=0)l.clear_folder_logic(f);else if(h.indexOf("view-test-url")>=0)l.view_test_url(f);else if(h.indexOf("copy-section")>=0)t.copy_section(f);else if(h.indexOf("delete-section")>=0)t.delete_section(f);else if(h.indexOf("add-folder-toggle")>=0)t.toggle_folder_add_options(f);else if(h.indexOf("toggle-ai-advanced")>=0)d.toggleSettings(f);else if(h.indexOf("toggle-folder-more-options")>=0)t.toggle_folder_more_options(f);else if(h.indexOf("toggle-advanced-options")>=0)l.toggle_advanced_options(f);else if(h.indexOf("toggle-popdown-content")>=0)l.toggle_popdown_content(f);else if(h.indexOf("condition-clipboard-icon")>=0)l.copyConditionText(f);else if(h.indexOf("binary-button-option")>=0)t.binary_button_clicked(f);else if(h.indexOf("add-logic-button")>=0)l.addLogicalCondition(f);else if(h.indexOf("close-logic-testing")>=0)l.hide_logic_testing_table();else if(h.indexOf("view-current-folder-options")>=0)t.viewCurrentFolderLoading();else if(h.indexOf("snippet-code")>=0)p.maybeInitNewSnippet(f);else if(h.indexOf("snippet-choice-option")>=0)p.snippetChoiceMade(f);else if(h.indexOf("ed_button")>=0)p.tinymce.codeToolbarButtonClicked(f);else if(h.indexOf("add-selector-button")>=0)t.add_selector(!1,f,!1,{doNotBringStylesTop:1});else if(h.indexOf("edit-selector-button")>=0)t.action_modify_selector(!1,f);else if(h.indexOf("copy-selector")>=0)t.copy_selector(f);else if(h.indexOf("delete-selector")>=0){(y=t.get_meta_for_context(f,"selector")).selectorID===t.draftSelector.atts.id||t.retargetSelector&&y.selectorID===t.retargetSelector.id?(t.cancel_draft_selector_edit(!0),t.close_context_menu({filter:".cm-selector-options"})):t.delete_selector(f)}else if(h.indexOf("retarget-selector")>=0)t.retarget_selector(f);else if(h.indexOf("change-selector")>=0)t.tvr_iterate_selectors_v(f.closest(".selector-tag")),t.hide_folders_or_settings("folders","left");else if(h.indexOf("scroll-buttons")>=0)t.quick_nav(f);else if(h.indexOf("cancel-current-selector-edit")>=0)t.cancel_draft_selector_edit(!t.retargetSelector);else if(h.indexOf("adv-main-label")>=0)t.toggle_adv_wizard();else if(h.indexOf("refine-button")>=0&&h.indexOf("disabled")<0)t.dom_arrow_clicked(f,r);else if(h.indexOf("wizard-update-cur")>=0)t.save_draft_selector(!0,!0);else if(h.indexOf("pg-icon")>=0)t.pg_icon_pressed(f);else if(h.indexOf("css-tab")>=0&&h.indexOf("active")<0)t.css_tab_pressed(f);else if(h.indexOf("adv-tab")>=0&&h.indexOf("active")<0)t.adv_tab_pressed(f);else if(h.indexOf("ai-tab")>=0&&h.indexOf("active")<0)d.tabPressed(f);else if(h.indexOf("mt-group-menu-toggle")>=0)t.toggleGroupMenu(f);else if(h.indexOf("add-multi-tab")>=0)t.addMultiTab(f);else if(h.indexOf("toggle-action-aspect")>=0)p.toggleActionAspect(f);else if(h.indexOf("cprop-text")>=0||h.indexOf("cprop-snippet")>=0)p.placeholderOverlayClicked(f);else if(h.indexOf("wp-switch-editor")>=0&&TvrMT.data.dyn.ui_config.supportContent)p.tinymce.editorModeTabClicked(f);else if(h.indexOf("add-npm-dependency")>=0)p.npm.addDependency(f,null,!0);else if(h.indexOf("browse-package-addons")>=0)p.npm.browseAddons(f);else if(h.indexOf("copy-import-syntax")>=0)p.npm.copyImportSyntax(f);else if(h.indexOf("edit-dependency")>=0)p.npm.toggleFieldForm(f);else if(h.indexOf("update-npm-dependency")>=0)p.npm.updateDependency(f);else if(h.indexOf("delete-dependency")>=0)p.npm.deleteDependency(f);else if(h.indexOf("add-snippet-dependency-icon")>=0)p.npm.addSnippetDependency(f);else if(h.indexOf("snippet-remove-package-icon")>=0)p.npm.removeSnippetDependency(f);else if(h.indexOf("snippet-disable-package-icon")>=0)p.npm.disableSnippetDependency(f);else if(h.indexOf("close-tvr-install-button")>=0)p.closeInstallPopup(f);else if(h.indexOf("install-detected-npm")>=0)p.installDetectedPackages(f);else if(h.indexOf("install-addon")>=0)p.installThemeoverAddon(f);else if(h.indexOf("trigger-microthemer-addon")>=0)p.showInstallPopup(".microthemer-addon-content","Install Microthemer (Addon)");else if(h.indexOf("multi-tab")>=0&&h.indexOf("active")<0&&h.indexOf("multi-tabs")<0)t.multi_tab_pressed(f);else if(h.indexOf("mt-expandable-heading")>=0)t.toggle_expandable_panel(f);else if(h.indexOf("active")<0&&h.indexOf("pg-tab")>=0&&h.indexOf("mt-tab")>=0||h.indexOf("pg-tab-txt")>=0){var m=f.closest(".mt-tab"),v=m.data("pg");t.pg_tab_pressed(m,v,!0)}else if(h.indexOf("clear-all-grid-styles")>=0)s.clear_all_grid_styles(f);else if(h.indexOf("grid-stack-item")>=0||f.parent().hasClass("grid-stack-item"))s.canvas_item_clicked(f);else if(h.indexOf("tvr-add-template-area")>=0)s.add_template_area(f);else if(h.indexOf("mtss-button")>=0)c.increment_change(r,!f.hasClass("mtss-incr-button"));else if(h.indexOf("mtss-current-unit")>=0)c.toggle_unit_menu(f);else if(h.indexOf("mt-unit-item")>=0)c.css_unit_clicked(f);else if(h.indexOf("mt-prop-unit")>=0)c.toggle_unit_menu_shortcut(f);else if(h.indexOf("back-to-properties")>=0)u.back_to_property_groups(f);else if(h.indexOf("toggle-editor-options")>=0)t.toggle_editor_options(f);else if(h.indexOf("beautify-editor-code")>=0)i.beautify_editor_content(i.eds["adaptable-editor"]);else if(h.indexOf("mq-tab")>=0)f=f.closest("span.mq-tab"),t.mq_tab_pressed(f);else if(h.indexOf("external-video-thumb")>=0||h.indexOf("external-video-watched-toggle")>=0)t.external_video_clicked(f,r);else if(h.indexOf("mt-manual-error-report")>=0)t.maybe_send_error_report(!0,f);else if(h.indexOf("toggle-preview-report-data")>=0)t.toggle_preview_error_report();else if(h.indexOf("download-preferences")>=0)t.download_preferences();else if(h.indexOf("edit-responsive-tab-button")>=0)t.update_single_responsive_tab(f);else if(h.indexOf("devices-context-menu-trigger")>=0)t.toggle_responsive_tab_options(f);else if(h.indexOf("clear-icon")>=0)t.clear_data_level(f);else if(h.indexOf("tvr-image-upload")>=0)t.launch_img_uploader(f);else if(h.indexOf("clear-bg-image")>=0)t.clear_bg_image(f);else if(h.indexOf("combobox")>=0)t.combobox_clicked(f,r);else if(h.indexOf("css-info")>=0)t.load_css_ref(f);else if(h.indexOf("mt-combo-icon")>=0||h.indexOf("mt-combo-toggle")>=0)a.combo_icon_clicked(f,r);else if(h.indexOf("input-icon-toggle")>=0)t.input_icon_toggle(f);else if(h.indexOf("play-anim")>=0){var y=t.get_meta(f,"group");t.user_play(a.dom_to_data({M:y,domDepth:"group",mq_key:y.tabSlug}),f,"buttonClick")}else h.indexOf("mt-scroll-row")>=0?t.scroll_row(f):h.indexOf("gui-shortcut")>=0?i.go_to_ui_property():h.indexOf("add-variable-field")>=0?t.add_variable_field(f,r):h.indexOf("toggle-optional-input")>=0?t.toggle_optional_input(f):h.indexOf("nth-radio-control")>=0?s.update_nth_item_focus(f,!0):h.indexOf("refresh-html-pane")>=0?t.refresh_html_pane():h.indexOf("mt-bc-item")>=0?t.breadcrumb_clicked(f,r):h.indexOf("toggle-cm-using-atts")>=0?t.toggle_context_menu_using_atts(f):h.indexOf("mt-variation-option")>=0&&t.switch_selector_variation(f)})),n.endT(arguments)}};return f}()})),jQuery(document).ready((function(e){TvrMT.mod.MTace=function(){var t,n,r,i,a,o,s,l,c,u,d={count:0,eds:{},markers:{},editorCursorPos:{},lastEditedProperty:{},propertyFocusAfterLoad:{},code_font_size:14,code_line_height:16,themes:{light:"mt_light",dark:"mt_dark"},set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTint,a=TvrMT.mod.MTloop,o=TvrMT.mod.MTdd,s=TvrMT.mod.MTsave,l=TvrMT.mod.MTlayout,c=TvrMT.mod.MThtml,u=TvrMT.mod.MTai,d.code_font_size=parseInt(t.pref.code_font_size),d.code_line_height=Math.round(1.1428*d.code_font_size)},ace_find_text:function(n,r,i,a){var o={needle:"",backwards:"findPrevious"===i,wrap:!1,caseSensitive:!1,wholeWord:!1,range:null,start:null,regExp:!1,skipCurrent:"findNext"===i||"findPrevious"===i};n=e.extend({},o,n);var s,l,c=(new t.Search).set(n),u=r.getSession();switch(i){case"find":case"findNext":case"findPrevious":s=c.find(u);break;case"findAll":s=c.findAll(u)}if(s&&void 0!==a)if("findAll"===i)for(var d=0;d<s.length;d++)l=s[d],r.session.replace(l,a);else l=s,r.session.replace(l,a);return s},select_text:function(e,t,n){if(t){let r=d.ace_find_text({needle:e},t,"findPrevious");r&&t.selection.setSelectionRange(r),n&&t.focus()}},get_selection_text:function(e){n.startT(arguments);var t={};return t.selection=e.getSelectionRange(),t.startIndex=e.session.doc.positionToIndex(t.selection.start,0),t.endIndex=e.session.doc.positionToIndex(t.selection.end,0),t.selected=t.endIndex!=t.startIndex?1:0,n.endT(arguments),t},intersects:function(e,t,r,i,a){if(n.startT(arguments),r)return n.endT(arguments),t.intersects(r);var o=0;for(var s in i)if(i[s]>=t.start.row&&i[s]<=t.end.row){o=1;break}if(o&&a)for(var s in o=0,a)if(a[s]>=t.start.column&&a[s]<=t.end.column){o=1;break}return n.endT(arguments),o},set_code_wrap:function(e,t){e.setOptions({wrap:t,indentedSoftWrap:t})},scroll_to_col:function(e,t){var n=e.session.getLine(t).match(/(\s)\S/);if(n){var r=6*(n.index-1);e.session.setScrollLeft(r)}},get_focus_editor:function(){return d.eds["adaptable-editor"]},get_editor:function(e,t){return n.startT(arguments),t&&(e=e.next("pre")),n.endT(arguments),d.eds[e.attr("id")]},get_selector_editor_textarea:function(r){if(r=r||!!t.selInFocusID&&e("#"+t.selInFocusID),!n.isDomEl(r))return{};var i=r.find("textarea.tvr-editor-hidden");return{contentIdentifier:i.closest(".property-tag").attr("id"),$textarea:i}},get_full_code_editor_textarea:function(){var n="css-"+t.get_css_focus();return{contentIdentifier:n,$textarea:e("#"+n)}},get_editor_height:function(e){t.aceClick={container:e,orig_height:e.height()}},editor_update_height:function(r,i,a,o,s){n.startT(arguments);var c=d.code_font_size*d.code_line_height;a=a<=c||o?a:c,"snippet-code"===s?e("#snippet-code").height(a):t.stat.inlineEditor.height(a),r.resize();var u=r.getCursorPosition(),p=r.session.getLength()-1,f=p>r.session.getScrollTop()/d.code_line_height+d.code_font_size,h=u.row+2>=p;f&&h&&r.scrollToLine(p+1,!0,!1),"snippet-code"!==s&&l.toolbar_adjusted(),n.endT(arguments)},editor_line:function(e,t=!0,r=5){const i=e.getCursorPosition();let a=i.row,o="";for(;a>=0;){const t=e.session.getLine(a).trim();if(t){a===i.row?(o=e.session.getLine(i.row).slice(0,i.column).trim(),o||(o=e.session.getLine(i.row).slice(i.column).trim())):o=t;break}a--}return t?n.getLastWords(o,r):o},init_editor_deps:function(e){n.startT(arguments),t.Range=ace.require("ace/range").Range,t.Search=ace.require("ace/search").Search,t.TokenIterator=ace.require("ace/token_iterator").TokenIterator,t.SB=ace.require("ace/ext/searchbox"),ace.require("ace/ext/language_tools"),n.endT(arguments)},bind_editor:function(r,i){n.startT(arguments);var a,o=i.filterClass,p=i.mode,f=i.M;i.directContent;return r.find("pre."+o+":not(.ace_editor)").each((function(){var r=e(this),o=r.attr("id"),h=d.initiate_editor(o,p);a=d.set_editor_content(r,h,i),d.update_editor_gutter(h),d.set_code_wrap(h,!0),h.session.setUndoSelect(!1),"adaptable-editor"===o&&(h.session.doc.on("change",(function(e){if(t.draftSelector.ace.editorClickCancelsDeferSave&&(d.reselectElementAsBlue=1,t.draftSelector.ace={}),t.gui_to_editor_running)return!1;if(!i.arbEditor){if(l.editor_height_auto_settable(o)){var n=h.session.getLength();d.editor_update_height(h,r,n*d.code_line_height),a=n}d.MTupdatingAdaptableEditor||d.ace_sync_textarea(r,h,o,f)}})),h.on("changeSelection",(function(e){t.pref.show_code_editor?d.isCSSEditor(h)&&(t.elementIsBeingSelected||n.action_after_timeout("editor_cursor_change",100,{item:function(e){e.isFocused()&&d.maybe_update_code_selector_highlight(e)},args:[h]}),n.action_after_timeout("record_cursor_pos",1500,{item:function(e,r){var i=["non_section","meta","fullCodeCursorPos"];n.updateObject(t.uiData,i,r),s.silent_save("",[{trail:i,action:"replace",data:r}])},args:[h,h.getCursorPosition()]})):d.MTupdatingAdaptableEditor||n.action_after_timeout("editor_cursor_change",100,{item:d.update_gui_shortcut_from_ace_line,args:[h]})}))),"ai_code"===o?(h.renderer.setShowGutter(!1),h.session.doc.on("change",(function(r){u.syncingAICode||n.action_after_timeout("ai_editor",t.inputTypingInterval,{item:function(){let t=e("#ai-editor-tabs").find(".ai-tab.active").attr("rel"),n=d.editor_line(h);u.sketchpad[t]=h.session.getValue(),u.skipAiSync?u.skipAiSync=0:u.syncAICode(u.sketchpad,!1,n)}})}))):"snippet-code"===o?(c.updateEditorHeight(),r.prev("textarea").val(i.directContent),h.session.doc.on("change",(function(e){c.updateEditorHeight(),c.skipEditorChangeSave?c.skipEditorChangeSave=!1:n.action_after_timeout("snippet_editor_changed",t.inputTypingInterval,{item:function(){let e=r.prev("textarea");e.val(h.session.getValue()),s.ajax_save_settings({$property:e})}})})),h.on("paste",(function(e){if(!h.session.getValue().trim()){let e=h.getCursorPosition(),t=h.getCursorPosition();setTimeout((function(){c.beautifyPaste({code:h.session.getValue(),mode:d.get_editor_mode(h),cursorBeforePaste:e,cursorAfterUglyPaste:t},!1,e,t)}),0)}}))):"wizard_inspector_html"===o&&h.session.on("changeScrollTop",(function(e){var t="user-scroll-html";d.autoScrollHTML&&(t="auto-scroll-html",d.autoScrollHTML=!1),d.linksAddedForViewport?d.linksAddedForViewport=!1:d.update_pseudo_els({action:t,e:e})}))})),n.endT(arguments),a},getWrappedLineCount:function(e){let t=e.getSession(),n=0;for(let e=0;e<t.getLength();e++){n+=t.getRowLength(e)}return n},update_parsed_full_code_selectors:function(e,n){var r=t.parse_editor_selectors(t.uiData.non_section.hand_coded_css);if(r){var i={action:"replace",trail:["non_section","meta","fullCodeSelectors"],data:r};e?a.updateObjectAndSavePackage(e.savePackage,i):s.silent_save("",[i]),n&&d.reselectElementAsBlue&&(d.reselectElementAsBlue=0,d.maybe_update_code_selector_highlight(!1,!1,!0,!0))}},resume_editor_cursor_pos_and_select:function(e){var r=d.eds["adaptable-editor"];if(e=n.isDefined(e)?e:n.checkObject(t.uiData,["non_section","meta","fullCodeCursorPos"]),d.isCSSEditor(r)&&r&&e){var i=parseInt(e.row)+1;r.gotoLine(i,e.column,!1),d.maybe_update_code_selector_highlight(r,e)}},update_editor_gutter:function(t){if(t=t||d.get_focus_editor()){var n=t.renderer.getShowGutter(),r=l.show_editor_gutter(t);if(r!==n){t.renderer.setShowGutter(r);let n=e(t.container);return r?n.removeClass("gutter-disabled"):n.addClass("gutter-disabled"),!0}}return!1},go_to_ui_property:function(e,n,r){if(d.lastEditedProperty){var i=e||d.lastEditedProperty.group;"code"!==i&&(d.propertyFocusAfterLoad=d.lastEditedProperty),t.trigger_pg_icon_click(i),t.open_property_dropdown(d.lastEditedProperty,e,n),d.propertyFocusAfterLoad=!1}},get_ace_context:function(){return t.selInFocusID+"-"+t.get_mq_focus()},store_cursor_pos:function(e,t){return e=e||t.getCursorPosition(),d.editorCursorPos[this.get_ace_context()]=e,e},update_gui_shortcut_from_ace_line:function(e,n){var r=e.getCursorPosition(),i=e.session.documentToScreenPosition(r.row,r.column);if(e.isFocused()&&d.store_cursor_pos(r),!t.scss_enabled){if(i.row!==d.prevScreenRow||n){var a=t.stat.inlineEditor.find(".gui-shortcut");if(r.row!==d.prevCursorRow||n){var s=e.session.getLine(r.row);a.css("left",""),d.lastEditedProperty=s?o.code_edited_property(s.trim()):{}}d.lastEditedProperty.group&&a.css({left:"0px",top:i.row*d.code_line_height+"px"})}d.prevCursorRow=r.row,d.prevScreenRow=i.row}},editor_modes:{},log_editor_mode:function(e,t){d.editor_modes[e]=t},initiate_editor:function(e,r){n.startT(arguments);var i=d.eds[e]=ace.edit(e),a=1===parseInt(t.pref.mt_dark_mode)?d.themes.dark:d.themes.light;return i.setTheme("ace/theme/"+a),i.getSession().setMode("ace/mode/"+r),this.log_editor_mode(e,r),i.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),i.setHighlightActiveLine(!1),i.setShowPrintMargin(!1),i.setFontSize(d.code_font_size),i.container.style.lineHeight=d.code_line_height+"px",i.renderer.updateFontSize(),i.$blockScrolling=1/0,n.endT(arguments),i},update_adaptable_editor:function(e){n.startT(arguments),d.MTupdatingAdaptableEditor=!0,d.set_editor_content(t.stat.adaptableEditor,d.eds["adaptable-editor"],e),d.MTupdatingAdaptableEditor=!1,n.endT(arguments)},set_editor_content:function(e,r,i){n.startT(arguments);var a=i.M,o=i.directContent,s=e.attr("id");if("adaptable-editor"===s){var u=n.isDefined(i.show_code_editor)?i.show_code_editor:t.pref.show_code_editor,p=this.update_ace_sync_details(s,e,u),f=r.getValue();if(!(a&&!l.editor_and_gui())&&"pending"!==f&&!p.contentShouldChange&&!i.contentShouldChange)return d.maybe_resume_editor_focus(r,i),n.endT(arguments),!1}var h=o||e.prev("textarea").val();"adaptable-editor"===s&&(h&&"consolidatedGUI"!==h||(h=""),"css"===a||h||(h=d.empty_selector_code(a))),i.mode&&i.mode!==d.editor_modes[s]&&(r.getSession().setMode("ace/mode/"+i.mode),this.log_editor_mode(s,i.mode)),r.setValue(h,1),c.skipEditorChangeSave&&(c.skipEditorChangeSave=!1);var _=r.session.getLength();if(i.M&&"css"!==i.M){var g=_>1?2:1,m=d.editorCursorPos[this.get_ace_context()];m&&!i.dontResumeCursorPos?(r.moveCursorToPosition(m),g=m.row+1):(r.gotoLine(g,0,!1),r.navigateLineEnd())}return"adaptable-editor"===s&&(i.dontResetUndo||r.session.setUndoManager(new ace.UndoManager),l.editor_height_auto_settable(s)?d.editor_update_height(r,e,_*d.code_line_height):r.resize(),"css"!==a&&d.update_gui_shortcut_from_ace_line(r,!0)),d.maybe_resume_editor_focus(r,i),n.endT(arguments),_},empty_selector_code:function(e){return e.selectorCode+" {\n\t\n}"},maybe_resume_editor_focus:function(e,n){parseInt(t.pref.autofocus_editor)&&(e=e||this.get_focus_editor(),(n=n||{}).doNotFocusEditor||t.autocompleteIsOpen||i.active_builders.length||(d.propertyFocusAfterLoad?d.propertyFocusAfterLoad=!1:e.focus()))},ace_sync_details:{},update_ace_sync_details:function(e,t,r){var i,a=!0,o=null,s=null;if("adaptable-editor"===e){var l=r?d.get_full_code_editor_textarea():d.get_selector_editor_textarea();i=l.$textarea,s=this.ace_sync_details.contentIdentifier,a=(o=l.contentIdentifier)!==s}else i=t.prev("textarea");return n.isDomEl(i)?this.ace_sync_details={$textarea:i,prevContentIdentifier:s,contentIdentifier:o,mode:i.data("mode"),contentShouldChange:a,editorType:r?"full":"inline"}:this.ace_sync_details={}},ace_sync_textarea:function(e,r,i,a){n.startT(arguments),e.addClass("changed");var o=r.session.getValue(),s=this.ace_sync_details.$textarea;if(!n.isDomEl(s))return!1;s.val(o),"css-js"===this.ace_sync_details.contentIdentifier||t.draftSelector.ace.deferSave||(t.inputWaitingObj=s,t.timer.ace_typing&&clearTimeout(t.timer.ace_typing),t.timer.ace_typing=setTimeout(d.ace_instant_save,t.aceTypingInterval,this.ace_sync_details.editorType,s,e,!1)),n.endT(arguments)},ace_instant_save:function(e,t,r,i,a,o){n.startT(arguments);var l={$editor:r,noSaveDelay:i,manualSave:o||a,settings:a?{fullSCSSCompile:1}:{}};l["full"===e?"$fullTextarea":"$property"]=t,s.ajax_save_settings(l),n.endT(arguments)},update_arbitrary_editor:function(r){n.startT(arguments);var i=r.tabKey,a=r.editorID,o=e("#"+a),s=d.eds[a];if(r.M=r.M?r.M:"css",r.mode=r.mode?r.mode:o.data("mode"),r.arbEditor=!0,r.directContent||("css"!==r.mode&&"scss"!==r.mode&&(r.data=n.escapeHTML(r.data)),o.prev("textarea").val(r.data)),o.hasClass("ace_editor"))d.set_editor_content(o,s,r);else{if(r.isInitialBind=1,d.bind_editor(o.parent(),r),s=d.eds[a],!r.dontSetHeight){var l=!!r.containerClass&&o.closest(r.containerClass);if(r.editorHeight||l){var c=r.editorHeight?r.editorHeight:l.height();d.editor_update_height(s,o,c,!0)}}r.fontSize&&(document.getElementById(a).style.fontSize=r.fontSize),r.noValidation&&s.getSession().setUseWorker(!1),r.readOnly&&s.setReadOnly(!0),!r.dontWrapText&&s.session.setUseWrapMode(!0),o.hasClass("min")&&(s.session.setOptions({wrap:!0,indentedSoftWrap:!1}),s.session.setWrapLimitRange(null,90)),"wizardHTML"===r.context&&(s.setHighlightActiveLine(!0),d.set_code_wrap(s,!t.pref.dock_wizard_right),s.session.setUseSoftTabs(!0),s.on("click",(function(e){d.ace_to_dom_fast(s,e)})))}if(r.bindOnly)return n.endT(arguments),!1;"wizardHTML"===r.context&&this.map_html_rows_to_dom_indexes(s);var u=1;if("viewCSS"===r.context)if(t.scss_error&&i===n.checkObject(t.generatedCodeTabs,["indexMap","previous-sass-compile"])){t.stat.view.find("span.dialog-tab-"+i);u=t.scss_error.line,s.setHighlightActiveLine(!0)}else r.find=d.current_selector_find_config(r.mode);"wizardHTML"===r.context&&(u=d.getAceRowForTriggerElement(r),d.curWidgetStartRow=u-1),"snippet-code"!==a&&d.find_selector_line(s,a,r,u),n.endT(arguments)},generated_css_auto_line_done:{},current_selector_find_config:function(r){if("js"!==r&&!t.pref.show_code_editor&&t.selInFocusID){var i=t.get_meta(e("#"+t.selInFocusID),"selector"),a=t.get_mq_focus();return{selectorPattern:n.escapeRegExp(i.sectionH+" >> "+i.selectorH),findComment:!0,inMQ:"all-devices"!==a&&a}}return!1},find_selector_line:function(e,r,i,a){var o,s=!1,l={regExp:!0,wrap:!0,range:null};if(i.find){if(e.setHighlightActiveLine(!0),i.find.inMQ){var c=i.find.inMQ,u=n.escapeRegExp("/*( "+t.pref.m_queries[c].label+" )*/");l.needle=new RegExp(u),(o=d.ace_find_text(l,e,"findNext"))&&(l.start=o)}var p=i.find.findComment?"\\/\\*\\* "+i.find.selectorPattern+" \\*\\*\\/":i.find.selectorPattern;if(l.needle=new RegExp(p),o=d.ace_find_text(l,e,"findNext"),s=i.find.selectorPattern,o)a=o.start.row+1;else if(i.findSelectorParts){var f=i.find.selector.split(/,[\s\S]*?/);l.needle=f.pop(),o=d.ace_find_text(l,e,"findNext"),s=l.needle,o&&(a=o.start.row+1)}}if(this.go_to_line_in_editor(a,e,r,i),s){var h=new t.SB.SearchBox(e);h.regExpOption.checked=!0,h.show(s),h.hide()}},getAceRowForTriggerElement:function(e,t){if(!r)return 1;if(e.maintainCurrentLine)return e.maintainCurrentLine;t=t||r.triggerEl,r.triggerElIndex=r.getElIndex(t);var i=n.checkObject(d.aceIndexMap.indexes,[r.triggerElIndex,"row"]);return!!n.isDefined(i)&&i+1},go_to_line_in_editor:function(e,t,r,i){if(!t)return 0;function a(e,t,r,i){if("wizard_inspector_html"===r){if(i.clicked&&i.clicked.range&&e-1===i.clicked.range.start.row&&(e=i.clicked.line),!i.clicked){var a=i.existingSelCSS||i.intelli_css||i.active_css;if(a){var o=n.get_before_after(a,1);if("before"===o)e+=1;else if("after"===o&&n.checkObject(t,["session","getFoldWidgetRange"])){var s=e-1,l=d.getNearestFoldWidgetRange(t,s,{});l&&(e=l.end.row)}}}d.html_line_changed(t,e-1)}d.autoScrollHTML=1,t.resize(!0),t.gotoLine(e,0,!1,i.dontScrollHTML)}return!1!==e&&(i.isInitialBind?n.action_after_repaint({item:a,args:[e,t,r,i]},600,window):a(e,t,r,i)),e},aceIndexMap:{MTIgnoreRow:null,MTIgnoreIndex:null,indexes:[]},updateAllEditorsTheme:function(e){for(var t=Object.values(d.eds),n=0;n<t.length;n++){t[n].setTheme("ace/theme/"+d.themes[e])}c.tinymce.available(!0)&&c.tinymce.toggleDarkMode("dark"===e)},map_html_rows_to_dom_indexes:function(e){n.startT(arguments);for(var t=e.session.doc.$lines,r=[],i=-1,a=new RegExp(o.reg.opening_html_tag({matchComments:1})),s=!1,l=(TvrMT.integrate.gutenberg,0);l<t.length;l++){var c=t[l].match(a);if(c){var u=c[1],d=c[3],p=c[4];u?s=!u.match(/-->$/):d&&!s&&(++i,p.match(/mt-stuff-ignore/)&&(this.aceIndexMap.MTIgnoreIndex=i,this.aceIndexMap.MTIgnoreRow=l),r[i]={row:l})}}this.aceIndexMap.indexes=r,n.endT(arguments)},update_pseudo_els:function(e,t,i){(e=e||{}).triggerEl=r.triggerEl;var a=e.editor||d.eds.wizard_inspector_html,o=void 0===e.timeout?30:e.timeout;function s(e,r){if(n.startT(arguments),e&&e.session&&e.session.getFoldWidgetRange){var a=d.get_dom_els_between_rows(e,t,i);a&&(d.scan_for_pseudo_els(a),d.update_editor_pseudo_links(r,e,a)),n.endT(arguments)}else n.endT(arguments)}o>0?n.action_after_timeout("update_pseudo_els",o,{item:s,args:[a,e]}):s(a,e)},get_dom_els_between_rows:function(e,t,i){n.startT(arguments),t=void 0!==t?t:e.renderer.getFirstVisibleRow(),(i=void 0!==i?i:e.renderer.getLastVisibleRow())<0&&(i=e.session.doc.$lines.length);for(var a=[],o={},s={},l=t;l<=i;l++)if(!s[l]){var c=d.getNearestFoldWidgetRange(e,l);if(c){var u=n.in_array(c.start.row,d.aceIndexMap.indexes,!1,"row");!1===u||o[u]||(o[u]=1,s[c.end.row]=1,a.push({foldWidget:c,domIndex:u,el:r.N[u],indexAdjust:{before:0,after:0}}))}}return n.endT(arguments),{rowStart:t,rowEnd:i,domElsInView:a}},scan_for_pseudo_els:function(e){n.startT(arguments);for(var t=e.domElsInView,r=["before","after"],i=0;i<t.length;i++){var a=t[i],o=a.el;if(o)for(var s=0;s<r.length;s++){var l=r[s];"none"!==window.getComputedStyle(o,"::"+l).getPropertyValue("content")&&(a[l]=1)}}return n.endT(arguments),e},reverse_sort_pseudo_edits:function(e){for(var t=[],r=["after","before"],i=e.length-1;i>=0;i--)for(var a=e[i],o=0;o<r.length;o++){var s=r[o],l=a.foldWidget,c="before"===s?l.start.row:l.end.row;t.push({el:a.el,pseudoEl:s,row:c,line:c+1,hasPseudo:a[s],adj:0,foldWidget:l})}return t.sort(n.firstBy("row",-1)),t},update_editor_pseudo_links:function(e,i,a){n.startT(arguments);var s=a.domElsInView,l=d.reverse_sort_pseudo_edits(s),c={before:{added:0,removed:0,change:0},after:{added:0,removed:0,change:0},total:{added:0,removed:0,change:0}};a.sortedItems=l;for(var u=0;u<l.length;u++){var p,f=l[u],h=(f.foldWidget,f.row),_=f.pseudoEl,g="::"+_,m=h,v="before"===_?m+1:m-1,y=i.session.getLine(m),b=i.session.getLine(v),w=b.match(new RegExp("::"+_)),T=w&&!f.hasPseudo,x=!w&&f.hasPseudo;if(T||x)var k=y.match(/^(\s*)/),S=k?k[1]:"",C={start:{row:m,column:0},end:{row:m,column:y.length}};if(T)i.session.remove({start:{row:v,column:0},end:{row:v,column:b.length}}),"before"===_?C.end.row++:C.start.row--,i.session.replace(C,y),r.hasPseudo[f.domIndex]&&delete r.hasPseudo[f.domIndex][_],c[_].removed++,c[_].change--,c.total.removed++,c.total.change--;else if(x){var M="  ",A=new RegExp(o.reg.html_tag({tag:"[a-zA-Z0-9]+",capParts:1,closeTagCap:"2"})),O=y.match(A);if(O){var E=O[1],P=O[3],D=""!==P?S+M+P+"\n":"",j=S+M+g+"\n";p=S+E+"\n"+("before"===_?j+D:D+j)+S+O[4]}else p="before"===_?y.replace(">",">\n  "+S+g):y.replace("</",M+g+"\n"+S+"</");i.session.replace(C,p),n.updateObject(r.hasPseudo,[f.domIndex,_],1),c[_].added++,c[_].change++,c.total.added++,c.total.change++}}0!==c.total.change&&(d.map_html_rows_to_dom_indexes(i),e.goToLine&&(d.linksAddedForViewport=!0,e.active_css=e.goToLine,t.update_wizard_html_scroll(e,e.triggerEl))),a.stats=c,a.config=e,n.endT(arguments)},correct_item_row_indexes:function(e,t,n,r){},replace_text_on_fold_widget:function(){},getNearestFoldWidgetRange:function(e,t,n){var r=!1,i=t;(n=n||d.html_line_analysis(e,t)).isPseudo&&(i="before"===n.isPseudo?t-1:t+1);for(var a=i;a>=0&&!((r=e.session.getFoldWidgetRange(a))&&r.start.row<=i&&r.end.row>=i);a--);return r},HTMLLine:{},PrevHTMLLine:{},html_line_analysis:function(e,t){var r=e&&e.session?e.session.getLine(t):"",i=n.regex(o.reg.before_after_html_line(),{match:1,str:r});return{row:t,line:t+1,content:r,isPseudo:!!i&&i[1]}},html_line_changed:function(t,n){return d.PrevHTMLLine=e.extend(!0,{},d.HTMLLine),d.HTMLLine=d.html_line_analysis(t,n),d.HTMLLine},ace_to_dom_fast:function(i,a){n.startT(arguments);var o=i.getCursorPosition(),s=d.html_line_changed(i,o.row),l=this.getNearestFoldWidgetRange(i,o.row,s);if(!l)return!1;var c=n.in_array(l.start.row,this.aceIndexMap.indexes,!1,"row"),u=r.N[c];!u||e(u).is(r.triggerEl[0])&&d.PrevHTMLLine.isPseudo===d.HTMLLine.isPseudo||t.dom_nav_option_used(u,{e:a,dontScrollHTML:!0,wrapjQuery:!0,pseudoSelected:d.HTMLLine.isPseudo,clicked:{line:o.row+1,pos:o,range:l}}),n.endT(arguments)},insertNavLink:function(e,n){var r=n.col?n.col:0;e.gotoLine(n.row+1,r),n.LineEnd&&e.navigateLineEnd(),e.insert(n.str),n.shiftUp&&e.gotoLine(n.row+1,r);var i=e.getCursorPosition(),a=e.session.getTokenAt(i.row,i.column),o=new t.Range;o.start=e.session.doc.createAnchor(i.row,a.start),o.end=e.session.doc.createAnchor(i.row,a.start+a.value.length);var s=n.markerType?n.markerType:"text";d.markers[n.type]=e.session.addMarker(o,"tvr_nav_link ace_layer",s,n.markerFront)},count_editor_selectors:function(e){e||(e=["custom-css-"+t.get_css_focus()]);var n=0;for(var r in e){var i=d.eds[e[r]];if(i){var a=i.session.getValue(),s=o.parse_css(a,!0).stylesheet.rules;n+=d.count_ast_selectors(s,n)}}return n},count_ast_selectors:function(e,t){for(var n in e){var r=e[n],i=r.type;"media"==i||"supports"==i?t=d.count_ast_selectors(r.rules,t):"rule"==i&&++t}return t},sync_related_selectors:function(e,n,r){for(var i,a,s,l,c=0,u=new RegExp("("+o.selector_regex.event_key().source+"|"+o.selector_regex.nth_child({scope:"\\d|n"})+")"),p={needle:u,regExp:!0,start:{row:0,column:0}};a=d.ace_find_text(p,e,"find");){(s=e.session.getTextRange(a).match(u))[3]?(i=s[3],l="nth"):(i=s[2],l="event");var f=d.ace_find_text({needle:"{",start:{row:a.end.row,column:a.end.column}},e,"find"),h=new t.Range(a.start.row,0,f.start.row,f.start.column-1),_=e.session.getTextRange(h),g=a.end.row;if(o.selectors_match(n,o.strip_extra_from_selector(_))){var m,v=o.format_ast_selector(r);"nth"===l?m=o.add_to_poss_comma_selector(v,{nth:i}):"event"===l&&(m=o.maybe_add_event_selector(v,i).join(",\n")),g=e.session.replace(h,m).row}if(p.start={row:g+1,column:0},100==++c)break}},sync_event_selectors:function(e,n,r){for(var i,a,s=0,l={needle:o.selector_regex.event_key(),regExp:!0,start:{row:0,column:0}};i=d.ace_find_text(l,e,"find");){a=e.session.getTextRange(i).match(o.selector_regex.event_key())[1];var c=d.ace_find_text({needle:"{",start:{row:i.end.row,column:i.end.column}},e,"find"),u=new t.Range(i.start.row,0,c.start.row,c.start.column-1),p=e.session.getTextRange(u),f=i.end.row;if(o.selectors_match(n,o.strip_extra_from_selector(p))){var h=o.format_ast_selector(r),_=o.maybe_add_event_selector(h,a).join(",\n");f=e.session.replace(u,_).row}if(l.start={row:f+1,column:0},10==++s)break}},codeAroundCursorAnalysis:function(e,n){e=e||d.eds["adaptable-editor"],n=n||e.getCursorPosition();var r=new t.Range(n.row,n.column,n.row,n.column),i={nextOpeningBrace:d.ace_find_text({needle:"{",start:r},e,"find"),nextClosingBrace:d.ace_find_text({needle:"}",start:r},e,"find"),prevOpeningBrace:d.ace_find_text({needle:"{",start:r,backwards:!0},e,"find"),prevClosingBrace:d.ace_find_text({needle:"}",start:r,backwards:!0},e,"find"),prevMediaSupports:d.ace_find_text({needle:"@(?:media|supports)",regExp:!0,start:r,backwards:!0},e,"find"),prevKeyframes:d.ace_find_text({needle:"@keyframes",regExp:!0,start:r,backwards:!0},e,"find"),prevKF:d.ace_find_text({needle:"(\\bfrom\\b|\\bto\\b|\\d+%)\\s*?{",regExp:!0,start:r,backwards:!0},e,"find")};if(i.nextOpeningBraceIndex=i.nextOpeningBrace?e.session.doc.positionToIndex(i.nextOpeningBrace.start,n.row):null,i.nextClosingBraceIndex=i.nextClosingBrace?e.session.doc.positionToIndex(i.nextClosingBrace.start,n.row):null,i.MediaSupportsRange=i.prevMediaSupports?d.get_css_fold_widget_range(e,i.prevMediaSupports.start.row):null,i.KeyframesRange=i.prevKeyframes?d.get_css_fold_widget_range(e,i.prevKeyframes.start.row):null,i.KFRange=i.prevKF?d.get_css_fold_widget_range(e,i.prevKF.start.row):null,void 0===i.KFRange){i.KFRange={start:i.prevKF.start,end:{}};var a=d.ace_find_text({needle:"}",start:i.prevKF},e,"find");i.KFRange.end=a?a.end:i.KFRange.end}if(i.insideSomething=i.nextClosingBrace&&(i.nextClosingBraceIndex<i.nextOpeningBraceIndex||!i.nextOpeningBrace),i.targetClosingBracePos=!1,i.insideSomething){i.inside="selector",i.targetClosingBracePos=i.nextClosingBrace.end;var o=i.nextClosingBrace.end.row,s={MediaSupportsRange:{stayInside:!0},KeyframesRange:{targetCB:"KeyframesRange"},KFRange:{targetCB:"KeyframesRange"}};for(var l in s){var c=i[l];c&&o==c.end.row&&(i.inside=l,i.targetClosingBracePos=!s[l].stayInside&&i[s[l].targetCB].end)}}else i.KeyframesRange&&i.KeyframesRange.contains(n.row,n.column)&&(i.insideSomething=!0,i.inside="KeyframesRange",i.targetClosingBracePos=i.KeyframesRange.end);i.prevOpeningBrace;var u,p=i.prevClosingBrace;p?(u=p).end.column++:u={start:{row:0,column:0},end:{row:0,column:0}};var f=d.ace_find_text({needle:"{",start:u},e,"find");if(f){var h=new t.Range(u.end.row,u.end.column,f.start.row,f.start.column-1),_=e.session.getTextRange(h);if(_){if(_.match(";")){var g=_.split(";");_=g[g.length-1]}_&&(i.currentSelectorRange=h,i.currentSelectorText=_.trim())}}return i},prev_code_selector:"",get_code_editor_selector:function(e,t){var n=d.codeAroundCursorAnalysis(e,t).currentSelectorText;return n||"#mt-no-element"},maybe_update_code_selector_highlight:function(e,n,i,a){var o=d.get_code_editor_selector(e,n);(o!==d.prev_code_selector||i)&&t.iframeEditing()&&(r.select_current_selector_elements({scroll:!a,con:"full_code_change",css:o,existingSelCSS:o,doNotUpdateSelectorSuggestions:t.existingSelRadioUsed}),d.prev_code_selector=o)},isCSSEditor:function(e){var t=d.editor_modes[e.container.id];return t&&t.indexOf("css")>-1},get_editor_mode:function(e){let t=e.session.getMode().$id,n=t?t.match(/mode\/([a-z]+)$/):null;return n?n[1]:"unknown"},insert_code_view_selector:function(n){var r,i=d.eds["adaptable-editor"];if(i.session.getMode().$id.indexOf("javascript")>-1)return!1;if(i){var a=i.getCursorPosition(),o=i.getSelectionRange();if(i.session.getTextRange(o))return t.draftSelector.ace.deferSave=!1,i.session.replace(o,n),!0;if(t.draftSelector.ace.editorClickCancelsDeferSave=!1,t.draftSelector.ace.deferSave=!0,t.draftSelector.ace.range){var s=t.draftSelector.ace,l=d.indented_empty_selector(n,s.wsIndent,s.codePrefix,s.codeSuffix),c=i.session.replace(t.draftSelector.ace.range,l);return d.goToLineInsideBrackets(i,c,1),d.cache_draft_selector_range(i,l,t.draftSelector.ace.range,s.wsIndent,s.codePrefix,s.codeSuffix),!0}var u=d.codeAroundCursorAnalysis(i,a),p="",f="",h="",_=0;if(u.insideSomething&&u.targetClosingBracePos){parseInt(t.pref.allow_scss);i.gotoLine(u.targetClosingBracePos.row+1,u.targetClosingBracePos.column+1,!1),a=i.getCursorPosition(),h=d.get_indent_whitespace(i,a),f="\n"}else{h=d.get_indent_whitespace(i,a);var g=u.prevClosingBrace&&u.prevClosingBrace.start.row==a.row?2:1,m=a.row+g>i.session.getLength();f=m?"\n":"",m||i.gotoLine(a.row+g,0,!1),a=i.getCursorPosition(),p="\n",_=1}n=d.indented_empty_selector(n,h,f,p);var v=e.extend(!0,{},a);r=i.session.insert({row:a.row,column:a.column},n),d.cache_draft_selector_range(i,n,new t.Range(v.row,v.column,r.row,r.column),h,f,p),d.goToLineInsideBrackets(i,i.getCursorPosition(),_),d.prev_code_selector=n}},goToLineInsideBrackets:function(e,t,n){e.gotoLine(t.row-n,t.column+1,!1)},cache_draft_selector_range:function(e,n,r,i,a,o){t.draftSelector.ace={editor:e,selectorCode:n,range:r,wsIndent:i,codePrefix:a,codeSuffix:o}},indented_empty_selector:function(e,t,n,r){return n+t+e+" {\n"+t+"\t\n"+t+"}"+r},editor_to_gui:function(e,r,i,a){if(e)n.action_after_timeout(i.attr("id")+"_gui_sync",300,{item:this.editor_to_gui,args:[!1,r,i,a]});else{t.editor_to_gui_running=!0;var s=t.pref.pg_focus,l=a.session.getLine(a.getCursorPosition().row);(l?o.code_edited_property(l.trim()):{}).group,t.trigger_pg_icon_click(s),a.focus(),t.editor_to_gui_running=!1}},gui_to_editor:function(r,i){if(t.gui_to_editor_running=!0,i=i.selector?i:t.get_meta(e("#"+t.selInFocusID),"selector"),r)n.action_after_timeout(i.property.attr("id")+"_code_sync",100,{item:this.gui_to_editor,args:[!1,i]});else{var a=t.get_code_meta(i).editor;if(a){var s,c,u,p,f=a.getCursorPosition(),h=f.row,_=(f.column,a.session.getLength()),g=a.session.getLine(h),m=a.session.getLines(0,_),v=(f.row,ace.require("ace/range").Range),y=o.resolve_inline_editor_content(i);if(y||(y=d.empty_selector_code(i)),a.session.doc.setValue(y,1),l.editor_height_auto_settable("adaptable-editor")&&d.editor_update_height(a,t.stat.adaptableEditor,16*a.session.getLength()),u=a.session.getLength(),s=a.session.getLine(h),c=a.session.getLines(0,u),s!==g){var b=d.ace_find_text({needle:g,wrap:!0},a,"find");b&&b.start.row+1}if(u>=_){for(var w=!1,T=!1,x=!1,k=0;k<c.length;k++)!1===w&&c[k]!==m[k]&&(w=k,x=m[k]),w&&c[k]===x&&(T=k-1);T=!1!==T&&T>=w?T:w,w&&(d.highlightInPlace||(p=a.session.addMarker(new v(w,0,T,1),"tvr-line-highlight","fullLine"),d.highlightInPlace=!0,setTimeout((function(){a.session.removeMarker(p),d.highlightInPlace=!1}),1500)))}}t.gui_to_editor_running=!1}},get_css_fold_widget_range:function(e,t){return e.session.$foldMode?e.session.$foldMode.getFoldWidgetRange(e.getSession(),!1,t):null},get_indent_whitespace:function(e,n){var r=e.session.getTextRange(new t.Range(n.row,0,n.row,n.column)).match(/^\s+/);return(r&&r.length?r.length:0)?r.join():""},beautify_css_or_scss:function(e,t){if(!e)return e;return t=t||{},window.css_beautify(e,t)},beautify_editor_content:function(e){var n=e.getValue(),r=d.beautify_css_or_scss(n);e.setValue(r,1),t.close_context_menu({filter:".cm-editor-options"})}};return d}()})),jQuery(document).ready((function(e){TvrMT.mod.MTint=function(){var t,n,r,i,a,o;runIfExists=function(e,t){return this[e]?this[e].apply(this[e],t):null};var s={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,TvrMT.mod.MTace,i=TvrMT.mod.MTsave,a=TvrMT.mod.MTfolder},builders:["elementor","FLBuilder","oxygen","gutenberg"],intermediaryFrameBuilders:["elementor","oxygen","gutenberg"],active_builders:[],wp_version:null,check_wp_version:function(e,t){t=t||"after";let r=n.compareVersions(s.wp_version,e);return"before"===t?r<0:r>=0},builder_breakpoints:TvrMT.data.dyn.builder_breakpoints,builderUnq:{FLBuilder:{name:"Beaver Builder",runIfExists:runIfExists,intermediaryFrame:!1,mainParam:"fl_builder",frontendParam:"fl_builder",mainUrl:function(e){var r=e||t.pref.preview_url;return n.append_url_param(r,"fl_builder")},frontendPlainUrl:function(){return n.strip_url_param(t.pref.preview_url,"fl_builder")},deactivate:function(){if(TvrMT.integrate.FLBuilder){var e=this.frontendPlainUrl();t.pref.preview_url=e,t.remember_page_viewed(e),this.bb_changes_made()?(TvrMT.integrate.FLBuilder._publishButtonClicked(!0),s.turn_on_targeting_again(!0)):(t.exiting_builder=!0,i.update_prog_indicator("plus",TvrLang.exiting_builder),t.stat.iframeDoc.location=e)}},setup:function(){},bb_is_editing:function(){return!!t.iframeEditing()&&r.stat.body.hasClass("fl-builder-edit")},bb_changes_made:function(){return!!t.iframeEditing()&&r.stat.body.hasClass("fl-builder--layout-has-drafted-changes")},maybe_correct_ui_toggle:function(e){TvrMT.integrate.FLBuilder&&(e.hasClass("fl-builder-done-button")?s.manually_turn_toggle("off","enable_beaver_builder",!0):(e.hasClass("fl-builder-cancel-button")||"dismiss"===e.data("action"))&&s.manually_turn_toggle("on","enable_beaver_builder",!0))},maybe_disable_beaver_builder:function(){if(TvrMT.integrate.FLBuilder&&this.bb_is_editing()){var e=TvrMT.integrate.FLBuilder;r.BBTempDisabled=!0,e.triggerHook?(e.triggerHook("endEditingSession"),s.turn_on_targeting_again(!0)):(e._destroyOverlayEvents(),e._closePanel())}},maybe_reenable_beaver_builder:function(){if(r.BBTempDisabled&&TvrMT.integrate.FLBuilder){var e=TvrMT.integrate.FLBuilder;e.triggerHook?e.triggerHook("restartEditingSession"):this.bb_is_editing()&&e._bindOverlayEvents(),r.BBTempDisabled=!1}}},elementor:{name:"Elementor",intermediaryFrame:!0,winKey:"elementor",mainParam:"action=elementor",frontendParam:"action=elementor",allDevicesEquiv:"desktop",newResponsiveMode:!1,runIfExists:runIfExists,setup:function(r,i,a,o,l,c){var u=r.elementorFrontend?r.elementorFrontend.config:i.frontendWindow.elementorFrontend.config,d=o.find("#elementor-navigator");e.extend(!0,s.builderUnq.elementor,i,{main:r[c],config:r.ElementorConfig,frontend:r.elementorFrontend,frontendConfig:u,breakpoints:u.breakpoints,admin:r.elementorAdmin,leftPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,cssLeft:0,cssWidth:0},rightPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,prevDockedRight:null},stat:e.extend(!0,a,{$body:o.find("body"),$wrapper:o.find("#elementor-editor-wrapper"),$preview:o.find("#elementor-preview"),$leftPanel:o.find("#elementor-panel"),$navigatorWidget:d,$rightPanel:d,selectors:{preview:"#elementor-preview",leftPanel:"#elementor-panel",footerPanel:"#elementor-panel-footer",responsiveBar:"#elementor-responsive-bar",navigatorToggle:"#elementor-panel-footer-navigator",navigatorClose:"#elementor-navigator__close"}})}),this.newResponsiveMode=n.compareVersions(this.config.version,"3.2")>-1,TvrMT.integrate.elementor=s.builderUnq.elementor,s.override_builder_container_frame_css("elementor"),this.track_builder_device_view_click("elementor"),this.trackLeftPanel(),this.trackRightPanel();var p=s.builderUnq.elementor;s.observeTarget(p.stat.$leftPanel[0],p,{observerConfig:{childList:!0},item:function(e,n,r){var i=r.addedNodes;i.length&&"elementor-panel-inner"===i[0].id&&t.default_to_tab("mq")}})},track_builder_device_view_click:function(t){var r=this;r.getDeviceToggleOrContainer().on("click",(function(i){var a=e(i.target),o=!1;if(!r.newResponsiveMode){var l=a.closest(".elementor-panel-footer-sub-menu-item");n.isDomEl(l)&&(a=l,o=!0)}var c,u=r.newResponsiveMode&&"breakpoint"===a.attr("name"),d=r.newResponsiveMode&&a.hasClass("eicon-device-responsive"),p=r.newResponsiveMode&&a.parent().hasClass("e-responsive-bar__close-button");(u||d||p||o)&&(c=d?r.responsiveToolbarShowing()&&!r.isDesktopDeviceMode()?"mobile":"desktop":p?"desktop":r.getDeviceModeFromToggle(a),s.update_mt_device_view(t,c))}))},trackLeftPanel:function(){var n=this,r=n.stat.$leftPanel;s.builderLeftPanelAdjusted("elementor",!0),t.after_animation(r,{type:"transition",aspect:"elementorLeftPanelAdjusted"}),r.on("mousedown.tvr","div.ui-resizable-handle",(function(){n.builderLeftPanelDragging=!0,s.builderLeftPanelAdjusted("elementor")})),e(n.mainWindow.document).on("mouseup.tvr",(function(){n.builderLeftPanelDragging&&(s.builderLeftPanelAdjusted("elementor",!0),n.builderLeftPanelDragging=!1)}))},trackRightPanel:function(){var r=this,i=r.stat;r.rightPanel.prevDockedRight=r.elemNavIsDockedRight(),r.rightPanel.prevSpaceUsed=r.getEffectiveNavWidth(i.$navigatorWidget),i.$wrapper.on("mousedown.tvrnavtoggle","#elementor-panel-footer-navigator, #elementor-navigator__close",(function(){r.respondToRightPanelAdjust=!0})),i.$navigatorWidget.on("mousedown.tvrnav",(function(){r.elementorNavDragging=!0,s.builderRightPanelAdjusted("elementor")})),e(r.mainWindow.document).add(t.stat.doc).on("mouseup.tvrnav",(function(t){if(r.elementorNavDragging){if(r.elementorNavDragging=!1,!n.isDomEl(e(t.currentTarget.body).find("#elementor-editor-wrapper")))return r.respondToRightPanelAdjust=!0,!1;s.builderRightPanelAdjusted("elementor",r.doUpdatePreviewForRightPanel())}})),t.after_animation(i.$preview,{type:"transition",aspect:"elementorRightPanelAdjusted"});var a=i.$preview[0];new MutationObserver((function(e){e.forEach((function(e){r.respondToRightPanelAdjust&&(r.respondToRightPanelAdjust=!1,s.builderRightPanelAdjusted("elementor",r.doUpdatePreviewForRightPanel()))}))})).observe(a,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})},mainUrl:function(e){var n=e||t.pageOrPostID;return t.adminUrl+"post.php?post="+n+"&action=elementor"},frontendPlainUrl:function(){return t.pref.preview_url},getDeviceToggleOrContainer:function(){return TvrMT.integrate.elementor.stat.$wrapper},getDeviceModeFromToggle:function(e){return this.newResponsiveMode?e.val():e.data("device-mode")},getEffectiveNavWidth:function(e){return e.is(":visible")&&this.elemNavIsDockedRight()?e.width():0},getBuilderRightPanelWidth:function(e){return this.getEffectiveNavWidth(e)},getSidePanelWidth:function(e){var t=TvrMT.integrate.elementor.leftPanel;return t.cssWidth=e.width(),t.cssLeft=parseInt(e.css("left").replace("px","")),t.marginLeft=parseInt(e.css("margin-left").replace("px","")),TvrMT.integrate.elementor.newResponsiveMode?t.cssWidth+t.marginLeft:t.cssWidth+t.cssLeft},adjustSpaceForSiteForRightPanel:function(e){var t=parseInt(this.elemNavIsDockedRight());t&&(e.spaceForSite-=t)},maybePlaceNavRight:function(){if(this.elemNavIsDockedRight()){var e=TvrMT.integrate.elementor.stat.$navigatorWidget,n=t.stat.frontInner.width()-e.width();e.css("left",n+"px")}},rightPanelShowing:function(){return this.elemNavIsDockedRight()},getRightPanelWidth:function(){return this.getEffectiveNavWidth(this.stat.$rightPanel)},doUpdatePreviewForRightPanel:function(){return this.isTabletOrMobileView()&&(this.rightPanel.prevDockedRight||this.elemNavIsDockedRight())},responsiveToolbarShowing:function(){return this.stat.$body.hasClass("e-is-device-mode")},isTabletOrMobileView:function(){return this.stat.$body.hasClass("elementor-device-tablet")||this.stat.$body.hasClass("elementor-device-mobile")},isDesktopDeviceMode:function(){return this.stat.$body.hasClass("elementor-device-desktop")},switchBuilderDeviceView:function(e){var t=this.newResponsiveMode?"#e-responsive-bar-switch-"+e:'.elementor-panel-footer-sub-menu-item[data-device-mode="'+e+'"]';TvrMT.integrate.elementor.stat.$wrapper.find(t).trigger("click"),this.newResponsiveMode},getCurrentDeviceMode:function(){},responsiveViewClassFix:function(e){var t=TvrMT.integrate.elementor.stat.$wrapper.find("#elementor-panel-footer-responsive"),n="elementor-open",r=t.hasClass(n);"desktop"===e&&r?t.removeClass(n):"desktop"===e||r||t.addClass(n)},elemNavIsDockedRight:function(){if(TvrMT.integrate.elementor){var e=TvrMT.integrate.elementor.stat;if(e.$body.hasClass("elementor-navigator-docked"))return e.$navigatorWidget.outerWidth()}return!1},maybeStickNavRight:function(){this.elemNavIsDockedRight()&&(this.stat.$body.addClass("mt-slider-moving"),this.elementorTempNavStick=!0)},maybeUnstickAndPlaceNavRight:function(){this.elementorTempNavStick&&(this.stat.$body.removeClass("mt-slider-moving"),this.elementorTempNavStick=!1),this.maybePlaceNavRight()},wizardHtmlReplace:function(e){e.pattern=t.builder_html_atts_regex(["contenteditable","data-elementor-setting-key","data-pen-placeholder"],[],["\\s?elementor-inline-editing(?: pen)?"])}},oxygen:{name:"Oxygen",intermediaryFrame:!0,winKey:"CtBuilderAjax",mainParam:"ct_builder=true",frontendParam:"oxygen_iframe",allDevicesEquiv:"default",runIfExists:runIfExists,MTDynFrontData:!1,setup:function(t,n,r,i,a,o){var l=t.angular,c=n.frontendWindow.angular,u=l.element(i.find("body")[0]).scope(),d=c.element(a.find("body")[0]).scope();d.isMTTargetingMode=function(){return a.find("html").hasClass("tvr-hh-mode")},e.extend(!0,s.builderUnq.oxygen,n,{main:t[o],frontend:t.CTFrontendBuilderUI,angular:l,frontAngular:c,ControllerUI:u,BuilderController:d,breakpoints:d.mediaList,breakpointsAbove:d.mediaListAbove,leftPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null},rightPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null},stat:e.extend(!0,r,{$oxygenUIElement:i.find("#oxygen-ui"),$topbar:i.find("#oxygen-topbar"),$main:i.find("#ct-viewport-container"),$leftPanel:i.find("#oxygen-sidebar"),$iframe:i.find("#ct-artificial-viewport"),$rightPanel:i.find("#ct-sidepanel"),front:{}})}),TvrMT.integrate.oxygen=s.builderUnq.oxygen,s.override_builder_container_frame_css("oxygen"),this.track_builder_device_view_click("oxygen"),this.trackLeftPanel(),this.trackRightPanel(),this.trackViewportContainer()},wizardHtmlReplace:function(e){e.pattern=t.builder_html_atts_regex(["contenteditable","draggable","ctevalconditions"],["ng","data-aos","dnd","is"])},track_builder_device_view_click:function(){var t=this;t.getDeviceToggleOrContainer().on("click",(function(n){var r=e(n.target),i=r.parent(),a=r.attr("ng-click");if(!a&&i&&(a=i.attr("ng-click"),r=i),a&&a.match(/setCurrentMedia/)){var o=t.getDeviceModeFromToggle(r);s.update_mt_device_view("oxygen",o)}}))},trackLeftPanel:function(){s.builderLeftPanelAdjusted("oxygen",!0)},trackViewportContainer:function(){var e=this.stat;s.observeTarget(e.$main[0],this,{observerConfig:{attributeFilter:["class","style"]},item:function(e,t,n){var r="style"===n.attributeName,i=!r;n.oldValue&&n.oldValue.match(/viewport-fullscreen/);if(r){var a=n.oldValue.match(/margin-left:\s?(.+?);/);(a?a[1]:void 0)!==n.target.style.marginLeft&&(i=!0)}i&&(s.builderLeftPanelAdjusted("oxygen",!0),s.builderRightPanelAdjusted("oxygen",t.doUpdatePreviewForRightPanel()))}})},trackRightPanel:function(){var t=this,n=t.stat;s.builderRightPanelAdjusted("oxygen");n.$oxygenUIElement.on("click",".oxygen-dom-tree-button, .oxygen-close-icon, .oxygen-toolbar-button-dropdown-option",(function(){var n=e(this);n.hasClass("oxygen-toolbar-button-dropdown-option")&&"toggleSettingsPanel()"===n.attr("ng-click")?t.respondToRightPanelAdjust=!0:s.builderRightPanelAdjusted("oxygen",t.doUpdatePreviewForRightPanel())})),s.observeTarget(n.$rightPanel[0],t,{item:function(e,t,n){var r=n.oldValue.match(/width:(.+?);/),i=(r?parseInt(r[1]):null)!==t.rightPanel.prevSpaceUsed;t.respondToRightPanelAdjust&&i&&(t.respondToRightPanelAdjust=!1,s.builderRightPanelAdjusted("oxygen",t.doUpdatePreviewForRightPanel()))}})},mainUrl:function(e){var i=e||t.pref.preview_url,a=n.append_url_param(i,"mto2_edit_link","1");if(a=n.append_url_param(a,"_wpnonce",TvrMT.data.dyn.ui_config.mt_builder_redirect_nonce),t.iframeEditing()&&!e){var o=r.stat.body.find("#wp-admin-bar-oxygen_admin_bar_menu-default").find("a").first();if(n.isDomEl(o)){var s=o.attr("href");s&&!n.isExternalUrl(s)&&(a=s)}}return a},frontendPlainUrl:function(){return this.maybeStripParams(t.pref.preview_url)},getDeviceToggleOrContainer:function(){return TvrMT.integrate.oxygen.stat.$oxygenUIElement},getDeviceToggleFilter:function(){return".oxygen-media-query-dropdown li"},maybeStripParams:function(e,t){return e&&e.indexOf("ct_builder")>-1?e.split("?")[0]:e},getDeviceModeFromToggle:function(e){return e.find("img").first().attr("ng-src").match(/media-query\/(.+?).svg$/)[1]},enhancerFullScreenActive:function(){return this.stat.$main.hasClass("viewport-fullscreen")},getSidePanelWidth:function(e){return this.enhancerFullScreenActive()?0:e.width()},adjustSpaceForSiteForRightPanel:function(e){},maybePlaceNavRight:function(){},rightPanelShowing:function(){return this.getRightPanelWidth()},getRightPanelWidth:function(){return this.enhancerFullScreenActive()?0:this.stat.$rightPanel.width()},doUpdatePreviewForRightPanel:function(){return this.isTabletOrMobileView()&&(this.rightPanel.prevDockedRight||this.rightPanelShowing())},isTabletOrMobileView:function(){return"default"!==this.BuilderController.getCurrentMedia()},switchBuilderDeviceView:function(e){TvrMT.integrate.oxygen.BuilderController.setCurrentMedia(e),s.update_mt_device_view("oxygen",e)},inUserClassList:function(e,t){var n=this.BuilderController.classes[e];return n&&t?n.key?"o2-class":"user-class":n},sortedMediaList:function(e,t){var n=s.builder_breakpoints.oxygen,r="maxSize",i=["default"],a=!1,o=n["page-width"][r];for(var l in n)if(n.hasOwnProperty(l)){if("default"==l||"page-width"==l)continue;parseInt(n[l][r])>=parseInt(o)||a?i.push(l):(i.push("page-width"),i.push(l),a=!0)}return a||i.push("page-width"),i},getMediaPreviewSize:function(e){var t=s.builder_breakpoints.oxygen,n=this.sortedMediaList();for(var r in n){if(n.hasOwnProperty(r))if(n[r]===e)return void 0!==(e=n[parseInt(r)+1])?parseInt(t[e].maxSize)+1:360}}},gutenberg:{name:"Gutenberg",context:null,intermediaryFrame:!0,winKey:"wp",allDevicesEquiv:"desktop",runIfExists:runIfExists,userDefinedIds:[],userDefinedClasses:[],whiteList:{ids:[],classes:["wp-block-(?!("+["paragraph","freeform","html","list(-item)?)","quote__citation","table__cell-content","file__content-wrapper"].join("|")+").+","wp-element-(caption|button)","wp-image-\\d+"]},blockBuilders:{installed:TvrMT.data.dyn.blockBuilders,generateBlocks:{whiteList:{ids:[],classes:[]}},greenShift:{whiteList:{ids:[],classes:[]}},kadenceBlocks:{whiteList:{ids:[],classes:["kt-svg-icon-list-item-wrap","kt-svg-icon-list-single","kt-svg-icon-list-text","kt-blocks-info-box-link-wrap","more-link-wrap","kt-tab-title(-active)?","kt-title-item(-\\d+)?","kt-tabs-content-wrap","kt-tab-inner-content","kt-inner-tab-\\d+","wp-block-kadence-tab","kt-testimonial-content-wrap","kt-testimonial-meta-wrap","kt-testimonial-image","wp-block-kadence-form","kadence-blocks-form-field","kb-((text|email|textarea|submit)-)?field(-\\d+)?","kb-forms-submit","wp-block-kadence-advancedbtn","kt-button","wp-block-kadence-column"]}},maxiBlocks:{whiteList:{ids:[],classes:[]}}},setup:function(n,r,i,a,o,l){let c=s.get("gutenberg"),u=(r.frontendWindow,i.document),d=u.querySelector("#editor"),p=u.querySelector("#site-editor"),f=d?"regular":"fse",h=!!d,_=!!p,g=e(h?d:p);if(e.extend(!0,s.builderUnq.gutenberg,r,{main:n[l],frontend:window.wp,MTF:i.triggeringMTF,context:f,isRegular:h,isFSE:_,leftPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,cssLeft:0,cssWidth:0},rightPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,prevDockedRight:null},stat:e.extend(!0,i,{$body:a.find("body"),$wrapper:g,headerContainer:function(e){let t=c.isRegular||s.check_wp_version(6.6)?"div.interface-interface-skeleton__header":"div.edit-site-layout__header-container";return e?t:c.selectElement(t)},preview:function(e,t){t=t||"visual";let n=c.isRegular||s.check_wp_version(6.6)?"div.edit-post-"+t+"-editor":"div.edit-site-"+t+"-editor";return e?n:c.selectElement(n)},responsiveWrapper:function(e,t){if(t&&c.isCodeEditingActive())return c.stat.preview(e,"code");let n=s.check_wp_version(6.7)?'iframe[name="editor-canvas"]':s.check_wp_version(6.5)?c.isRegular?c.editorHasBlocks?"div.interface-interface-skeleton__content":"iframe.editor-canvas__iframe":"iframe.edit-site-visual-editor__editor-canvas":c.isRegular?c.editorHasBlocks?"div.interface-interface-skeleton__content":"div.is-desktop-preview, div.is-tablet-preview, div.is-mobile-preview":"iframe.edit-site-visual-editor__editor-canvas";return e?n:c.selectElement(n)},deviceMenuToggle:function(){return c.selectElement(s.check_wp_version(6.5)?".editor-preview-dropdown__toggle":".block-editor-post-preview__button-toggle")},deviceMenu:function(){return c.selectElement("div.components-dropdown-menu__popover:not(.interface-more-menu-dropdown__content):not(.more-menu-dropdown__content)",c.stat.$doc)},blockPopover:function(){return c.selectElement("div.block-editor-block-popover",c.stat.$doc)},deviceToggleButtons:function(){return c.selectElement(s.check_wp_version(6.5)?"button.components-menu-item__button":"button.block-editor-post-preview__button-resize",c.stat.deviceMenu())},leftPanel:function(){return c.selectElement("div.interface-interface-skeleton__secondary-sidebar")},rightPanel:function(){let e="div.interface-interface-skeleton__sidebar";return s.check_wp_version(6.7)&&(e+=" div.editor-sidebar"),c.selectElement(e)},rightPanelTabs:function(){return c.selectElement(s.check_wp_version(6.7)?"div.editor-sidebar__panel-tabs":c.isRegular?"div.edit-post-sidebar__panel-tabs":"div.edit-site-sidebar-edit-mode__panel-tabs")},footerPanel:function(){return c.selectElement("div.interface-interface-skeleton__footer")}})}),TvrMT.integrate.gutenberg=s.builderUnq.gutenberg,t.loading_builder=!0,!c.mainWindow.MTeditorTracking){t.stat.frontInner.width("100%"),t.mq_tab_pressed(t.stat.res.find(".mq-tab-all-devices")),s.override_builder_container_frame_css("gutenberg");let e=c.stat.deviceMenuToggle();e.length&&c.track(c);let n=c.stat.headerContainer();n.length&&!n.data("mt-observer-bound")?(s.observeTarget(n[0],c,{observerConfig:{childList:!0},item:function(e,t,n){let r=n.addedNodes,i=t.isRegular?"edit-post-header__settings":"edit-site-layout__header";r.length&&r[0].classList.contains(i)&&t.track(t)}}),n.data("mt-observer-bound",1)):e.length||n.length||c.runIfAdded(c,g,c.stat.headerContainer(!0).replace("div.",""),{item:c.track,args:[c],disconnectAfter:!0,timeout:250})}},runIfAdded:function(e,t,r,i){let a="mt-observer-bound-"+r;if(t.length&&!t.data(a)){let o=s.observeTarget(t[0],e,{observerConfig:{subtree:!0,childList:!0},replaceDefaultConfig:!0,item:function(e,s,l){let c=l.addedNodes,u=r;c.length&&c[0].classList&&c[0].classList.contains(u)&&(i.timeout?n.action_after_timeout("delay_gutenberg_track",i.timeout,{item:function(){i.item.apply(this,i.args)}}):i.item.apply(this,i.args),i.disconnectAfter&&(o.disconnect(),t.removeData(a)))}});t.data(a,1)}},isCodeEditingActive:function(){return this.stat.preview(!1,"code").length},whiteListCache:{},isWhiteListedAttribute:function(e,t){let n,r=this;if(void 0!==r.whiteListCache[e])n=r.whiteListCache[e];else{let t=[];r.whiteList[e].length,t.push(...r.whiteList[e]);for(const[n,i]of Object.entries(r.blockBuilders.installed)){let i=r.blockBuilders[n].whiteList[e];i.length,t.push(...i)}n=t.length?new RegExp("^(?:"+t.join("|")+")$","g"):null,r.whiteListCache[e]=n}return null!==n&&t.match(n)},testDomReferences:function(e,t){let n=this.stat;Object.keys(n).forEach((e=>{let t=n[e];if("function"==typeof t){t().length}}))},track:function(e){e.testDomReferences(),e.track_builder_device_view_click(e,"gutenberg"),e.trackSaveOrPublish(e),e.trackPanels(e),e.trackTemplateChange(e),e.mainWindow.MTeditorTracking=!0},currentTemplate:"",unsubscribeTemplateChange:null,unsubscribeDeviceChange:null,trackTemplateChange:function(e){e.unsubscribeTemplateChange&&(e.unsubscribeTemplateChange(),e.unsubscribeTemplateChange=null);let t=e.mainWindow.MTblock;e.currentTemplate=t.getCurrentTemplate(),t.log("The current template",e.currentTemplate),e.unsubscribeTemplateChange=t.subscribe({name:"checkTemplateChange",timeout:250,cb:{item:function(n,r){const i=t.getCurrentTemplate();t.log("Compare templates",e.currentTemplate," -> ",i),i!==e.currentTemplate&&(e.currentTemplate=i,t.log("The template changed",e.currentTemplate," -> ",i),t.editor.remoteQueryAssetLoading(t.shared.editor.doc.location.href,t.getLiveData(t.prevBlocksList,!0)))}}})},getClosestBlocks:function(e){let t=[];for(;e;){if(e.classList){if(e.classList.contains("is-root-container"))break;e.classList.contains("wp-block")&&t.push(e)}e=e.parentNode}return t},prevBlockEls:[],unsavedMTClasses:{},cleanUnusedMTClasses:function(e,n){if(parseInt(t.pref.add_block_classes_all))return;n=n||t.get_all_selector_code(!1,!1,!0);let r=this.mainWindow.MTblock,i=this;e.forEach((e=>{if(e){let t=r.alreadyHasUniqueClass(e.className);n.indexOf(t)>-1||(r.removeUniqueClass(e,"selection"),delete i.unsavedMTClasses[t])}})),i.prevBlockEls=[]},maybeAdjustMTUniqueClasses:function(e){let r=this.mainWindow.MTblock;if(r){let i=this,a=i.prevBlockEls||[],o=i.getClosestBlocks(e[0]),s=a[0],l=o[0],c=parseInt(t.pref.add_block_classes_all);if(!c&&s&&l&&!l.isSameNode(s)&&i.cleanUnusedMTClasses(a),l){i.userDefinedIds=[],i.userDefinedClasses=[],o.forEach((e=>{let t;c||(t=r.maybeAddClassToBlock(e,null,"selection",!1,i.unsavedMTClasses));let n=t?t.split(/\s+/):r.getUserDefinedClass(e,!0);n&&(i.userDefinedClasses=i.userDefinedClasses.concat(n));let a=r.getUserDefinedId(e);a&&i.userDefinedIds.push(a)}));let e=r.getSelectedBlockClientId(),t=r.getClientId(l);e!==t&&r.selectBlock(t),n.action_after_timeout("open_gutenberg_advanced",50,{item:i.maybeOpenAdvancedPanel,args:[i,!0]})}i.prevBlockEls=o}},maybeOpenAdvancedPanel:function(t,r){let i=t.mainWindow.document.querySelector("div.block-editor-block-inspector__advanced");if(i){if(!i.classList.contains("is-opened")){let e=i.querySelector("button.components-panel__body-toggle");e&&e.click()}r&&n.action_after_timeout("scroll_gutenberg_class",50,{item:function(r){let i=t.stat.rightPanel();n.scroll_to({scrollDiv:i,offset:n.getElPosRelToContainer(e(r),i)})},args:[i]})}},targetingEnabled:function(){},targetingDisabled:function(){},respondToSaveOrPublish:function(r){if(!o)return;const{select:i}=r.main.data;let s=r.mainWindow.MTDynFrontData,l=i("core/editor").getCurrentPostId(),c=i("core/editor").getPermalink(),u=i("core/editor").getEditedPostAttribute("title"),d=r.mainUrl(l),p=t.get_selector_in_focus(),f=/\\Microthemer\\is_post_or_page\(\s*-1,\s*"Untitled"\s*\)/,h=s.logic,_=h.match(f),g=_?h.replace(f,"\\Microthemer\\is_post_or_page("+l+', "'+u+'")'):h,m=i("core/editor").getCurrentPost().status;if(o.updateAllDataStores("post_status",m,s),_&&(o.updateAllDataStores("title",u,s),o.updateAllDataStores("post_title",u,s),o.updateAllDataStores("logic",g,s),o.updateAllDataStores("iframe-url",encodeURIComponent(d),s),o.updateAllDataStores("permalink",c,s),e("#testPreviewPath").val(d),t.remember_page_viewed(d,c)),p){let e=n.checkObject(t.uiData,[p.sectionSlug,"this","logic"]);if(e&&e.expr&&e.expr.match(f)&&l){let r;if(n.checkObject(t.uiData,[p.sectionSlug,"this","label"]).match(/^Untitled/)){let e=t.action_rename_section(!1,p,u);r=e.settings,p=e.M,o.updateAllDataStores("title",u,s),o.updateAllDataStores("post_title",u,s)}e.expr=e.expr.replace(f,"\\Microthemer\\is_post_or_page("+l+', "'+u+'")'),n.updateObject(t.uiData,[p.sectionSlug,"this","logic","expr"],e.expr),t.logicTextareaChanged=!0,a.save_folder_logic(!1,!0,e,p,r)}}},trackSaveOrPublish:function(e){const t="core/editor",{select:n,subscribe:r}=e.main.data;let i=n(t).isSavingPost()||n(t).isAutosavingPost();r((()=>{const r=n(t).isSavingPost()||n(t).isAutosavingPost();i&&!r&&e.respondToSaveOrPublish(e),i=r}))},trackPanels:function(e){const{select:r,subscribe:i}=e.main.data;let a=r("core/editor").isListViewOpened()||r("core/editor").isInserterOpened();i((()=>{const i=r("core/editor").isListViewOpened()||r("core/editor").isInserterOpened();i!==a&&(a=i,n.action_after_timeout("gutenberg_side_panel_adjusted",250,{item:function(){!function(e){let n=e.getSidePanelWidth(e.stat.leftPanel());t.get_local_window_function("shift_rulers_for_builder")(n)}(e)}}))})),this.trackResponsiveWrapper(e)},trackResponsiveWrapper:function(e){const{select:t,dispatch:i}=e.main.data;let a=e.stat.responsiveWrapper()[0];if(a){new ResizeObserver((e=>{n.action_after_timeout("gutenberg_wrapper_resized",500,{item:function(){r&&r.reposition_overlays({con:"reg"})}})})).observe(a)}},manualFrontInit:function(e,t,r,i){i.log("We need to load MT frontend.js and data dynamically",r),e.MTDynFrontData=structuredClone(r),e.MTDynFrontData.interactions=1,e.MTWindowLoadFired=!0,this.adjustLogicForBlockContent(e.MTDynFrontData,e,e.parent),n&&r.MTFscript&&n.loadJSFile(r.jQueryScript,{item:function(){i.log("Add jQuery",r.jQueryScript),n.loadJSFile(r.MTFscript,{item:function(){i.log("Add MT frontend.js",r.MTFscript),i.signalBlocksReadyAndMTLoaded(t)}},t)}},t)},getQueryParams:function(e){e=e.split("+").join(" ");for(var t,n={},r=/[?&]?([^=]+)=([^&]*)/g;t=r.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n},getFSEScreenHeading:function(e){e.wp;let t=e.MTblock.getCurrentScreenTitle();if(t)return t;let n=e.document.querySelector("h1.edit-site-sidebar-navigation-screen__title");return n?n.textContent:""},adjustLogicForBlockContent:function(e,n,r){if(parseInt(t.pref.admin_asset_editing))return;let i,a=s.builderUnq.gutenberg,o=e.id||null,l=e.pagenow||null,c=e.adminPrefix||"",u=(e.blockPrefix,e.defaultLogic||""),d=e.title||"",p=r.MTblock;if(r.document.querySelector("#site-editor")){let e=a.getQueryParams(r.location.search),t=e.postId,n=a.getFSEScreenHeading(r);if(t&&r.location.search)if("page"===e.postType)d=n||r.MTblock.getPostTitle(),i="\\Microthemer\\is_post_or_page("+e.postId+', "'+d+'")';else{let t,r="wp_template";"wp_template"===e.postType?(t=e.postId,d="Template - "+(n||t.split("//").reverse()[0])):"wp_template_part"===e.categoryType||"wp_template_part"===e.postType?(t=e.postId,r="wp_template_part",d="Template part - "+(n||t)):"pattern"===e.categoryType||"wp_block"===e.postType?(t=e.postId,r="wp_pattern",d="Pattern - "+(n||t)):"wp_navigation"===e.postType&&(t=e.postId,r="wp_navigation",d="Navigation - "+(n||t)),t.match("/")&&(t='"'+t+'"'),i='\\Microthemer\\has_template("'+r+'", '+t+', "'+d+'")'}else d="Front page",i='\\Microthemer\\is_post_or_page("front")'}else d=d.replace(c,""),"post-new.php"===l&&(o=-1,d="Untitled"),i="\\Microthemer\\is_post_or_page("+o+', "'+d+'")';p.updateAllDataStores("logic",i,e),p.updateAllDataStores("title",d,e),e.alt_logic&&(e.alt_logic=[],e.alt_logic.unshift({logic:u,title:d}))},updateMTForPageOrContentChange:function(n,i,s,l,c,u,d){d.log("updateMTForPageOrContentChange",e.extend(!0,{},n),l,c),n.frontendWindow=c,n.stat.$frontDoc=e(l),n.frontendWindow.MTDynFrontData=i,n.mainWindow.MTDynFrontData=i,d.updateAllDataStores("iframe-url",s,n.frontendWindow.MTDynFrontData),r.enableInteractions(!0),d.log("Do we need to load MT frontend again?",!c.MTFrontScriptLoaded),c.MTFrontScriptLoaded?(n.adjustLogicForBlockContent(n.frontendWindow.MTDynFrontData,n.frontendWindow,n.mainWindow),r&&r.stat.nestedEls&&r.select_current_selector_elements({})):n.manualFrontInit(c,l,i,o),a.updateAllStyleTagsAndMenuItems(),u&&t.remember_page_viewed(s)},simulatePageOrContentChange:function(t,r,o,s,l){let c=n.append_url_param(o,"test_logic",1)+"&test_all&get_front_data=1",u=!l;s.log("simulatePageOrContentChange",c,u,l),i.simple_ajax_request({skipQueue:1,url:c,type:l?"POST":"GET",sendData:l,dataType:"text",cbFunction:function(e){let n=s.editor.getIframeRefs(),i=n.win,o=n.doc,l=o&&o.head&&o.head.childElementCount&&t.stat,d=a.extractJsonFromText(e);u&&(s.log("Cache the view data in case block editor is reloading",d),s.shared.cache.view.data=d),s.log("Data returned from remote query",c,d,n),l?(s.log("Update MT data on a valid blocks document",o,o.readyState,d),t.updateMTForPageOrContentChange(t,d,r,o,i,u,s),u&&s.editor.maybeResumeObservations(o)):(s.log("The doc is not available yet",o),s.shared.cache.view.pendingMTUpdate=r)}}),e("#testPreviewPath").val(r)},selectElement:function(e,t){return(t=t||this.stat.$wrapper).find(e)},mainUrl:function(e){let n=e||t.pageOrPostID;return t.adminUrl+"post.php?post="+n+"&action=edit"},frontendPlainUrl:function(){return n.checkObject(this.mainWindow,["MTDynFrontData","permalink"])||t.pref.preview_url},getEffectiveRightPanelWidth:function(e){return e&&e.length&&this.settingsAreDockedRight()?parseInt(e.outerWidth()):0},getSidePanelWidth:function(e){return e&&e.length?e.width():0},adjustSpaceForSiteForRightPanel:function(e){},maybePlaceNavRight:function(){},rightPanelShowing:function(){return this.settingsAreDockedRight()},getRightPanelWidth:function(){return this.getEffectiveRightPanelWidth(this.stat.rightPanel())},doUpdatePreviewForRightPanel:function(){},track_builder_device_view_click:function(e,t){let n=e.mainWindow.MTblock;e.unsubscribeDeviceChange&&(e.unsubscribeDeviceChange(),e.unsubscribeDeviceChange=null),e.unsubscribeDeviceChange=n.subscribe({name:"deviceChange",timeout:100,cb:{item:function(t,i){const a=t("core/editor").getDeviceType().toLowerCase();!function(t,i){if(i&&i!==t&&(e.mainWindow.MTcurrentGutDevice=i,s.update_mt_device_view("gutenberg",i),n.editorHasBlocks)){let t=e.mainWindow.document.getElementById("mt-stuff-ignore");"desktop"===i?(s.builderUnq.gutenberg.mt_frontend_setup_vars_and_init&&(s.check_integrations(e.mainWindow,r,!0),s.builderUnq.gutenberg.mt_frontend_setup_vars_and_init()),t&&t.classList.remove("hidden-for-now")):t&&t.classList.add("hidden-for-now")}}(e.mainWindow.MTcurrentGutDevice||"desktop",a)}}})},getDeviceButtonOrMode:function(e,t,n){let r=this.stat.deviceToggleButtons(n),i={desktop:r[0],tablet:r[1],mobile:r[2]};if(e)return{button:i[e]};if(t){let e=Object.keys(i),n=!1;for(let r=0;r<e.length;r++){let a=e[r];if(i[a].isSameNode(t[0])){n=a;break}}return{deviceMode:n}}},responsiveMenuWasTempOpened:!1,deviceMenuDisplayTime:0,hideDeviceMenu:function(e){e.stat.$body.addClass("microthemer-hidden")},showDeviceMenu:function(e){e.stat.$body.removeClass("microthemer-hidden")},switchBuilderDeviceView:function(e){this.mainWindow.MTblock.setDeviceType(n.capitalizeFL(e))},inUserIdList:function(e,t){return t.includes(e)},inUserClassList:function(e,t){return!!t.includes(e)&&(0===e.indexOf("mctr-")?2:1)},getCurrentDeviceMode:function(){},settingsAreDockedRight:function(){if(TvrMT.integrate.gutenberg){let e=this.stat.rightPanelTabs();return e.length?e.outerWidth():0}return 0},wizardHtmlReplace:function(e){},maybeAutoSaveContent:function(){let e=this,t=e.mainWindow.MTblock;t&&Object.keys(e.unsavedMTClasses).length&&t.savePost(e)}},bricks:{}},check_integrations:function(r,i,a){TvrMT.integrate={FLBuilder:!1,elementor:!1,oxygen:!1,gutenberg:!1},this.active_builders=[];var o=a?r:r.parent,l=o.document,c=r.document,u=r.MTDynFrontData||o.MTDynFrontData,d=u&&u.isAdminArea,p=e(l),f=e(c),h=s.builderUnq,_={mainWindow:o,frontendWindow:r},g={document:l,$doc:p,head:l.head,$body:p.find("body"),frontendDocument:c,$frontDoc:f,triggeringMTF:i};s.wp_version=u?u.wp_version:null;for(var m=0;m<s.builders.length;m++){let e=s.builders[m],i=h[e],a=i.winKey;"gutenberg"!==e||!d||n.checkObject(r,["MTblock","hasBlocks"])||r.frameElement&&"editor-canvas"===r.frameElement.name?(i.integrationSkippedOnEditor=!1,a&&o[a]&&("gutenberg"!==e||d)?(s.builderUnq[e].setup(o,_,g,p,f,a),t.stat.tvr.addClass(e+"_is_on"),s.manually_turn_toggle("on","activate_"+e,!0),this.active_builders.includes(e)||this.active_builders.push(e)):(t.stat.tvr.removeClass(e+"_is_on"),s.manually_turn_toggle("off","activate_"+e,!0))):i.integrationSkippedOnEditor=!0}},frontend_preview_loaded:function(e){this.foreach_active_builder({item:function(t){e.document.documentElement.classList.add(t+"-html")}}),TvrMT.integrate.gutenberg&&e.MTblock&&((o=e.MTblock).doBlockChecks(e.document),o.startObservingBlocks(e,e.document)),e.FLBuilder?(TvrMT.integrate.FLBuilder=e.FLBuilder,s.manually_turn_toggle("on","enable_beaver_builder",!0),t.stat.tvr.addClass("FLBuilder_is_on")):(s.manually_turn_toggle("off","enable_beaver_builder",!0),t.stat.tvr.removeClass("FLBuilder_is_on"));var r=n.checkObject(e,["MTDynFrontData","oxygen","page-width"]);r&&n.updateObject(s.builder_breakpoints,["oxygen","page-width","maxSize"],r+"px"),t.loading_builder?(s.turn_off_targeting_for_builder(),t.loading_builder=!1):t.exiting_builder&&(s.turn_on_targeting_again(!0),t.exiting_builder=!1)},turn_on_targeting_again:function(e){var r="turnedOff"===t.tmp.hover_inspect;parseInt(t.pref.hover_inspect)||e&&!r||n.action_after_timeout("enable_targeting_again",150,{item:function(){t.feature_on(!1,"hover_inspect",{noSave:1}),r&&(t.tmp.hover_inspect=!1),t.cancel_draft_selector_edit()}}),i.update_prog_indicator("minus",!1,TvrLang.exiting_builder)},turn_off_targeting_for_builder:function(){TvrMT.integrate.gutenberg||t.gutenbergIsActive()?i.update_prog_indicator("minus",!1,TvrLang.loading_builder):parseInt(t.pref.hover_inspect)?(t.feature_off(!1,"hover_inspect",{noSave:1,tmp:1}),i.update_prog_indicator("minus",{type:"info",short:TvrLang.mt_targeting_disabled,long:"<p>"+t.appName+" "+TvrLang.mt_targeting_enable+"</p>"},TvrLang.loading_builder)):i.update_prog_indicator("minus",!1,TvrLang.loading_builder)},get:function(e){return s.builderUnq[e]},check_builder_autoload:function(){for(var e=Object.keys(TvrMT.data.dyn.integrations),n=0;n<e.length;n++){var r=e[n];if(parseInt(t.pref["autoload_"+r]))return r}return!1},maybe_warn_builder_blocked_edit:function(e){var t=n.checkObject(e,["MTDynFrontData","builderBlockedEdit"]);if(t){var r=t.builder,a=t.reason,o="",l=s.get(r).name;switch(a){case"user-privileges":o="Your <b>user account privileges</b> do not permit editing this page.";break;case"post-type":o="Editing of this <b>post type</b> is not supported.";break;case"edit-lock":o="An <b>edit lock</b> is in place. This is designed to prevent data loss that can happen when using multiple browser tabs. But it can linger for 10 seconds after exiting a post, even when using a single tab."}i.update_full_logs({short:"Builder blocked edit",long:"<p>"+l+" could not be launched to edit the current page.</p><p>"+o+"</p>",type:"warning"})}},get_available_builder:function(){var e=Object.keys(TvrMT.data.dyn.integrations);return!!e.length&&e[0]},maybe_update_available_builder_name:function(){var e=this.get_available_builder();if(e){var n=this.get(e).name;t.stat.settingsMenu.find(".available-builder-name").text(n)}},get_active_builder:function(){return s.active_builders[0]},foreach_active_builder:function(e,t){for(var n=!1,r=e.args||[],i=0;i<s.active_builders.length;i++){var a=s.active_builders[i];if(TvrMT.integrate[a]&&(n=e.item.apply(this,[a].concat(r)),t))return!1}return n},anyBuilderIsActive:function(){for(var e=0;e<this.builders.length;e++)if(TvrMT.integrate[this.builders[e]])return!0;return!1},anyBuilderIsAvailable:function(){return Object.keys(TvrMT.data.dyn.integrations).length},isInsideBuilderUi:function(e){return!(!TvrMT.integrate.FLBuilder||!n.isDomEl(e.closest(".fl-lightbox-wrap"))&&!n.isDomEl(e.closest(".fl-col-overlay")))||(!(!TvrMT.integrate.elementor||!n.isDomEl(e.closest("#elementor")))||!!TvrMT.integrate.oxygen)},launchBuilderOnNewPage:function(e,t){if(t){var n=e.url;if("elementor"===t){if(!e.item_id)return!1;n=e.item_id}return s.activate_builder(t,!0,void 0,n),t}},keyboard_toggle_builder:function(){var n="on",r=["elementor","oxygen"],i=t.stat.settingsMenu.find(["li.activate_gutenberg","li.activate_elementor","li.activate_oxygen","li.enable_beaver_builder"].join(", "));i.length&&i.each((function(){var i=e(this);if("none"!==i.css("display")){if(i.hasClass("enable_beaver_builder"))return t.stat.tvr.hasClass("FLBuilder_is_on")&&(n="off"),s.manually_turn_toggle(n,"enable_beaver_builder"),!1;for(var a=0;a<r.length;a++){var o=r[a],l="activate_"+o;if(i.hasClass(l))return TvrMT.integrate[o]&&(n="off"),s.manually_turn_toggle(n,l),!1}}}))},activate_builder:function(e,r,a,o){if(TvrMT.integrate[e]&&"FLBuilder"!==e&&!r)return!1;if(void 0!==a&&!a)return alert("This page cannot be edited with "+n.capitalizeFL(e)),!1;var l=this.builderUnq[e].mainUrl(o);return t.pref.preview_url=l,t.loading_builder=!0,i.update_prog_indicator("plus",TvrLang.loading_builder),(t.retargetSelector||t.draftSelector.atts.id)&&(t.doNotReselectRevertedRetargetSel=1,t.cancel_draft_selector_edit(!0),t.doNotReselectRevertedRetargetSel=0),s.maybeReleaseBuilderEditLockBeforeExit(l),!0},deactivate_builder:function(e){t.get_local_window_function("shift_rulers_for_builder")(0);var n=this.builderUnq[e].frontendPlainUrl();t.exiting_builder=!0,i.update_prog_indicator("plus",TvrLang.exiting_builder),s.maybeReleaseBuilderEditLockBeforeExit(n),t.pref.preview_url=n,s.active_builders=[],TvrMT.integrate[e]=!1,t.get_local_window_function("slider_moved")(t.rulerVal,!1,!1,t.get_mq_focus())},manually_turn_toggle:function(e,n,r){var i=t.stat.settingsMenu.find("li."+n).find("div.mtonoffswitch"),a=i.hasClass("on"),o={uiCorrection:r};"off"===e&&a?(t.feature_off(i,n,o),s.turn_on_targeting_again(!0)):"on"!==e||a||(t.feature_on(i,n,o),r&&parseInt(t.pref.hover_inspect)&&s.turn_off_targeting_for_builder())},container_frame_css_overrides:function(e){let t="",n=s.get(e);if("gutenberg"===e)t+="body.microthemer-hidden div.components-popover__content { visibility: hidden; }",t+="html.gutenberg-hover_inspect .block-editor-block-popover:not(:has(.is-synced)) { display: none; }",t+=n.stat.responsiveWrapper(!0)+" { margin: 0 auto 0 0 !important; height: 100% !important; border-radius: 0 !important; border: 0 !important; }",s.check_wp_version(6.5)&&(t+=n.stat.preview(!0)+" { padding: 0 !important; }"),t+="body.mt-slider-active iframe { transition: none !important; }";else if("elementor"===e){var r="min-width:0 !important; padding:0 !important; margin:0 !important; ",i="";TvrMT.integrate.elementor.newResponsiveMode?(r+="width:100% !important;",i=".e-responsive-bar__size-inputs-wrapper { display:none !important }"):r+="height:auto !important; width: auto !important;",t+="#elementor-preview { overflow-y: visible !important; }\n",t+="#elementor-preview-responsive-wrapper { "+r+" }\n",t+=i+"\n",t+="html[dir=rtl] body.elementor-editor-active #elementor-panel { left:0 !important; right:auto !important; }",t+="html[dir=rtl] body.elementor-editor-active #elementor-preview { left:280px !important; right: 0 !important; }",t+="@media (min-width: 1440px) { html[dir=rtl] body.elementor-editor-active #elementor-preview { left:300px !important; } }",t+="body.mt-slider-moving.elementor-navigator-docked.elementor-device-tablet #elementor-navigator,\nbody.mt-slider-moving.elementor-navigator-docked.elementor-device-mobile #elementor-navigator {left: auto !important;}"}else if("oxygen"===e){t+="#ct-artificial-viewport { transform: none !important; width: 100% !important; height: calc(100vh - 58px) !important; margin:0 !important; }",t+="#ct-viewport-ruller-wrap { display:none !important; }",t+=".oxygen-zoom-control { display: none !important; }",t+=" @media (max-width: 600px) {  div#oxygen-topbar * {\n    font-size: 10px;\n    padding: 0;\n}\n.oxygen-undo-redo-menus {\n\twidth: 70px;\n}\n.oxygen-toolbar-menus {\n\twidth: 90px;\n}.oxygen-toolbar-button {\n    justify-content: center;\n}}"}return t},targetingAdjusted:function(e){this.foreach_active_builder({item:function(t){let n=s.get(t).stat.document.documentElement,r=t+"-hover_inspect";"Enabled"===e?n.classList.add(r):n.classList.remove(r),s.get(t).runIfExists("targeting"+e,[])}})},forceAppendMTStyleNodes:function(){var e=s.get_active_builder();return n.in_array(e,["oxygen"])},override_builder_container_frame_css:function(e){var t=TvrMT.integrate[e].stat,n=t.document.createElement("style"),r="mt-"+e+"-override-css",i=this.container_frame_css_overrides(e);n.setAttribute("id",r),n.innerHTML=i,t.head.appendChild(n)},maybeReleaseBuilderEditLockBeforeExit:function(e){var r=this.get_active_builder();if("oxygen"!==r)t.maybeFilterNewPreviewUrl(e);else{var a=this.get(r),o=a.main;a.BuilderController.setPostEditLockTransient?(a.BuilderController.setPostEditLockTransient=function(){},i.simple_ajax_request({type:"POST",url:n.stripURLProtocol(o.ajaxUrl),plus:tvrsprintf(TvrLang.remove_builder_edit_lock,a.name),minus:tvrsprintf(TvrLang.remove_builder_edit_lock_failed,a.name),sendData:{action:"unset_oxygen_edit_post_lock_transient",post_id:o.postId,nonce:o.nonce},cbFunction:function(n){t.maybeFilterNewPreviewUrl(e)}})):t.maybeFilterNewPreviewUrl(e)}},removeBuilderEditLockAndLaunch:function(){},maybeAdjustSiteSpaceForRightPanel:function(e,t){t=t||0;var n=s.builderUnq[e].rightPanelShowing();return n&&(t+=parseInt(n)),t},get_builder_match_from_site_preview_width:function(e,r,i){r=r||".+?",i=i||".+?";var a=n.checkObject(t.mqs,[e,"site_preview_width"]);return!(t.isContainerQuery(e)||!a)&&a.match(new RegExp("builder\\.("+r+")\\.("+i+")$"))},device_key_matches:function(e,n,r,i){var a;if("getBuilderKey"===n){if(a=this.get_builder_match_from_site_preview_width(r,e))return a[2]}else if("getMTKey"===n)for(var o in t.mqs)if(i.hasOwnProperty(o)&&(a=this.get_builder_match_from_site_preview_width(o,e,r)))return o;return!1},max_mq_matches_builder:function(e,t,n,r,i,a){var o=this.device_key_matches(e,t,n,r);if(o)return o;for(var s in r)if(r.hasOwnProperty(s)&&!r[s].container&&r[s].max===i&&!r[s].min){a=s;break}return a},mq_has_string_in_label:function(e,n){for(var r in t.mqs)if(t.mqs.hasOwnProperty(r)){var i=t.mqs[r];if(e===i.max&&i.label.indexOf(n)>-1)return!0}return!1},get_builder_breakpoints:function(e){var n=s.builder_breakpoints[e],r={short:null,max:!1,newPreviewWidth:t.get_local_window_function("get_all_devices_width")().width},i={};switch(e){case"gutenberg":(i=n).desktop=r;break;case"elementor":i={desktop:r,tablet:{short:"md",max:n.lg-1,newPreviewWidth:n.md},mobile:{short:"sm",max:n.md-1,newPreviewWidth:360}};break;case"oxygen":i={default:r};for(var a=["page-width","tablet","phone-landscape","phone-portrait"],o=0;o<a.length;o++){var l=a[o];i[l]={max:parseInt(n[l].maxSize),newPreviewWidth:s.get("oxygen").getMediaPreviewSize(l)}}}return i},check_synced_page_builder_responsive_views:function(e){return this.foreach_active_builder({item:s.maybe_update_builder_device_view,args:[e]})},maybe_update_builder_device_view:function(e,r){var i=this.get(e),a=this.get_builder_breakpoints(e),o=this.builderUnq[e].allDevicesEquiv,l=this.max_mq_matches_builder(e,"getBuilderKey",r,a,n.checkObject(t.mqs,[r,"max"]),"all-devices"===r&&o);if("gutenberg"===e){let e=i.stat.deviceMenuToggle();i.mainWindow.MTblock;if(i.prevTabNotSynced=!l,!e.length||e.attr("aria-disabled")||i.isCodeEditingActive())return!1}if(l)return s.builderUnq[e].switchBuilderDeviceView(l),!0},update_mt_device_view:function(e,n){var r=s.get_builder_breakpoints(e),i=this.builderUnq[e].allDevicesEquiv,a=r[n].newPreviewWidth,o=r[n].max;if(a){var l=s.max_mq_matches_builder(e,"getMTKey",n,t.mqs,o,n===i&&"all-devices");if(l){var c=t.get_local_window_function("get_site_preview_width")(l);c&&(a=c),t.mq_tab_pressed(t.stat.res.find(".mq-tab-"+l),!1,a,!0)}else t.get_local_window_function("slider_moved")(a,!1,!1,t.get_mq_focus())}},maybeAdjustSliderValForBuilderPreview:function(e,t){if(!(t=t||s.get_active_builder()))return e;var n=this.get_builder_breakpoints(t),r=this.max_mq_matches_builder(t,"getBuilderKey",!1,n,e,!1),i=!!n[r]&&n[r].newPreviewWidth;return i&&("elementor"!==t||this.mq_has_string_in_label(i,"Elementor"))&&(e=i),e},builderLeftPanelAdjusted:function(e,n,r){let i=TvrMT.integrate[e];if(!i)return;r=r||i.stat.$leftPanel||i.stat.leftPanel();let a=TvrMT.integrate[e].leftPanel;a.spaceUsed=s.builderUnq[e].getSidePanelWidth(r),a.MTPreviewWidth=t.previewWidth,a.spaceForSite=a.MTPreviewWidth-(null!==a.prevSpaceUsed?a.prevSpaceUsed:-a.spaceUsed),s.builderUnq[e].adjustSpaceForSiteForRightPanel(a),t.get_local_window_function("shift_rulers_for_builder")(a.spaceUsed),t.rulerVal<t.frameWidth&&t.get_local_window_function("slider_moved")(a.spaceForSite,!1,!1,t.get_mq_focus()),s.builderUnq[e].maybePlaceNavRight(),a.prevSpaceUsed=a.spaceUsed},maybeShiftRulersForBuilder:function(){var e=s.get_active_builder();"gutenberg"!==e&&n.in_array(e,s.intermediaryFrameBuilders)&&s.builderLeftPanelAdjusted(e)},builderRightPanelAdjusted:function(e,n){var r=TvrMT.integrate[e],i=r.stat.$leftPanel||r.stat.leftPanel(),a=r.rightPanel,o="gutenberg"===e?r.stat.responsiveWrapper().width():t.stat.frontInner.width(),l=r.getRightPanelWidth(),c=o-(null!==a.prevSpaceUsed?a.prevSpaceUsed:0);c-=r.getSidePanelWidth(i),"oxygen"===e&&r.enhancerFullScreenActive()||(a.prevSpaceUsed=l,a.prevDockedRight=r.rightPanelShowing()),n&&(t.get_local_window_function("slider_moved")(c,!1,!1,t.get_mq_focus()),s.builderUnq.elementor.maybePlaceNavRight())},maybeAdjustPreviewWidthForBuilder:function(e){var t=s.get_active_builder();if(!t||TvrMT.integrate.gutenberg)return e;var r=n.checkObject(TvrMT.integrate,[t,"leftPanel","spaceUsed"]);return(r=s.maybeAdjustSiteSpaceForRightPanel(t,r))?e+r:e},filter_mt_ignore_atts:function(e,t,n){var r=n?n.split(/\s+/g):[],i={ids:{oxygen:["ct-controller-ui","ct-builder"]},classes:{gutenberg:["alignnone","block-core-columns","block-editor-block-list__layout","components-disabled","editor-post-title__input","gutenberg-html","has-child-selected","has-block-overlay","has-editable-outline","is-dark-theme","is-desktop-preview","is-tablet-preview","is-mobile-preview","is-editing-disabled","is-hovered","is-outline-mode","is-reusable","is-root-container","is-selected","rich-text","components-placeholder","wp-block","wp-block-paragraph","wp-block-list","wp-block-list-item","wp-block-quote__citation"],elementor:["elementor-html","pen","elementor-edit-mode","elementor-inline-editing","elementor-element-edit-mode","elementor-element-editable","ui-sortable-handle","ui-sortable","ui-resizable"],oxygen:["oxygen-html","oxygen-builder-body","ct-builder","ct-highlite-outer-template","ct-inner-content-workarea","ct-inner-wrap","ng-scope","ng-binding","ct-component","ct-highlight","ct-active-parent","ct-active","ct-links","ng-touched"]}};if("classes"===e)for(let e=0;e<r.length;e++){let n=r[e];n.match(/^wopb-block-.+?$/)&&t.push(n)}return this.foreach_active_builder({item:function(n){if(i[e][n]&&(t=t.concat(i[e][n])),"oxygen"===n||"gutenberg"===n)for(var a=0;a<r.length;a++){var o=r[a];if(void 0!==o){if("gutenberg"===n){let r=s.get(n);{let n="ids"===e&&!r.inUserIdList(o,r.userDefinedIds)&&!r.isWhiteListedAttribute(e,o),i="classes"===e&&!r.inUserClassList(o,r.userDefinedClasses)&&!r.isWhiteListedAttribute(e,o);(n||i)&&t.push(o)}}"oxygen"===n&&"classes"===e&&!s.get("oxygen").inUserClassList(o)&&o.match(/(^wf-)|_/)&&t.push(o)}}}}),t},maybeFlagUserClasses:function(e,t){var n,i=s.get_active_builder();if("oxygen"===i||"gutenberg"===i&&o&&r.triggerEl.length){var a=s.get(i);if(!("gutenberg"!==i||(n=a.userDefinedClasses)&&n.length))return;for(var l=0;l<t.length;l++){var c=t[l]?t[l].substr(1):"";if("oxygen"===i){if("user-class"===a.inUserClassList(c,!0)){e.isUserClass=1;break}}else if("gutenberg"===i){let t=a.inUserClassList(c,n);if(t){e.isUserClass=t;break}}}}},reinitRules:function(){return TvrMT.integrate.elementor&&TvrMT.integrate.elementor.main.saver.isEditorChanged()},observeTarget:function(t,n,r){r.observerConfig=r.observerConfig||{};var i=new MutationObserver((function(e){e.forEach((function(e){r.item.apply(this,[t,n,e].concat(r.args))}))})),a=r.replaceDefaultConfig?r.observerConfig:e.extend(!0,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0},r.observerConfig);return i.observe(t,a),i}};return s}()})),jQuery(document).ready((function(e){TvrMT.mod.MTloop=function(){var t,n,r,i,a,o,s,l,c={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,TvrMT.mod.MTace,TvrMT.mod.MTint,i=TvrMT.mod.MTdd,TvrMT.mod.MTsave,a=TvrMT.mod.MTgrid,o=TvrMT.mod.MTwidget,s=TvrMT.mod.MTfolder,l=TvrMT.mod.MThtml},run:function(r,i,a){var o=n.check_type(i,["string","function"]);if(o||!i.config_set){o&&(i="string"===o?{find:i,cb:t.find}:{cb:i});var s=i.template&&c.loop_configs[i.template]?c.loop_configs[i.template]():{};(i=e.extend(!0,{},c.default_loop_config,s,i)).normalise&&((i=c.run(i,i)).internal_cb=!1)}r=0!==(a=n.isDefined(a)?a:0)||i.internal_cb?r:[r],i.itemIndex=-1;for(var l=n.get_array_or_object_keys(r),u=0;u<l.length;u++){var d=l[u];i.itemIndex++,i.totalIndex++,i.parent=r,i.item=r[d];var p=a.toString(),f=i.levels[p]?i.levels[p]:{},h=f.item?f.item:a,_=i.item&&f.loop?i.item[f.loop]:i.item;if(i.level=a,i.depth=h,i.key=d,i.next=_,i[h+"_key"]=d,i[h]=i.item,c.skip(i,"Run",h,d)||(i=c.run_callbacks(i,a)),i.return)return i;if(i.continue)i.continue=!1;else if(!i.next||i.maxDepth===h||!n.check_type(i.next,["array","object"])||c.skip(i,"Loop",h,d)||"normalise"===d&&i.internal_cb||(i=c.run(i.next,i,a+1)),i.return)return i}return i},default_loop_config:{config_set:!0,levels:{},maxLevel:null,itemIndex:-1,totalIndex:-1,internal_cb:function(){return[{item:c.normalise_input}]},before_cb:{},cb:{},continue:!1,return:!1,result:{},root:1,onlyRun:{},skipRun:{},onlyLoop:{},skipLoop:{},normalise:{levels:{levelValue:"object"},before_cb:{levelValue:"array",arrayValue:"object"},cb:{levelValue:"array",arrayValue:"object"},onlyRun:{levelValue:"array",arrayValue:"string"},skipRun:{levelValue:"array",arrayValue:"string"},onlyLoop:{levelValue:"array",arrayValue:"string"},skipLoop:{levelValue:"array",arrayValue:"string"}}},loop_configs:{ui:function(){return{levels:{0:{item:"root"},1:{item:"section"},2:{item:"selector",loop:"styles"},3:{item:"group"},4:{item:"property"}},skipLoop:{selector:["this"]},skipRun:{selector:["this"]},settings:{savePackage:[],global_scans:[]},before_cb:{global:[{item:c.set_trail}],root:[],section:[{item:c.skip_empty_item,args:[]},{item:c.maybe_recurse,args:[]},{item:c.maybe_only_recurse,args:[]},{item:c.maybe_skip_all_devices_important,args:[]}],selector:[{item:c.skip_empty_item,args:[]},{item:c.normalise_important_missing_styles,args:[]}]},trail:{prepare:[],item:[]},onlyRecurse:!1,incRecurse:!0,recurse:{keys:{non_section:["m_query","important"],m_query:!0},count:0,trail:[],rootRecurseKey:!1,recurseKey:!1,current:!1,mq_key:"all-devices",defaultMQKey:"all-devices"}}}},skip_empty_item:function(e,t){return e.item||e.continue,e},normalise_important_missing_styles:function(e,t){return"selector"===e.depth&&"important"===e.recurse.recurseKey&&(e.next=e.item),e},normalise_input:function(e,t){if(e.normalise[e.key]){var r,i,a,o,s=e.key,l=e[s],u=n.check_type(l),d=e.normalise[e.key];switch(u){case"string":case"function":r={global:l},e[s]=r,e=c.normalise_input(e,t);break;case"array":for(var p in r={},l){a="levels"!=s&&e.levels[p]&&e.levels[p].item?e.levels[p].item:p;var f=n.check_type(l[p]);o="array"==d.levelValue?"array"==f?l[p]:[l[p]]:{item:l[p]},r[a]=o}e[s]=r,e=c.normalise_input(e,t);break;case"object":for(var h in r={},l)a="levels"!=s&&e.levels[h]&&e.levels[p].item?e.levels[h].item:h,o=i=l[h],"array"!=n.check_type(i)&&"array"==d.levelValue&&(o=[o]),r[a]=o;e[s]=r}}return e},run_callbacks:function(e,t){var n;if(e.internal_cb)n=e.internal_cb();else{var r=e.before_cb.global?e.before_cb.global:[],i=e.before_cb&&e.before_cb[e.depth]?r.concat(e.before_cb[e.depth]):r,a=e.cb.global?e.cb.global:[],o=e.cb[e.depth]?a.concat(e.cb[e.depth]):a;n=i.concat(o)}if(n&&n.length)for(var s=0;s<n.length;s++){var l=n[s],c=[e,t];if(c=l.args?c.concat(l.args):c,(e=l.item.apply(this,c)).continue||e.return)return e}return e},find:function(e,t){return e.item===e.find&&(e.found=e.key,e.return=!0),e},skip:function(e,t,r,i){var a=e["only"+t],o=e["skip"+t],s=a.global?a.global:[],l=o.global?o.global:[],c=a[r]?a[r]:[],u=o[r]?o[r]:[],d=s.concat(c),p=l.concat(u);return d.length&&!n.in_array(i,d)||p.length&&n.in_array(i,p)},maybe_only_recurse:function(e,t){return!e.onlyRecurse||e.recurse.current||n.in_array(e.key,["non_section","important","m_query"])||(e.continue=!0),e},recur_mode:function(e){return e.recurse.recurseKey?e.recurse.recurseKey:"no_recurse"},maybe_skip_all_devices_important:function(e,t){var n=e.recurse;return"important"===n.recurseKey&&"all-devices"===n.mq_key&&c.skip(e,"Loop","mq_key","all-devices")&&(e.continue=!0),e},set_trail:function(e,t){e.trail.prepare[t]=e.key,e.trail.prepare[0]=e.trail.toRoot?e.trail.toRoot:null,e.trail.prepare=e.trail.prepare.slice(0,t+1);var r=n.flatten(e.trail.prepare);return r=r.filter((function(e){return null!==e})),e.trail.item=r,e.trail[e.depth]=r||[],e.trail.root_rel=e.trail.prepare.slice(1),e.trail.section_rel=e.trail.prepare.slice(2),e.trail.selector_rel=e.trail.prepare.slice(3),e.trail.group_rel=e.trail.prepare.slice(4),e.trail["root_to_"+e.depth]=e.trail.prepare.slice(1,t+1),"property"===e.depth&&(e.trail[e.depth+"Styles"]=[].concat(e.trail.selector,["styles",e.group_key,e.property_key])),e},maybe_recurse:function(n,r){var i=n.recurse;if(i.keys[n.key]){if(!n.incRecurse)return n.continue=!0,n;if(i.parentCache=e.extend([],n.parent),i.rootRecurseKey="non_section",i.key=n.key,i.current=!0,"non_section"===i.key)for(var a=["m_query","important"],o=0;o<a.length;o++){var s=a[o];if(i.recurseKey=s,t.uiData.non_section[s]){var l=t.uiData.non_section[s];if("m_query"===s){if(!c.skip(n,"Loop","recurse_key",s))for(var u=Object.keys(l),d=0;d<u.length;d++){var p=u[d];i.mq_key=p,n.trail.toRoot=[i.rootRecurseKey,i.recurseKey,i.mq_key],c.skip(n,"Loop","mq_key",p)||(n=c.run(l[p],n,0))}}else c.skip(n,"Loop","recurse_key","important")||(i.mq_key="all-devices",n.trail.toRoot=[i.rootRecurseKey,i.recurseKey],n=c.run(l,n,0))}}else if("m_query"===i.key&&!c.skip(n,"Loop","recurse_key","important")){i.current&&(i.nestedRecur={rootRecurseKey:i.rootRecurseKey,recurseKey:i.recurseKey,mq_key:i.defaultMQKey,toRoot:n.trail.toRoot}),i.recurseKey="important";for(var f=t.uiData.non_section.important.m_query,h=Object.keys(f),_=0;_<h.length;_++){p=h[_];i.mq_key=p,i.current=!0,n.trail.toRoot=[i.rootRecurseKey,i.recurseKey,"m_query",i.mq_key],n.depth="mq",c.skip(n,"Loop","mq_key",p)||(n=c.run(f[p],n,0))}}i.nestedRecur?(i.rootRecurseKey=i.nestedRecur.rootRecurseKey,i.recurseKey=i.nestedRecur.recurseKey,i.mq_key=i.nestedRecur.mq_key,n.trail.toRoot=i.nestedRecur.toRoot,i.nestedRecur=!1):(i.rootRecurseKey=!1,i.recurseKey=!1,i.current=!1,i.mq_key=i.defaultMQKey,n.trail.toRoot=[]),n.parent=i.parentCache,n.continue=!0}return n},update_item_index:function(e,t,n){if(e.recurse.current)return e;var r=e.depth,i={section:{incr:100,item:e.item.this},selector:{incr:1,item:e.item}},a=e[r+"_index"],o=i[r].incr,s=i[r].item,l=e[r+"_index"]=void 0===a?0:a+o;if(s&&l!==s.index){var u="section"===r?["this","index"]:["index"];c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:e.trail[r].concat(u),data:l})}if(s&&"selector"===r){let t=s.abs_index;if(null==t){let t=r+"_abs_index",n=e[t],i=e[t]=void 0===n?0:n+o;c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:e.trail[r].concat(["abs_index"]),data:i})}}return"section"===r&&(e.selector_index=-1),e},check_values:function(r,i,a){switch(r.depth){case"selector":case"group":var o=r.settings.has_values,s=r.recurse.mq_key,l=!1,c=r.group,u="opts-"+r.section_key+"-"+r.selector_key,d=t.is_cur("selector",u),p={grid:{},transform:{},html:{}};if(o||(o={},r.settings.has_values=o),d&&(o.current_sel_checked=1),"group"===r.depth){if("code"===r.group_key){var f=n.checkObject(r.selector,["styles","code","css","value"]);if("consolidatedGUI"===f){if(!t.scss_enabled){var h=n.checkObject(r.selector,["ast","rules"]);if(h)for(var _ in h)if(h.hasOwnProperty(_)){var g=h[_];if(g&&g.length){l=!0;break}}}}else f&&"string"==typeof f&&(l=t.extract_inner_styles(f))}else for(var m in c)if(c.hasOwnProperty(m)&&n.isDefined(c[m])){if(l=!0,"html"!==r.group_key&&"grid"!==r.group_key&&"transform"!==r.group_key)break;p[r.group_key][m]=c[m]}if(l&&(n.updateObject(o,["section",r.section_key],1),n.updateObject(o,["selector",r.selector_key],1),d&&(n.updateObject(o,["tab",s],1),"group"===r.depth))){var v=t.get_mq_focus();(!s&&"all-devices"===v||s===v)&&(n.updateObject(o,["group",r.group_key],1),"html"!==r.group_key&&"grid"!==r.group_key&&"transform"!==r.group_key||n.updateObject(o,["propsWithValues",r.group_key],e.extend(!0,{},p[r.group_key])),"grid"===r.group_key&&(o.itemsWithValues=e.extend(!0,{},r.selector.itemsWithValues)))}}}return r},update_dots:function(e,r,i){switch(e.depth){case"section":case"selector":var a=t.item_has_styles(e.settings.has_values,e.depth,e.key),o="section"===e.depth?["this","has_values"]:["has_values"],s=e.trail.item.concat(o);a!=n.checkObject(t.uiData,s)&&c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:s,data:a}),i.skipDom||t.update_style_signal(t.get_dom_item(e,e.depth,"menu"),a)}return e},rebuild_item:function(e,t,n,r){var i=c.getnewUiDataObject(e,e.settings.newUiData),a=e.section_key,o=e.selector_key;return"section"===r.targetDepth?"section"===e.depth&&this.resolve_item_rebuild(i,n,e,a,a,r):"selector"===r.targetDepth&&("section"===e.depth?i[a]=e.recurse.current?{}:{this:e.section.this}:"selector"===e.depth&&this.resolve_item_rebuild(i,n,e,a,o,r)),e},update_property_values_structure:function(e,t){var r=e.item,i=!1;if("important"!==e.recurse.recurseKey&&"string"==typeof r)i={value:r};else if("object"==typeof r){var a=n.checkObject(r,["value","value"]);a&&(i={value:"Array"===a?[]:a})}return i&&c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:e.trail.selector.concat(["styles"],e.trail.selector_rel),data:i}),e},update_legacy_value_with_unit:function(e,t,r,a,s){if(void 0!==r&&n.isDefined(a)&&!Array.isArray(r)){var l=i.separate_value_unit(r);if(!l&&"line_height"!==e.property_key&&o.unitCouldBeAdded(r,a)&&(l={value:r,unit:a}),l){var u=e.trail.selector.concat(["styles"],e.trail.selector_rel);void 0!==s&&(u.push("value",s),l=l.value+l.unit),c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:u,data:l})}}},remove_all_bricks_container_hacks:function(e,t){if("all-devices"===e.recurse.mq_key){var n=e[e.depth],r=n.label.split("|"),i=r[0],a=r[1],o=!1;a&&(o=a.match(/.bricks-is-frontend\s+(.+?),/))&&(a=o[1],n.label=i+"|"+a)}return e},update_legacy_unit_structure:function(e,n){var r=e.property_key;if(!i.data_structure_precedes_jsu("separate_css_units",e.selector)||"css"===r||void 0!==e.item.unit)return e;var a=e.item.value,o=t.get_factory_default_unit(!1,r);if(Array.isArray(a))for(var s=0;s<a.length;s++)this.update_legacy_value_with_unit(e,n,a[s],o,s);else this.update_legacy_value_with_unit(e,n,a,o);return e},ensure_valid_folder_and_label:function(e,t){return"0"!==e.section_key&&0!==e.section_key||c.updateObjectAndSavePackage(e.settings.savePackage,{action:"delete",trail:e.trail[e.depth].slice(0,-1),key:"0"}),e.recurse.current||n.checkObject(e.section,["this","label"])||c.updateObjectAndSavePackage(e.settings.savePackage,{action:"append",trail:e.trail.section.concat(["this"]),key:"label",data:n.ucwords(e.section_key).replace(/_/g," ")}),e},maybe_fix_key_format:function(r,i){if("all-devices"===r.recurse.mq_key){var a=r[r.depth];if(!0===a)return delete r.parent[r.key],r;var o,s=r.settings.keyFormatFixes,l="section"===r.depth?a.this.label:a.label.split("|")[0],c=r.key,u=n.convert_to_param(l);if(c!==u){if("section"===r.depth){o={rebuild:!0,callbackDepth:["section"],maxDepth:"section",targetDepth:"section",targetSection:c,new_key:u,new_label:l},s.sectionKeyChanges[c]=u;var d=t.get_meta(e("#strk-"+c),"section");t.rename_section_updates(d,{newName:u,newNameHuman:l},!1,!0)}else if("selector"===r.depth){var p=s.sectionKeyChanges[r.section_key]||r.section_key,f=a.label.split("|")[1];o={rebuild:!0,callbackDepth:["section","selector"],maxDepth:"selector",targetDepth:"selector",targetSection:p,targetSelector:c,new_key:u,new_label:l,new_code:f,orig_code:f}}s.actions.push(o)}}return r},check_jsu:function(e,r,i){n.checkObject(t.uiData,[e.section_key]);var a=n.checkObject(t.uiData,[e.section_key,e.selector_key]),o=n.checkObject(t.uiData,[e.section_key,e.selector_key,"label"]),s=!(!o||"string"!=typeof o)&&o.split("|"),l=s&&s[1];if(!a||!o||!l||"#mt-no-element"===l)return c.updateObjectAndSavePackage(e.settings.savePackage,{action:"delete",trail:e.trail.section,key:e.selector_key}),e.continue=!0,e;var u=e.recurse.mq_key;return u&&"all-devices"!==u&&!t.pref.m_queries[u]?(c.updateObjectAndSavePackage(e.settings.savePackage,{action:"delete",trail:e.trail.root.slice(0,-1),key:u}),e.continue=!0,e):e.item?(a.isDraft&&delete a.isDraft,a.isDraftRetarget&&delete a.isDraftRetarget,e.item.jsu==t.jsuVersion&&e.passNum>1&&!e.dataFormattingFixesOnly&&!parseInt(t.pref.manual_recompile_all_css)?e.continue=!0:i&&(e.item.jsu=t.jsuVersion,e.item.post_sel_css&&delete e.item.post_sel_css,e.key&&(e.parent[e.key]=e.item,e.settings.savePackage.push({action:"replace",trail:e.trail.item,data:e.item}))),e):e},format_precise_run_config:function(t){if(t.M){var r=t.M,i={section:[r.sectionSlug].concat(Object.keys(c.loop_configs.ui().recurse.keys))};r.selectorSlug&&(i.selector=[r.selectorSlug]),r.groupSlug&&(i.group=[r.groupSlug])}t.recurse_key&&(i.recurse_key=t.recurse_key),t.mq_key&&(i.mq_key=[t.mq_key]);var a=e.extend(!0,{},i),o={template:"ui",maxDepth:t.maxDepth||t.domDepth,onlyRun:t.onlyRun||i,onlyLoop:t.onlyLoop||a};return n.isDefined(t.incRecurse)&&(o.incRecurse=t.incRecurse),n.isDefined(t.onlyRecurse)&&(o.onlyRecurse=t.onlyRecurse),o},resolve_js_object_settings:function(t,n){return n?(n=e.extend(!1,{},t,n)).perma&&(t=n):n=t,{settings:t,actionSettings:n}},multiple_modify_main_js_object:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];t=this.modify_main_js_object(r.action,t,r)}return t},deferActions:{},modify_main_js_object:function(e,i,a){if(c.deferActions[e])return i;n.startT("modify_main_js_object_"+e),t.jsDataFunc&&(n.startT("modify_main_js_object_called_by_"+t.jsDataFunc),n.startT("modify_main_js_object_called_by_"+t.jsDataFunc+"_action_"+e));var o=c.resolve_js_object_settings(i,a);i=o.settings,a=o.actionSettings;var s=this.format_precise_run_config(a),l=[{item:c.modify_item,args:[e,a]}];if(a.callbackDepth&&a.callbackDepth.length){s.cb={};for(var u=0;u<a.callbackDepth.length;u++)s.cb[a.callbackDepth[u]]=l}else s.cb={root:l,section:l,selector:l,group:l};if(a.rebuild){i.newUiData={non_section:{}};var d=["m_query","important"];for(var p in t.uiData.non_section)t.uiData.non_section.hasOwnProperty(p)&&(n.in_array(p,d)||(i.newUiData.non_section[p]=t.uiData.non_section[p]))}"group_to_css"!==e||!t.draftInProgress()||i.keepAsDraft||i.skipSave||t.save_draft_selector(t.retargetSelector,!0,i.M,i),s.settings=i;var f=!1;t.jsDataFunc&&n.startT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_run_loop"),s=c.run(t.uiData,s),t.jsDataFunc&&n.endT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_run_loop"),i=s.settings,"reorder"===e&&c.updateObjectAndSavePackage(i.savePackage,i.moveUpdate.concat(i.orderUpdate)),"group_to_css"===e&&t.clean_duplicate_save_packages(i.savePackage,"fullSelectorUpdate"),a.rebuild&&!i.onlyUpdateSavePackage&&(t.uiData=i.newUiData);if(!(a.global_scans&&a.global_scans.length||n.in_array(e,["clear","clean","check_values","update_dots","map_to_template","styleids","get_first_sel"]))){var h=[];"group"===i.domDepth?"animation"===a.M.groupSlug||"transition"===a.M.groupSlug?h=["active_events"]:"font"===a.M.groupSlug?h=["g_fonts"]:"html"!==a.M.groupSlug&&"code"!==a.M.groupSlug||!r||(h=["html_mods"]):(h=["active_events","g_fonts"],r&&h.push("html_mods"));if(n.in_array(e,["reorder","copy","delete"])&&h.push("update_indexes"),t.client_scss){var _=i.preprocessor&&i.preprocessor.scss_types_changed,g=n.in_array(e,["reorder","copy","delete"])||i.itemWasDisabled&&"subgroup"!==i.itemWasDisabled;(_||g)&&h.push("scss_types"),g&&(i.fullSCSSCompile=1)}h.length&&(a.global_scans=h)}return a.global_scans&&a.global_scans.length&&(t.jsDataFunc&&n.startT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_global_scans"),i=c.run_global_scans(i,a.global_scans),t.jsDataFunc&&n.endT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_global_scans")),n.endT("modify_main_js_object_"+e),t.jsDataFunc&&(n.endT("modify_main_js_object_called_by_"+t.jsDataFunc),n.endT("modify_main_js_object_called_by_"+t.jsDataFunc+"_action_"+e)),i},modify_item:function(a,o,s,l){if(!s)return a;switch(s){case"group_to_css":"group"===a.depth&&i.group_to_css(a,o,l,a.item,a.group_key);break;case"clear":case"clean":var u=n.checkObject(l,[s,a.depth]);if(u){if("important"===a.recurse.recurseKey)for(var d=0;d<u.length;d++)(n.in_array("styles",u[d])||n.in_array("value",u[d]))&&(u=e.extend(!0,[],u)).splice(d,1);a.item=this.filter_object_keys(s,a.item,0,u),l.dontUpdateSavePackage||a.settings.savePackage.push({action:"replace",trail:a.trail[a.depth],data:a.item})}break;case"check_values":c.check_values(a,o,l);break;case"update_dots":c.update_dots(a,o,l);break;case"copy":switch(a.depth){case"section":case"selector":if(l.targetDepth===a.depth){var p=e.extend(!0,{},a.item);if(!a.recurse.current)if("section"===a.depth)p.this.label=l.newHuman;else{var f=p.label.split("|");p.label=l.newHuman+"|"+f[1]}a.parent[l.newSlug]=p,a.settings.savePackage.push({action:"append",trail:a.trail[a.depth].slice(0,-1),key:l.newSlug,data:p})}}break;case"reorder":c.reorder_items(a,o,s,l);break;case"rename":case"delete":c.rebuild_item(a,o,s,l);break;case"styleids":a.settings.styleNodeMeta.push({id:c.format_css_node_id([a.recurse.mq_key,a.section_key]),mq_key:a.recurse.mq_key,section_key:a.section_key});break;case"map_to_template":this.map_to_template(a,o,l);break;case"get_first_sel":a.settings.slugs={sectionSlug:a.section_key,selectorSlug:a.selector_key},a.return=!0;break;case"update_section_css":if(t.iframeEditing()){var h=n.get_section_css(a,o,a.section,a.section_key),_=a.recurse.mq_key;r.update_preview_style_node([_,a.section_key],h,c.get_media_query(_))}break;case"update_item_index":this.update_item_index(a,o,l)}return a.parent[a.key]=a.item,a},get_media_query:function(e){return"all-devices"!==e&&t.pref.m_queries[e].query},map_to_template:function(r,i,a){n.startT(arguments);var s=r.settings.templates;if("selector"===a.load){var l=r.section_key+"_"+r.selector_key,u=s[l],d=t.uiData[r.section_key][r.selector_key],p=[r.section_key,r.selector_key],f=r.selector,h=d.label.split("|"),_=h[0],g=h[1],m=t.get_nth_focus(d),v=r.recurse,y=v.recurseKey,b=v.mq_key,w="important"===y;if("selector"===r.depth)if(u||(u=s[l]=t.dom_replacements(!1,"selector",e(t.templates[a.templateKey]),"selector_section",r.section_key,!1,"selector_css",r.selector_key,_,g)),"selectorM"===a.templateKey){var T="opts-"+r.section_key+"-"+r.selector_key===n.checkObject(t.uiData,["non_section","meta","last_viewed_selector"]);T&&u.addClass("in-focus"),n.checkObject(f,["disabled"])&&u.addClass("item-disabled").find(".disabled-toggle").addClass("active").before(c.get_prepared_icon_template(r.trail.selector,"selector","disabled")),c.map_disabled_device_tabs(r,u),t.maybe_apply_search_results_to_item(r,u,_),c.map_multi_keys(r,u,f,b,T)}else{var x={chained:n.checkObject(f,["pg_chained"]),disabled:n.checkObject(f,["pg_disabled"]),pgtab_disabled:n.checkObject(f,["pgtab_disabled"]),flexitem:n.checkObject(d,["pg_flexitem"]),griditem:n.checkObject(d,["pg_griditem"])};for(var k in x)x.hasOwnProperty(k)&&this.apply_pg_toggles(m,k,u,x[k],r,_,g,b,p)}else if("group"===r.depth)this.maybe_add_group_template(u,r.section_key,r.selector_key,_,g,b,r.group_key);else if("property"===r.depth){n.startT("map_property");var S=t.get_dom_item(r,r.depth,"options",!1,!1,u);if(!1===S)return r;var C=r.property_key,M=r.item,A=M.value,O=M.unit;if(w){if("html"!==r.group_key){if(!n.isDefined(r.item))return r;c.map_important_values_to_field(S,r.item,r.trail.property)}}else{if("html"!==r.group_key&&o.apply_property_unit(A,A,O,S,r.group_key,r.property_key,{writeToLabel:1,writeToInput:1,trail:r.trail.propertyStyles}),!n.isDefined(A))return r;if(!S)return r;if("css"===C)S.find(".property-input").val(A);else{let e="html"===r.group_key?t.getGroupIndex(r.section_key,r.selector_key,r.group_key):t.get_nth_focus(d);c.map_property_values_to_field(r,r.group,C,S,A,e,O,r.group_key)}}n.endT("map_property")}}n.endT(arguments)},map_multi_keys:function(e,t,n,r,i){n.multi_key&&Object.entries(n.multi_key).forEach((([e,n])=>{t.find(".selector-multi-key-"+e).val(n)}))},map_disabled_device_tabs:function(e,r){for(var i=Object.keys(TvrMQsCombined),a=!1,o=0;o<i.length;o++){var s=i[o],l=n.get_js_object_data([e.section_key,e.selector_key],s).levels.concat(["tab","disabled"]);if(n.checkObject(t.uiData,l)){var u=c.get_prepared_icon_template(l,"tab-input","tab_disabled");"all-devices"!==s&&u.removeClass("disabled-tracker-all-devices").addClass("disabled-tracker-"+s),a=a?a.add(u):u}}a&&r.find("span.disabled-responsive-tabs").html(a)},map_important_values_to_field:function(e,t,r){var i=n.get_name_attr_index(e.find(".property-input").attr("name"));(!n.check_type(t,["object","array"])||!1!==i&&t[i])&&e.find(".important-toggle").addClass("active").before(c.get_prepared_icon_template(r,"property","important",!1,i))},apply_manual_val_to_field:function(e){e.find(".tvr-input-wrap").addClass("manual-val").end().find(".comp-style:not(.comp-for-picker)").addClass("hidden")},map_property_values_to_field:function(r,i,o,s,u,d,p,f){var h=s.find(".tvr-input-wrap"),_=n.check_type(u,["object","array"])?u:[u],g=s.hasClass("is-picker"),m=h[0].outerHTML,v=[];if("Array"===_.value&&(_=[]),s.hasClass("has-variable-line")){_=_.filter(Boolean);var y=!1;n.in_array(o,["grid_template_rows","grid_template_columns"])&&(_=a.parseGridTracks(_.join(" ")).lines,y=!0);for(var b=1;b<_.length&&(v[b]=m,!y||!_[b].endLineName);b++);h.after(v)}h.parent().children(".tvr-input-wrap").each((function(a){var h=e(this),m=h.find(".property-input"),v=s.hasClass("tab-control-griditems"),b=!1!==d?parseInt(d):1,w=!1!==d&&"html"===f?parseInt(d):null,T=_[v?b:null!==w?w:a];if(v&&1!==b&&m.attr("name",n.replace_variable_name_attr(m.attr("name"),d)),y&&T)T.name&&h.find(".vl-pre-line-name").addClass("manual-val").find(".property-input").val(T.name),T.size&&h.find(".vl-main-input").addClass("manual-val").find(".property-input").val(T.size),T.endLineName&&h.find(".vl-post-line-name").addClass("manual-val").find(".property-input").val(T.endLineName);else{var x=p&&n.isNumeric(T)?T+p:T;m.val(x).attr("value",x)}if(g&&m.css("background-color",T),a<1){if("font_family"===o&&u===TvrLang.google_font&&s.siblings(".tvr-font-custom").removeClass("hidden"),"event"===o){var k=".event-value-field";":hover"!==u&&":focus"!==u&&(k+=", .event-target-field"),s.siblings(k).addClass("show-event-fields")}y||v&&!_[b]||c.apply_manual_val_to_field(s)}let S=r.multiTabInfo?r.multiTabInfo.attsData:null;if("snippet_id"===o){if(T){t.pendingLoadExistingSnippet=!0;let e=s.next(".property-tag"),r=s.closest(".group-tag").find(".text-textarea");n.action_after_timeout("load_snippet",50,{item:function(){let n=t.get_meta(e,"group"),{aspect:a,$snippet:o}=l.getFieldValues(n.groupTab,n,!0);l.loadSnippet({M:n,referenceId:T,$snippet:e.find("textarea.property-input"),group:i,index:d,attsData:S,$text:r,aspect:a}),t.pendingLoadExistingSnippet=!1}})}}else if("enable"===o&&T){let e=s.find("#enable-modification");e.addClass("on").attr("title",e.data("neg"))}}))},maybe_add_group_template:function(r,i,a,s,l,u,d){n.startT(arguments);var p=c.get_group_markup(i,a,d,u),f=r.find(p.groupTabSelector);if(!f.length){let c;"html"===d&&(c=t.getGroupIndex(i,a,d)),(f=t.dom_replacements(!1,"group",e(t.templates.property_groups[d]),"selector_section",i,!1,"selector_css",a,s,l,u,c)).find("div.mt-has-unit").each((function(){var t=e(this),r=t.find("input.css_unit-tracker");if(!n.isDomEl(r)){var i=t.find("input.property-input:not(.vl-name-input)").attr("rel");o.apply_property_unit("","",void 0,t,d,i,{writeToLabel:1})}})),r.find(p.groupID).append(f)}return n.endT(arguments),f},apply_pg_toggles:function(e,r,i,a,o,s,l,u,d){if(n.startT(arguments),a){"flexitem"===r&&(a={flexcontainer:1}),"griditem"===r&&(a={generalgrid:1});var p="pgtab_disabled"===r?TvrMT.data.prog.pg_tab_map:TvrMT.data.prog.subToGroup;for(var f in a)if(a.hasOwnProperty(f))if("changehtml"===f&&(e=t.getGroupIndex(o.section_key,o.selector_key,"html")),n.isDefined(f)){if(!("griditems"===f||"disabled"===r&&Array.isArray(a[f]))||n.checkObject(a,[f,e])){var h=p[f],_=this.maybe_add_group_template(i,o.section_key,o.selector_key,s,l,u,h),g=_.find(".subgroup-control-"+f);switch(r){case"chained":case"disabled":g.find("."+r+"-toggle").addClass("active").before(c.get_prepared_icon_template(o.trail.selector,"subgroup",r,f)),"disabled"===r&&g.find(".quick-opts-wrap").addClass("item-disabled");break;case"pgtab_disabled":var m=f,v=_.find("."+h+"-tab-"+m),y="griditems"===m?e:void 0;v.find(".disabled-toggle").addClass("active").before(c.get_prepared_icon_template(o.trail.selector,"group",r,m,y)),v.addClass("item-disabled");break;case"flexitem":case"griditem":c.flip_flex_or_grid_item_switch(_,g,d,r)}}}else delete a[f];n.endT(arguments)}else n.endT(arguments)},flip_flex_or_grid_item_switch:function(e,n,r,i){e.addClass("show-single-"+i);var a=n.find("."+i+"-toggle");a.addClass("active").before(c.get_prepared_icon_template(r,"group",i)),"griditem"===i&&(a.attr("title",a.data("neg")),t.pref.grid_focus="griditems")},get_group_markup:function(e,t,n,r){var i="#opts-"+e+"-"+t+"-"+n,a=".property-"+n+".property-fields-"+r;return{groupID:i,groupTabClass:a,groupTabSelector:i+" "+a}},get_prepared_icon_template:function(n,r,i,a,o){return e(t.templates.icon_inputs[r][i]).attr("name",c.format_name_attr(n,r,i,a,o))},format_name_attr:function(e,t,r,i,a){var o=[];switch(r){case"important":o=e,n.isDefined(a)&&o.push(a);break;case"css_unit":o=e.concat("unit"),n.isDefined(a)&&o.push(a);break;case"chained":o=e.concat("pg_chained",i);break;case"flexitem":case"griditem":o=e.concat("pg_"+r);break;case"disabled":o=e.concat("pg_disabled",i);break;case"tab_disabled":o=e.concat("tab","disabled");break;case"pgtab_disabled":o=e.concat("pgtab_disabled",i),n.isDefined(a)&&o.push(a)}return"tvr_mcth["+o.join("][")+"]"},get_style_node_meta:function(e){return this.modify_main_js_object("styleids",{M:e,recurse_key:["m_query"],maxDepth:"section",callbackDepth:["section"],styleNodeMeta:[]}).styleNodeMeta},updateObjectAndSavePackage:function(e,t){if(n.check_type(t,["array"]))for(var r=0;r<t.length;r++)this.apply_to_object_and_save_packge(e,t[r]);else this.apply_to_object_and_save_packge(e,t)},apply_to_object_and_save_packge:function(e,r){window.TVR_DEV_MODE&&(r.callerFunc=arguments.callee.caller.caller.name),n.updateObject(t.uiData,r.trail,r.data,r),e.push(r)},filter_object_keys:function(e,t,r,i,a,o){var s="array"===o?[]:{},l=!1;if(a=a||{},n.check_type(t,["array","object"]))for(var c=n.get_array_or_object_keys(t),u=0;u<c.length;u++){var d=c[u],p=t[d];if(a[d]||i&&i[r]&&!n.in_array(d,i[r]))s[d]=p,l=!0;else if(o=n.check_type(p,["array","object"])){var f=this.filter_object_keys(e,p,r+1,i,a,o);n.obj_length(f)>0&&(s[d]=f,l=!0)}else if("clean"===e){var h="string"===p?p.trim():p;""!==h&&null!==h&&(s[d]=h,l=!0)}else"clear"===e&&(s[d]="",l=!0)}return l?s:""},resolve_item_rebuild:function(e,t,r,i,a,o){var s=!1,u=r.trail[r.depth];if("section"===r.depth&&o.targetSection===a||"selector"===r.depth&&o.targetSection===i&&o.targetSelector===a)switch(t){case"delete":s=!0,r.settings.savePackage.push({action:"delete",trail:u.slice(0,-1),key:a});break;case"rename":a=o.new_key;var d={},p=!1;if("section"===r.depth)r.recurse.current||(r.item.this.label=o.new_label,n.updateObject(d,["this","label"],r.item.this.label),p=!0);else if("selector"===r.depth){if(r.recurse.current||(r.item.label=o.new_label+"|"+o.new_code,n.updateObject(d,["label"],r.item.label),p=!0),o.new_code!==o.orig_code)c.replace_non_gui_selector(r.item,o.orig_code,o.new_code,d)&&(p=!0),"all-devices"===r.recurse.mq_key&&"important"!==r.recurse.recurseKey&&(n.updateObject(d,["xpath"],l.attemptXPathConversion(o.new_code)),p=!0)}p&&r.settings.savePackage.push({action:"array_merge_recursive_distinct",trail:u,data:d}),r.settings.savePackage.push({action:"rename",trail:u.slice(0,-1),key:r.key,new_key:a,order:Object.keys(r.parent)})}if(!s){var f="section"===r.depth?[a]:[i,a];n.updateObject(e,f,r.item)}},reorder_after_copy:function(e,n,r){return e=t.get_dom_order(e,n,{prevSec:"",newSec:"",orig_order:["this"],new_order:["this"],map:[]},!1,!0),e=t.get_dom_order(e,n,t.menuOrder,!0,r)},replace_non_gui_selector:function(e,t,r,a){var o=n.checkObject(e,["ast","rules","non_gui"]),s=!1;if(Array.isArray(o))for(var l=0;l<o.length;l++){var c=o[l],u=n.checkObject(c,["selectors"]);u&&i.selectors_match(u,t)&&(c.selectors=i.format_ast_selector(r),s=!0)}return s&&n.updateObject(a,["ast","rules","non_gui"],o),s},reorder_items:function(t,r,i,a){var o=a.menuOrder,s=t.trail[t.depth];if("root"===t.depth&&n.in_array("root",a.callbackDepth)){var l=e.extend(!0,[],o.new_order);l.shift(),l.push("non_section"),t.settings.orderUpdate.push({callFunc:"reorder_items",action:"reorder",trail:s,order:l})}else if("section"===t.depth&&n.in_array("section",a.callbackDepth)&&(t.section_key===o.newSec||t.section_key===o.prevSec&&o.prevSec!==o.newSec))if(t.section_key===o.newSec)t.settings.orderUpdate.push({callFunc:"reorder_items",action:"reorder",trail:s,order:o.new_order});else if(t.section_key===o.prevSec&&t.item[a.targetSelector]){var c=s.slice(0,-1);c.push(o.newSec),t.settings.moveUpdate.push({callFunc:"reorder_items",action:"append",trail:c,key:a.targetSelector,data:t.section[a.targetSelector]},{callFunc:"reorder_items",action:"delete",trail:s,key:a.targetSelector})}return t},log_ui_aspect_used:function(e,a,o){e.settings[o]||(e.settings[o]={});var s,c,u=t.uiData[e.section_key],d=u[e.selector_key],p=e.selector,f=e.recurse.mq_key,h=[];if(!d)return e;switch(o){case"active_events":h=["animation","transition"];break;case"g_fonts":h=["google_font"],c="font";break;case"scss_types":if(!p.scss_types)return e;t.log_all_scss_usage(!0,e.settings.scss_usage,p.scss_types,e);break;case"get_all_scss":t.log_all_scss_selectors(e,p,f);break;case"tag_extended":t.tag_extended(e,p,f);break;case"search_folders":t.flag_search_matches(e,p,f);break;case"html_mods":t.retargetSelector||l.collectActiveMods(e,p,f,d,u)}for(s=0;s<h.length;s++){var _=h[s];if("active_events"===o&&(c=_),!i.styles_disabled("sub_group",u,d,p,c))if("active_events"===o){var g=n.checkObject(e.selector,["styles",_]);if(g){var m=n.checkObject(g,["event","value"]);if(m){var v=n.convert_to_param(m,"");if("hover"!==v&&"focus"!==v){"js_focus"===v&&(v="focus");var y=d.label.split("|")[1];t.iframeEditing()&&(y=r.jquery_compat_sel_elements(y,!0)),e.settings.active_events[v]||(e.settings.active_events[v]=[]);var b=e.recurse,w=i.get_event_target_selpath(n.checkObject(e.selector,["styles",_,"event_target"]));e.settings[o][v].push({event:v,code:y,type:_,target:w[0],relative_dom:i.to_relative_dom_array(w[0],w[1]),mqKey:b.mq_key,mq:b.mq_key!==b.defaultMQKey&&t.pref.m_queries[b.mq_key].query.replace("@media","").trim()})}}var T=n.checkObject(g,["animation_name","value"]);T&&(n.updateObject(e,["settings","animations","used"],1),n.updateObject(e,["settings","animations","names",T],1))}}else if("g_fonts"===o){var x=n.checkObject(e.selector,["styles","font",_,"value"]);if(x){var k=i.extract_gf_values(x);n.updateObject(e.settings[o],["fonts",k.urlName,k.variant],1),k.subset&&n.updateObject(e.settings[o],["subsets",k.subset],1),e.settings[o].used=1}}}return e},generate_initial_style_node_html:function(e){var i,a={},o=Object.keys(TvrMQsCombined),s=TvrMT.data.prog.custom_code_flat,l=["non_section"],u="";for(var d in s)if(s.hasOwnProperty(d)&&"hand_coded_css"===d){t.client_scss&&(d+="_compiled"),i=l.concat(d);var p=n.checkObject(t.uiData,i)||"";u+="<style "+(r.getMTDynFrontData().isAdminArea?'media="not all"':"")+' id="'+this.format_css_node_id(i)+'"  />'+p+"</style>"}for(var f=0;f<o.length;f++){var h=o[f];a[h]={query:"all-devices"!==h&&TvrMQsCombined[h].query,node_code:""}}var _=c.run(t.uiData,{settings:{style_nodes:a,folderLoading:e},template:"ui",maxDepth:"section",onlyLoop:{recurse_key:["m_query"]},cb:{section:[{item:c.format_style_node,args:[]}]}}).settings,g='<style id="'+this.format_css_node_id(["mt-start"])+'" /></style>'+u;for(f=0;f<o.length;f++){var m=o[f];g+='<style id="'+this.format_css_node_id([m])+'" /></style>'+_.style_nodes[m].node_code}return g+='<style id="'+this.format_css_node_id(["mt-end"])+'" /></style>'},format_style_node:function(e,t){var r=e.recurse.mq_key;e.recurse.current;if(!e.settings.style_nodes[r])return e;if("section"===e.depth){var i=n.get_section_css(e,t,e.item,e.section_key);if(i){var a=e.settings.style_nodes[r].query,o=s.folderNotLoading(e.section_key,!0)?'media="not all"':"";i=a?a+"{"+i+"}":i,e.settings.style_nodes[r].node_code+='<style id="'+this.format_css_node_id([r,e.key])+'" '+o+" />"+i+"</style>"}}return e},format_css_node_id:function(e,t){return t=t||"mtprv",e.unshift(t),e.join("-")},run_global_scans:function(a,o){n.startT(arguments);var s,u={},d=!1,p=[],f=[];for(s=0;s<o.length;s++){var h=o[s];if("update_indexes"!==h){if(f.push({item:c.log_ui_aspect_used,args:[h]}),u[h]=!0,"scss_types"===h){a.scss_usage={};var _=["non_section","code_editors","hand_coded_css","scss_types"];t.log_all_scss_usage(!1,a.scss_usage,n.checkObject(t.uiData,_),{settings:a,trail:{item:_}},_)}"html_mods"!==h||t.retargetSelector||(a.mqMap=Object.fromEntries(Object.entries(TvrMQsCombined).map((([e,t])=>[e,t.query]))),a.mqMap["all-devices"]="all-devices",r&&(a.frontMods={mods:r.stat.win.amender&&r.stat.win.amender.mods?r.stat.win.amender.mods:{}}),a.modUsage={snippetChanged:l.snippetChanged,comparison:{},events:{},mods:{},snippets:{},snippetsInUse:{},funcNameMap:{},npm_dependencies_in_use:{},npm_dependencies_added:{},requiresPageRefresh:0},l.snippetChanged="")}else d=!0}if(d){var g={item:c.update_item_index,args:[h]};p.push(g),f.push(g)}u.get_all_scss&&(a.deps=t.prepare_dependent_sels_obj({}));var m={settings:a,template:"ui",maxDepth:"selector",cb:{section:p,selector:f,group:[]}},v={recurse_key:["m_query"]};a.mq_key&&n.in_array("tag_extended",o)&&(v.mq_key=[a.mq_key]);var y=e.extend(!0,{},v);if(m.onlyRun=v,m.onlyLoop=y,a=c.run(t.uiData,m).settings,u.active_events){var b=n.checkObject(t.uiData,["non_section","active_events"]),w=n.stringify_object(a.active_events),T=n.stringify_object(n.checkObject(t.uiData,["non_section","meta","animations"])),x=n.stringify_object(a.animations);w!==b&&(c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","active_events"],data:w}),t.iframeEditing()&&(r.stat.win.MT_Events_Data=a.active_events,t.refresh_event_binding())),x!==T&&c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","meta","animations"],data:a.animations?a.animations:""})}if(u.g_fonts){var k="",S=a.g_fonts?a.g_fonts:{};if(S.used){k="//fonts.googleapis.com/css?family=";var C=S.fonts,M=[];for(var A in C)if(C.hasOwnProperty(A)){var O=Object.keys(C[A]).filter((function(e){return""!==e}));if(A.indexOf("var(")>-1){var E=i.get_variable_name(A),P=i.get_variable_value(E,"css");P&&(A=P)}O.length&&(A+=":"+O.join(",")),M.push(A)}k+=M.join("|")}var D=S.subsets?Object.keys(S.subsets):[],j=k?{g_fonts_used:S.used,g_url:k,g_url_with_subsets:this.g_url_with_subsets(k,D),found_gf_subsets:D}:{},I=n.stringify_object(n.checkObject(t.uiData,["non_section","meta","g_fonts"]));n.stringify_object(j)!==I&&(c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","meta","g_fonts"],data:j}),t.update_gf_url=!0)}if(u.scss_types){var L=n.stringify_object(n.checkObject(t.uiData,["non_section","scss_usage"]));n.stringify_object(a.scss_usage)!==L&&c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","scss_usage"],data:a.scss_usage})}return u.html_mods&&l.modificationsUpdated(a.modUsage,a),n.endT(arguments),a},g_url_with_subsets:function(e,n){if(!e)return"";var r=[];if(t.pref.gfont_subset){var i=t.pref.gfont_subset.match(/subset=(.+)/);i&&i[1]&&r.push(i[1])}var a=n.concat(r);return a.length&&(e+="&subset="+a.join(",")),e},get_property_data:function(e,t,r,i){var a=this.get_selector_data(e,t,r),o=["styles",e.groupSlug],s="group";return i||(o.push(e.propertySlug),s="property"),a[s]=n.checkObject(a.data,o),a.propLevels=[].concat(a.levels,o),a},get_selector_data:function(e,r,i){return r=r||t.get_mq_focus(),n.get_js_object_data([e.sectionSlug,e.selectorSlug],r,i)},getnewUiDataObject:function(e,t){var r,i=e.recurse,a=[i.rootRecurseKey,i.recurseKey];return i.current?("m_query"===i.recurseKey?a.push(i.mq_key):"important"===i.recurseKey&&"all-devices"!==i.mq_key&&(a=a.concat(["m_query",i.mq_key])),n.checkObject(t,a)||n.updateObject(t,a,{}),"m_query"===i.recurseKey?r=t[i.rootRecurseKey][i.recurseKey][i.mq_key]:"important"===i.recurseKey&&(r="all-devices"!==i.mq_key?t[i.rootRecurseKey][i.recurseKey].m_query[i.mq_key]:t[i.rootRecurseKey][i.recurseKey])):r=t,r}};return c}()})),jQuery(document).ready((function(e){TvrMT.mod.MTdd=function(){var t,n,r,i,a,o,s,l,c,u,d,p="(?:(?:\\*\\*)?\\s*MT\\s*\\[(.+)\\])",f="(?:\\s+"+p+")?",h={mt_config_regex:p,set_vars:function(){n=TvrMT.TvrCom,r=TvrMT.mod.MTRegExp,t=TvrMT.TvrUi,i=TvrMT.MTF,a=TvrMT.mod.MTace,TvrMT.mod.MTint,o=TvrMT.mod.MTloop,s=TvrMT.mod.MTsave,l=TvrMT.mod.MTgrid,c=TvrMT.mod.MTwidget,u=TvrMT.mod.MThtml,d=TvrMT.mod.MTai},inputs_to_data:function(e,t,n){n=n||{};for(var r={},i={},a=e.find("input, textarea").not(".register-selector, .snippet-textarea, .text-textarea").serializeArray(),o=0;o<a.length;o++){var s,l=a[o];if(n.stripUnits&&l.name.indexOf("[value]")>-1&&""!==l.value)if(n.pre_clear&&(s=new RegExp("\\[("+n.pre_clear.join("|")+")\\]")),!s||!l.name.match(s)){var c=h.separate_value_unit(l.value);c&&(l.value=c.value)}""===l.value&&l.name.match(/\[\]$/)||l.name.match("grid_template_areas_add")||h.fill_object_from_name(r,l.name,l.value,t,i)}return r},fill_object_from_name:function(e,t,r,i,a){var o=this.get_trail_from_name(t,i,a);return o.length&&n.updateObject(e,o,r),{obj:e,trail:o}},get_trail_from_name:function(e,t,r){void 0!==(r=r||{})[e]?r[e]+=1:r[e]=0;var i=t?/(?:^([a-z0-9_]*))|(?:\[([a-z0-9_]*)\])/g:/(?:\[([a-z0-9_]*)\])/g,a=n.get_all_matches(e,i,1,{autoIncrement:r[e]});let o=null;for(var s=0;s<a.length;++s){let e=a[s];"m_query"!==o&&n.isNumeric(e)&&(a[s]=parseFloat(e)),o=e}return a},scope_from_depth:function(e,n,r){var i=!1;switch(r=r||e.tabSlug,n){case"property":i=e.property;break;case"group":i=t.get_group(e);break;case"tab":i=e.selector.find("div.property-fields-"+r);break;case"selector":i=e.selector.add(e.selectorM);break;case"section":i=e.section.add(e.sectionM)}return i},pre_clear_styles:function(e,t,r){for(var i=0;i<r.length;i++)o.updateObjectAndSavePackage(e.savePackage,{action:"delete",key:r[i],trail:n.get_js_object_data([t.sectionSlug,t.selectorSlug],t.tabSlug).levels.concat(["styles",t.groupSlug])})},dom_to_data:function(e,t){return e.pre_clear&&this.pre_clear_styles(e,e.M,e.pre_clear),e.$scope=t||h.scope_from_depth(e.M,e.domDepth,e.mq_key),!e.mtData&&e.$scope&&(e.mtData=h.inputs_to_data(e.$scope,!1,e)),e.dontMerge||(e.savePackage=e.savePackage?e.savePackage:[],o.updateObjectAndSavePackage(e.savePackage,{action:"array_merge_recursive_distinct",trail:[],data:e.mtData})),"mtData"!==e.return&&(e=o.modify_main_js_object("group_to_css",e,{maxDepth:"group",recurse_key:["m_query"]})),e.clean&&(e=o.modify_main_js_object("clean",e,{maxDepth:e.cleanMaxDepth?e.cleanMaxDepth:"section"})),e},data_to_template:function(t,n){var r=o.modify_main_js_object("map_to_template",e.extend(!0,n,{templates:{}})),i=Object.values(r.templates);return i.length>1?i:i[0]},get_event_target_selpath:function(e){return n.checkObject(e,["value"])?e.value.split("|"):[]},to_relative_dom_array:function(e,t,r){let i=r?u.attemptXPathConversion(e):"";if(!t)return i?{xpath:i}:t;for(var a=["parents","closest","children","find","siblings"],o=new RegExp(h.reg.relative_dom_code(),"g"),s=[];o.exec(t);){var l=RegExp.$1,c="";RegExp.$2?c=RegExp.$2:n.in_array(l,a)&&(c=e),s.push({directive:l,selector:c,xpath:r?u.attemptXPathConversion(c):void 0})}return r?{xpath:i,iterate:s}:s},styles_disabled:function(e,t,r,i,a,o,s,l){var c=["pg_disabled","flexitem"===a?"flexcontainer":a],u=["pgtab_disabled",s];if(n.isDefined(l)&&(c.push(l),u.push(l)),"sub_group"===e){var d=n.checkObject(i,c)||n.checkObject(i,u),p=n.checkObject(i,["tab","disabled"])||r.disabled||t.this&&t.this.disabled;return"justPG"===o?d:"tabSelSec"===o?p:d||p}return!1},event_type:function(e){return!!e&&("hover"!==e&&"focus"!==e?"js":"css")},code_for_sass_editor:function(e,t,r,i){var a=n.get_js_object_data([e,t],i).data,o=n.checkObject(a,["styles","code","css","value"]);if("consolidatedGUI"===o){var s=n.checkObject(a,["ast","rules","non_gui"]);if(s&&s.length){var l={type:"rules",rules:s};return n.remove_last_linebreak(this.stringify_css(l,h.cssDefaultConfig()))}}return o},resolve_inline_editor_content:function(e){var n;if(t.scss_enabled)n=h.code_for_sass_editor(e.sectionSlug,e.selectorSlug,e.selectorCode,t.get_mq_focus());else{var r=h.unsupported_and_gui_styles(e.sectionSlug,e.selectorSlug,e.selectorCode);n=!!r&&r.compiled_css}return n},unsupported_and_gui_styles:function(r,i,a,s){var l=[r,i],c="all-devices"===(s=s||t.get_mq_focus())?n.checkObject(t.uiData,l):n.checkObject(t.uiData,["non_section","m_query",s].concat(l)),u=n.checkObject(c,["styles","code","css","value"]);if(u&&"consolidatedGUI"!==u){var d="all-devices"!==s;o.modify_main_js_object("group_to_css",{savePackage:[]},{M:{sectionSlug:r,selectorSlug:i},maxDepth:"group",mq_key:s,incRecurse:d,onlyRecurse:d,recurse_key:["m_query"],mergeCustomCode:!0,justUpdateAST:!0})}var p=n.checkObject(c,["ast","rules"]);if(!p)return!1;var f=this.all_selector_styles(c,a,e.extend(!0,h.cssDefaultConfig(!1),{primarySelCode:a}),p);return f.compiled_css&&(f.compiled_css=n.remove_last_linebreak(f.compiled_css)),f},cssDefaultConfig:function(e){return{singleNode:!0,opts:{},tabDepth:0,tab:""}},consolidate_duplicate_rules:function(t,r,i){if(i=i||{},r=r||[],t)for(var a=0;a<t.length;a++){var o=e.extend(!0,{},t[a]),s=o.selectors.join(","),l=i[s];if(n.isDefined(l)&&r[l]&&r[l].declarations){for(var c=r[l].declarations,u=[],d={},p=0;p<c.length;p++){var f=c[p];"comment"===f.type||(d[f.property]=f.value)}if(o.declarations){for(p=0;p<o.declarations.length;p++){var h=o.declarations[p];d[h.property]===h.value&&"comment"!==h.type||u.push(h)}r[l].declarations=r[l].declarations.concat(u)}}else r.push(o),i[s]=r.length-1}return r},code_edited_property:function(e){var t,r,i,a=h.parse_custom_nodes(e,"declaration");return n.check_type(a,["object"])&&(r=h.input_field_available(a.property,a.value))&&r.length&&(i="animation"===(t=r[0].group)),{group:t,node:a,fieldData:r,isAnimationProp:i}},all_selector_styles:function(e,r,i,a,o){i=i||{};var s={primarySelAst:h.format_ast_selector(r),primarySelPresent:!1,type:"rules",rules:[]},l={},c=Object.keys(TvrMT.data.prog.PGs);t.scss_enabled||(c=c.concat(["non_gui"]));for(var u=0;u<c.length;u++){var d=a[c[u]];d&&(s.rules=this.consolidate_duplicate_rules(d,s.rules,l))}if(s.rules=this.maybe_format_gradient(s.rules),s.rules=this.disabled_decs_to_comment_and_check_primary_present(s),s.primarySelPresent||s.rules.unshift({type:"rule",selectors:s.primarySelAst,declarations:[]}),o&&!t.client_scss&&(s.rules=this.add_final_compile_data(s.rules)),this.ensure_primary_selector_first(s.rules,i.primarySelCode),i.all_ast=s,i.compiled_css=s.rules.length?h.stringify_css(s,i):"",t.scss_enabled){var p=n.checkObject(e,["styles","code","css","value"]);if(p&&p.trim()&&"consolidatedGUI"!==p){var f=h.get_first_selector_in_css(i.compiled_css),_=h.get_first_selector_in_css(p),g=t.extract_inner_styles(p);g&&(g=g.trim());var m=g?"\n\t":"",v=new RegExp(n.escapeRegExp(f)+"\\s*{","i"),y=f+" {"+m+g;i.compiled_css?this.selectors_match(f,_)?i.compiled_css=i.compiled_css.replace(v,y):i.compiled_css=p+"\n"+i.compiled_css:i.compiled_css=p}}return i.compiled_css.match(h.reg.emptySelector())&&(i.compiled_css=""),i},ensure_primary_selector_first:function(e,t){for(var n=!1,r=!1,i=0;i<e.length;i++){var a=e[i],o=this.selectors_match(t,a.selectors);if(0===i){if(o)return!0}else o&&(n=i,r=a)}n&&(e.splice(n,1),e.splice(0,0,r))},get_first_selector_in_css:function(e){var t=e.match(/^([^{]+){/);return!!t&&t[1].trim()},run_css_to_selector:function(e,t){return t.activeEditorToCSS||this.merge_custom_code_with_gui(e,t)},data_structure_precedes_jsu:function(e,n){return!n.jsu||n.jsu<t.jsuEvents[e]},merge_custom_code_with_gui:function(e,t){return t.mergeCustomCode||this.data_structure_precedes_jsu("synced_code_gui",e)},selector_groups_to_ast:function(e,t,n,r){var i=e.selector.styles;if(!i)return!1;var a=Object.keys(i);if(Array.isArray(a)){n.processing_non_code_ast_groups=!0;for(var o=0;o<a.length;o++){var s=a[o];("code"!==s||r)&&this.group_to_css(e,t,n,e.selector.styles[s],s)}n.processing_non_code_ast_groups=!1}},css_to_selector:function(e,r,i,s,l,c,u,d){n.startT(arguments);var p=this.merge_custom_code_with_gui(d,i),f=i.activeEditorToCSS,_=f?f.editorCSS:n.checkObject(d,["styles","code","css","value"]),g=e.trail.selector,m=n.get_js_object_data([l],s,!0),v=m.data,y=m.levels.concat([c]),b=u.label.split("|"),w=b[0],T=b[1];_||(_=T+" {\n\t\n}");var x=h.get_first_selector_in_css(_),k=f?x:T,S=!!f&&!this.selectors_match(T,k),C=!x&&p;if(_){var M={inline_css_to_gui:1,origSelectorSlug:c,origSelName:w,origSelCode:T,newSelCode:k,css_imp_sels:1,css_imp_styles:1};if(C&&(_=T+" { "+_+"}"),t.scss_enabled)return C&&o.updateObjectAndSavePackage(e.settings.savePackage,{action:"append",key:"value",trail:e.trail.selector.concat(["styles","code","css"]),data:_}),f&&(n.checkObject(d,["ast","rules","non_gui"])&&o.updateObjectAndSavePackage(e.settings.savePackage,{trail:e.trail.selector.concat(["ast","rules"]),action:"delete",key:"non_gui"}),S&&this.update_primary_selector(l,c,k)),n.endT(arguments),e;var A=h.parse_css(_,!0),O=n.checkObject(A,["stylesheet","parsingErrors"]);if(O&&O.length)return f&&(e.settings.invalidEditorCSS=!0,e.return=!0),n.endT(arguments),e;f&&S&&a.sync_related_selectors(f.editor,T,k);var E=h.ast_to_data(A.stylesheet.rules,M),P=[n.convert_to_param(TvrLang.imp_css_folder)+"_1",c],D=["ast","rules","non_gui"],j=n.checkObject(E,P.concat(["styles"])),I=n.checkObject(E,P.concat(["pg_chained"])),L=n.checkObject(E,P.concat(["pg_disabled"])),R=(n.checkObject(E,P.concat(["pgtab_disabled"])),n.checkObject(E,P.concat(D))),N=n.checkObject(E,["non_section","important"].concat(P)),F=!1,q=f?"replace":"array_merge_recursive_distinct";f&&(delete d.ast,delete d.styles,delete d.pg_chained,delete d.pg_disabled,delete d.pgtab_disabled,delete d.itemsWithValues,v&&v[c]&&delete v[c]),j&&(n.updateObject(d,["styles"],j,{action:q}),n.updateObject(d,["styles","code","css"],"consolidatedGUI",{action:"append",key:"value"})),I&&n.updateObject(d,["pg_chained"],I,{action:q}),L&&n.updateObject(d,["pg_disabled"],L,{action:q}),R&&n.updateObject(d,D,R,{action:"replace"}),N&&n.updateObject(t.uiData,y,N,{action:q,key:c}),f&&S&&(this.update_primary_selector(l,c,k),F=!0),F||this.selector_groups_to_ast(e,r,i),e.settings.savePackage.push({action:"replace",trail:g,data:d},{action:"replace",trail:y,data:n.checkObject(t.uiData,y)})}return n.endT(arguments),e},update_primary_selector:function(r,a,o){t.curSelCSS=n.custom_escape_quotes(o);var s=t.get_meta(e("#"+t.selInFocusID),"selector");t.get_set_selector_values({action:"set",target:"popup",context:"edit",label:s.selectorH,code:o,M:s}),t.dontLogSelectorChange=!0,t.action_modify_selector(s,t.stat.editSelectorForm,{M:{sectionSlug:r,selectorSlug:a},maxDepth:"group",recurse_key:["m_query"]},!1,!0),t.iframeEditing()&&i.select_current_selector_elements({con:"sel-customised-via-editor",css:o,scroll:1,existingSelCSS:o}),t.dontLogSelectorChange=!1},group_to_css:function(r,a,s,c,u){var d={},p=r.recurse.mq_key,f=["non_section","important"];r.compile_non_compiled||(r.selector.jsu=t.jsuVersion),"all-devices"!==p&&f.push("m_query",p);var _=n.checkObject(t.uiData,f),g=(r.section,r.selector),m=r.section_key,v=r.selector_key,y=t.uiData[m],b=y[v],w=(b.label.split("|")[0],b.label.split("|")[1]),T=(g.styles,TvrMT.data.prog.lh),x=(TvrMT.data.prog.sh,TvrMT.data.prog.pg_tab_props.grid.allgriditems),k={highestLength:1,rootSection:y,rootSelector:b,selector:g,selCode:w,props:{},rules:[],grid_item_props:TvrMT.data.prog.pg_tab_props.grid.griditems},S=h.css_functions_config();d.primarySelCode=w,d.event=n.checkObject(c,["event","value"])?n.convert_to_param(c.event.value,""):"";var C=h.get_event_target_selpath(c.event_target);d.event_target=C[0],d.event_target_path=C[1],"js"===h.event_type(d.event)&&(d.isJSEvent=!0,d.JSEventClass="mt-"+d.event),d.ast_eventless_selector_string=d.event_target&&d.isJSEvent?d.event_target:w,d.ast_eventless_selector=h.format_ast_selector(d.ast_eventless_selector_string),d.ast_selector=h.maybe_add_event_selector(d.ast_eventless_selector,d.event,!0),d.ast_selector_string=d.ast_selector.join(", ");var M,A={type:"rules",rules:[]},O={type:"rule",selectors:h.format_ast_selector(w),declarations:[]},E={type:"rule",selectors:h.format_ast_selector(d.event_target),declarations:[]},P={type:"rule",selectors:h.maybe_add_event_selector(d.ast_eventless_selector,d.event,!1),declarations:[]},D={type:"rule",selectors:h.add_to_poss_comma_selector(w,{allitems:1},!0),declarations:[]},j={type:"rules",rules:[]},I={type:"rule",selectors:h.maybe_add_event_selector(d.ast_eventless_selector,d.event,!0),declarations:[]},L=["event","event_target"],R=TvrMT.data.prog.subGroupKeys[u];if(!R)return d;for(var N=0;N<R.length;N++){var F=R[N],q=n.prop_to_cssf(F),U=n.checkObject(c,[F]),z=n.checkObject(c,[F,"value"]),B=T[q],$=void 0,H=!1,V="html"===u,W="grid"===u&&x[F],G="grid"===u&&k.grid_item_props[F],K=G?0:void 0,Q=n.checkObject(T,[q,"tab_control"]),X=!1,Y=!1,J=n.check_type(z,["object","array"]);M=B.sub_slug?B.sub_slug:M;var Z=this.get_important_carrier_prop(q,F),ee=n.checkObject(_,[m,v,u,Z]),te=ee?" !important":"",ne=h.styles_disabled("sub_group",y,b,g,M,"justPG",Q,K);if(n.isDefined(B.css_func)&&(S.shouldFormat=!0,ne&&(S.pgDisabled[M]=M),te&&(S.properties[u].important=te)),J)if(X=z,Y=ee||[],G){z=X[0],te=Y[0]||"";var re=h.get_nth_values(X),ie=re.length;re&&ie&&(n.updateObject(k.props,[F,"values"],re),ie>k.highestLength&&(k.highestLength=ie)),k.props[F]&&e.extend(!0,k.props[F],{important:h.get_nth_values(Y),sub_slug:M,pgTabGroup:Q})}else z="none"===z[0]?"none":n.joinObjectOrArray(z," ");if("code"===u||"html"===u||z&&!n.in_array(F,L))if("code"!==u){if("font-family"===q&&z===TvrLang.google_font&&(V=!0),"google-font"===q&&(q="font-family",h.isJustVariable(z)||(z="'"+h.extract_gf_values(z,"name")+"'")),"background-image"===q||"list-style-image"===q||"mask-image"===q){var ae=z.match(new RegExp(h.reg.abs_or_rel_file()));ae&&(z='url("'+ae[1]+'")')}if("grid-template-areas"===q&&(z=l.format_template_areas_nicely(z)),t.propAliases[q]&&(q=t.propAliases[q]),"event_value"!==F||"line-height"!==c.transition_property&&"opacity"!==c.transition_property){var oe=t.maybe_set_unit(U,u,F,z);oe&&(z=oe.val)}var se=O;if(d.event&&(se=P,V=!0),W&&(se=D),z&&(z=t.fixVariableDefinitions(z)),"transition"===u&&(se=O,V=!1,d.event_target&&"event_value"!==F?(se=E,H=!0,V=!0):"event_value"===F&&n.checkObject(c,["transition_property","value"])&&z&&(se=P,q=n.checkObject(c,["transition_property","value"]),$=z,V=!0)),(N<1||$)&&V){var le=[];switch(u){case"html":R.forEach((function(e){if(c[e]){let t=c[e].value;t&&t.forEach(((t,n)=>{t&&"snippet"!==e&&"move_relative_dom"!==e&&(le[n]||(le[n]={}),le[n][e+"["+n+"]"]=t)}))}}));break;case"font":var ce=n.checkObject(c,["google_font","value"]),ue=h.extract_gf_values(ce);le.push({google_font:ue.name?1:void 0,variant:ue.variant,subset:ue.subset});break;case"animation":case"transition":le.push({sub:1,group:u,event:H||!d.event?void 0:1,event_value:$?1:void 0,event_target:d.event_target?1:void 0,target_path:d.event_target_path?d.event_target_path:void 0})}if(h.add_declaration_comment(se,le),"font-family"===q&&z===TvrLang.google_font)continue}"html"!==u&&h.add_declaration(se,q,z,te,!1,ne,M)}else{if(s.selCodeChanged&&t.scss_enabled&&z&&"consolidatedGUI"!==z){var de=h.get_first_selector_in_css(z),pe=new RegExp(de,"i"),fe=z.replace(pe,s.selCodeChanged.newCode);o.updateObjectAndSavePackage(r.settings.savePackage,{action:"replace",trail:r.trail.selector.concat(["styles","code","css","value"]),data:fe})}if(this.run_css_to_selector(g,s)&&(r=this.css_to_selector(r,a,s,p,m,v,b,g)).return)return r}}var he=[{type:"rootRule",rule:O},{type:"eventRule",rule:P},{type:"targetRule",rule:E},{type:"allGridItemRule",rule:D}],_e={};n.obj_length(k.props)&&(h.format_nth_item_rules(k,_e),k.rules.length&&(he=he.concat(k.rules))),"grid"===u&&(g.itemsWithValues=_e);for(var ge=0;ge<he.length;ge++){var me=he[ge];me.rule.declarations.length&&(me.rule=this.maybe_format_shorthand(me.rule),S.shouldFormat&&(me.rule=this.format_css_functions(me.rule,S)),A.rules.push(me.rule),"eventRule"===me.type?(I.declarations=e.extend(!0,[],P.declarations),j.rules.push(I)):j.rules.push(e.extend(!0,{},me.rule)))}d.ast=A,t.scss_enabled||n.checkObject(g,["styles","code","css","value"])||n.updateObject(g,["styles","code","css","value"],"consolidatedGUI");var ve="all-devices"!==p,ye=h.cssDefaultConfig(p),be=!!ve&&t.pref.m_queries[p].query;if(j.rules=this.add_final_compile_data(j.rules),j=ve?{type:"media",media:t.pref.m_queries[p].query.replace("@media","").trim(),rules:j.rules}:j,(d=e.extend(!0,ye,d)).ast.rules.length&&(d.flashCSSRules=h.stringify_css(j,d)),n.updateObject(g,["ast","rules",u],A.rules),"animation"!==u||"group"!==r.settings.domDepth&&!s.triggeredFromEditor||(r.settings.animationConfig=d,r.settings.animationConfig.animationName=c.animation_name),s.justUpdateAST)return d;if(h.styles_disabled("sub_group",y,b,g,M,"tabSelSec")?d.compiled_css="":d=this.all_selector_styles(g,w,d,g.ast.rules,!0),g.compiled_css=d.compiled_css,!r.forAISync&&t.client_scss){var we=d.compiled_css,Te=r.settings,xe=t.check_update_scss_changes(Te,{code:we,mq_key:p,scss_types_trail:r.trail.selector.concat(["scss_types"]),resourceTrail:r.trail.selector});g.raw_scss!==we&&(g.raw_scss=we);var ke=g.scss_types;r.settings.preprocessor={index:b.index,sectionIndex:y.this.index,sectionSlug:m,selectorSlug:v,scss_types:ke,code:we||w+" { }",trail:r.trail.selector,selIdentifier:r.trail.selector.join("."),selectorEdited:!0,mq_key:p,scss_types_changed:xe,extendChanged:ke&&n.obj_length(ke.extend)>0}}else t.pref.manual_recompile_all_css&&(delete g.raw_scss,delete g.scss_types);!t.iframeEditing()||r.no_style_node_update||t.scss_enabled||i.update_preview_style_node([p,m],n.get_section_css(r,a,r.section,m),be,r.settings.doNotRepositionOverlays),s.dontUpdateSavePackage||r.settings.savePackage.push({callFunc:"group_to_css",fullSelectorUpdate:1,action:"replace",trail:r.trail.selector,data:g})},get_nth_values:function(e){for(var t=[],r=0;r<e.length;r++)n.isDefined(e[r])&&(t[r]=e[r]);return t},format_nth_item_rules:function(e,r){for(var i=Object.keys(e.props),a=0;a<e.highestLength;a++){for(var o={type:"rule",selectors:h.add_to_poss_comma_selector(e.selCode,{nth:a},!0),declarations:[]},s=0;s<i.length;s++){var l=i[s],c=e.props[l],u=e.grid_item_props[l];t.propAliases[u]&&(u=t.propAliases[u]);var d=c.values,p=c.important[a]?" !important":"",f=c.sub_slug,_=h.styles_disabled("sub_group",e.rootSection,e.rootSelector,e.selector,f,"justPG",c.pgTabGroup,a),g=d?d[a]:void 0;if(n.isDefined(g)){if(r[a]=1,!(a>0))break;h.add_declaration(o,u,g,p,!1,_,f)}}o.declarations.length&&e.rules.push({type:"nthItemRule",rule:o})}return e.rules},extract_gf_values:function(e,t){if(!e)return{};var n=e.split(" ("),r={str:e,name:n[0],urlName:n[0].replace(/\s/g,"+"),variant:n[1]?n[1].replace(/[\s)(]+/g,""):""},i=r.variant.split(",");return i[1]&&(r.variant=i[0],r.subset=i[1].trim()),t?r[t]:r},add_final_compile_data:function(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.rules)i.rules=this.add_final_compile_data(i.rules);else{if(!i.declarations)continue;for(var a=TvrMT.data.prog.lh,o=TvrMT.data.prog.sh_prefixes,s=i.declarations,l=[],c=!1,u=0;u<s.length;u++){var d=s[u];if(d){if("declaration"===d.type){var p=d.property,f=d.value,_="";parseInt(t.pref.css_important)&&n.isDefined(f)&&f.indexOf("!important")<0&&p.indexOf("$")<0&&(_=" !important",d.value+=_);var g=n.checkObject(a,[p,"prefixes"]),m=n.checkObject(o,[p,"prefixes"]);if(g||m){var v=g||m,y=[],b=[];if(v.property)for(var w=0;w<v.property.length;w++)y[w]=h.add_declaration(i,v.property[w],f,_,!0);if(v.values)for(var T in v.values)if(v.values.hasOwnProperty(T)&&f===T)for(var x=0;x<v.values[T].length;x++)b[x]=h.add_declaration(i,p,v.values[T][x],_,!0);l[u]=y.concat(b)}}else if("comment"===d.type){var k=this.get_extracted_config(d.comment);!c&&k&&k.event&&(this.maybe_add_hover_focus_event_class(i.selectors),c=!0)}}else s.splice(u,1)}var S,C=0;for(u=0;u<l.length;u++)l[u]&&(S=0===C?u:u+C,s.splice(S,0,l[u]),C++);i.declarations=n.flatten(s)}}return e},disabled_decs_to_comment_and_check_primary_present:function(e){for(var t=e.rules,n=0;n<t.length;n++){var r=t[n];if(e.primarySelPresent||h.selectors_match(e.primarySelAst,r.selectors)&&(e.primarySelPresent=!0),r.declarations&&!(r.declarations.length<1)){var i,a,o=r.declarations,s={};for(a=0;a<o.length;a++){var l=o[a];if(l){if(l.pgDisabled){var c=l.pgDisabled;s[c]||(s[c]={comment:[],count:0,index:a}),(i=s[l.pgDisabled]).comment.push(l.property+": "+l.value+";"),i.count++}}else o.splice(a,1)}for(var u in s)s.hasOwnProperty(u)&&(i=s[u],o.splice(i.index,i.count,{type:"comment",comment:i.comment.join("\n\t"),position:!1}))}}return t},maybe_format_shorthand:function(e){if(e.declarations.length<1)return e;var t,n=TvrMT.data.prog.lh,r=e.declarations,i=[],a={},o={},s=0,l={};for(t=0;t<r.length;t++)o[r[t].property]=r[t].value,++s;for(t=0;t<r.length;t++){var c=r[t];if(c){var u=n[c.property];c.value;if(u&&u.sh){var d=u.sh[0];if(Array.isArray(d))for(var p=0;p<u.sh.length&&("incomplete"!==a[d=u.sh[p][0]]&&this.check_lh_to_sh_conversion(s,a,o,d,i,c,l),"rendered"!==a[d]);p++);else this.check_lh_to_sh_conversion(s,a,o,d,i,c,l);c.skip||i.push(c)}else i.push(c)}else r.splice(t,1)}return e.declarations=i,e},css_function_properties:{transform:1,filter:1},css_functions_config:function(){return{shouldFormat:!1,long:TvrMT.data.prog.lh,sh:TvrMT.data.prog.sh,map:TvrMT.data.prog.css_func_map,properties:{transform:{values:[],disabled_values:[]},filter:{values:[],disabled_values:[]}},pgDisabled:{}}},transform_matrix_to_functions:function(t,n,r){var i=r[0];if(n.indexOf("matrix")>-1){Object.keys(TvrMT.data.prog.css_func_map);var a=window.CSSPlugin.parseTransform(i,!0),o={"translatex-function":a.x,"translatey-function":a.y,"translatez-function":a.z,"scalex-function":a.scaleX,"scaley-function":a.scaleY,"scalez-function":"[ ? ]","rotatex-function":a.rotationX,"rotatey-function":a.rotationY,"rotatez-function":a.rotation,"skewx-function":a.skewX,"skewy-function":a.skewY,"perspective-function":a.transformPerspective};e.extend(!0,t,o)}else h.show_function_default_computed(t)},maybe_filter_comp_css_props_list:function(e,t,r){if(h.css_function_properties[e]){for(var i=!1,a=t.length-1;a>=0;a--){var o=t[a],s=n.cssf_to_prop(o);TvrMT.data.prog.css_func_map[s]&&(i=!0)}i&&t.push(e)}if(r.intelli)for(var l=0;l<h.keyInfoProps.length;l++){var c=h.keyInfoProps[l];n.in_array(c,t)||t.push(c)}},keyInfoProps:["display","position","font-size","line-height","font-family","color","background-color","width","height","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-top-width","border-right-width","border-bottom-width","border-left-width"],extractable_css_functions:function(e,t){return!t.isSubSel&&h.css_function_properties[e.property]&&!n.in_array(e.value,Object.keys(TvrMT.data.prog.unsupported_css_func_map),!0)},extract_css_functions:function(t,r,i,a,o,s,l,c){if(n.isDefined(r)){for(var u=n.split_on_regex_group(r,new RegExp(h.reg.splitGridRowsCols(),"mg"),1),d=0;d<u.length;d++){var p=u[d].match(/(.+?)\((.+)\)/);if(p){var f=p[1].toLowerCase(),_=p[2];if("rotate"===f&&(f="rotatez"),TvrMT.data.prog.sh[f]||(f+="-function"),t)t[f]=_;else{var g=e.extend(!0,{},o,{property:f,value:_});this.reset_m_root_levels(s,i,a),h.process_declaration(g,s,l,c)}}}t&&h.show_function_default_computed(t)}},show_function_default_computed:function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var i=t[r];if(void 0===e[i]){var a=n.checkObject(TvrMT.data.prog.lh,[i,"css_func"]);n.isDefined(a)&&(e[i]=a)}}},format_css_functions:function(e,t){var r,i=e.declarations,a=i.length-1,o=t.long,s=t.sh,l=t.map;for(r=a;r>=0;r--){var c=i[r];if(c){var u=c.property,d=l[n.cssf_to_prop(u)];if(d){var p=o[u];if(!p)p=o[Object.keys(s[u])[0]];var f=p.sub_slug,_=t.pgDisabled[f]?"disabled_values":"values",g=!!n.isDefined(c.value)&&c.value.trim();u=u.replace("-function",""),g&&("transform"===d&&(u=n.last_char_uppercase(u),g=g.replace(/\s+/g,", ")),g=h.strip_important(g),t.properties[d][_].unshift(u+"("+g+")")),i.splice(r,1)}}else i.splice(r,1)}var m=Object.keys(t.properties);for(r=0;r<m.length;r++)for(var v=m[r],y=t.properties[v],b=["values","disabled_values"],w=0;w<b.length;w++){var T=b[w],x=t.properties[v][T];if(x.length){var k=x.join(" "),S=y.important||"",C="disabled_values"===T;h.add_declaration(e,v,k,S,!1,C,f)}}return e},is_single_keyword:function(e){return n.in_array(e,["none","initial","inherit"])},check_lh_to_sh_conversion:function(e,t,r,i,a,o,s){var l=TvrMT.data.prog.sh[i],c=[],u=0,d=0;if(n.updateObject(s,[i,o.property],o.value),o.skip=!1,"rendered"===t[i])return o.skip=!0,!1;if("incomplete"!==t[i]){var p="",f=[];for(var _ in l)if(l.hasOwnProperty(_)){var g=l[_],m=r[_];if(m){var v=/^([^!]+)(\s!important)?$/.exec(m);if(v&&v[2]&&(m=v[1],p=v[2]),"border-radius"===i){var y=m.split(" ");y[1]&&(m=y[0],f[g.index]=y[1])}if(g.config.optional&&m===g.config.initial){if("gradient-b-pos"===_)continue;m="same_as_initial"}c[g.index]=m,g.config.binary&&++d}else if(g.config.onlyShort&&!g.config.optional&&"none"!==c[0]){var b=c[0];!h.isJustVariable(b)||e>1?c[g.index]=g.config.initial:c[g.index]=""}g.config.binary||g.config.optional&&g.config.onlyShort||(u+=1)}if("border-radius"===i&&f.length){var w;for(w=0;w<c.length;w++)f[w]||(f[w]=c[w]);f[0]="/ "+f[0],c=c.concat(f)}if("font"===i||"background"===i){var T;switch(i){case"font":T=4;break;case"background":T=5}c[T]&&"same_as_initial"!==c[T]&&(c[T]="/ "+c[T])}if("linear-gradient"===i){if(c[0]&&"same_as_initial"!==c[0]){var x=c[0];switch(c[0]){case"left to right":x="90deg";break;case"top left to bottom right":x="135deg";break;case"top to bottom":x="180deg";break;case"top right to bottom left":x="-135deg";break;case"right to left":x="-90deg";break;case"bottom right to top left":x="-45deg";break;case"bottom to top":x="0deg";break;case"bottom left to top right":x="45deg"}c[0]=x}c[3]&&(c[2]+=" "+c[3],c[3]=null)}if(u<=(c=c.filter((function(e){return null!=e}))).length-d){var k=!0;switch(i){case"border":this.array_values_different(c,[[0,3],[4,7],[8,11]],!0)?k=!1:c=[c[0],c[4],c[8]];break;case"border-color":case"border-style":case"border-width":case"border-radius":case"padding":case"margin":this.array_values_different(c,[0,3],!0)||(c=[c[0]]);break;case"grid":case"grid-template":if(!(c=h.format_grid_shorthand(i,c)))return!1;break;case"gap":c[0]===c[1]&&(c=[c[0]])}if(k){var S=!0,C=!1;if(c=c.filter((function(e){return Array.isArray(e)&&(e=e[0]),e&&(e=n.trim(e,"/")),""!==e&&"inherit"!==e?S=!1:"inherit"===e&&(C=!0),"initial"!==e&&"same_as_initial"!==e&&""!==e})),S)c=["inherit"];else if(C)return!1;c.length||c.push("initial"),o.property=i;if("linear-gradient"===i)o.value="("+c.join(", ")+p+")";else{var M=n.in_array(i,["grid-area","grid-row","grid-column"])?" / ":" ";o.value=c.join(M)+p}return t[i]="rendered",!0}}t[i]="incomplete"}},interlace_rows_areas:function(e,t){var r=l.parse_template_areas(t,{grid_areas:[],parsed_areas:[],unique_areas:{},row_with_quotes:[]}).row_with_quotes,i=l.parseGridTracks(e),a=i.lines,o=r.length,s=a.length,c=o>s?o:s,u=[];if(r.length&&i.sizesDefined>r.length)return!1;for(var d=0;d<c;d++){var p=r[d]||"",f=a[d]?Object.values(a[d]):[];if(!n.isDefined(p)&&!n.isDefined(f))break;if(f[2]&&a.pop(),p&&"none"===f[1]&&(f[1]=""),f[0]&&u[d-1]){var _=f[0].match(h.reg.gridLine({inside:1}));if(_&&(_=_[1].split(" ")).length>1){var g="["+_.shift()+"]";u[d-1]+=" "+g,f[0]="["+_.join(" ")+"]"}}f.splice(1,0,p),(f=f.filter(Boolean)).length&&u.push(f.join(" "))}var m=u.length>1?l.styles_indent:"",v=m+u.join(m);return{rows:u,rows_formatted:v,areasDefined:r.length}},check_array_values:function(e,t,n){for(var r=0;r<n.length;r++)if("areAll"===e&&n[r]!==t)return!1;return!0},format_grid_shorthand:function(e,t){if(this.check_array_values("areAll","inherit",t))return["inherit"];var r="grid"===e,i=t[0],a=t[1],o=t[2],s=t[3],l=t[4],c=t[5],u="auto",d="none",p=(i+a).match(/repeat\(/),f=n.isDefined(s)&&s!==u,_=n.isDefined(l)&&l!==u,g=n.isDefined(i)&&0!==i.indexOf(d),m=n.isDefined(a)&&0!==a.indexOf(d),v=f&&_||f&&g||_&&m,y="auto-flow",b=c&&c.match("row"),w=c&&c.match("column");if(p||r&&v)return!1;c&&c.match("dense")&&(y+=" dense");var T=h.interlace_rows_areas(i,o);if(!T)return!1;var x=[],k="",S=[];if(g||T.rows_formatted&&"none"!==T.rows_formatted?S.push(T.rows_formatted):((b||f)&&S.push(y),f&&S.push(s)),(k=S.length?S.join(" "):"none").indexOf("inherit")>-1)return!1;x.push(k);var C="",M=[];if(m?M.push(a):(!w&&!_||T.areasDefined||M.push(y),_&&M.push(l)),M.length)M.unshift("/"),C=M.join(" "),x.push(C);else if(!(T.areasDefined||"none"===k))return!1;return!(C.indexOf("inherit")>-1)&&x},array_values_different:function(e,t,n){if(Array.isArray(t[0])){for(var r=0;r<t.length;r++)if(this.array_values_different(e,t[r],n))return!0}else if(n)for(var i=t[0];i<=t[1];i++){var a=i>t[0]&&e[i-1],o=e[i];if(a&&o!==a)return!0}return!1},maybe_format_gradient:function(e){for(var t=0;t<e.length;t++){var r,i=e[t],a=i.declarations,o=!1,s=!1,l=!1,c=!1,u="";if(a)for(var d=0;d<a.length;d++)if(r=a[d]){var p=r.property&&"string"==typeof r.property;!(p&&0===r.property.indexOf("--"))&&"declaration"===r.type&&n.isDefined(r.value)&&("linear-gradient"===r.property||r.value.indexOf("linear-gradient")>-1&&"background"!==r.property&&"background-image"!==r.property&&p&&r.property.indexOf("mask-image")<0?(l=d,u=r.value.indexOf("!important")>-1?" !important":"",c=r.value.replace(" !important","")):"background"===r.property?o=d:"background-image"===r.property&&(s=d))}else a.splice(d,1);if(c){var f=i.declarations[l],_=!1!==s?s:o,g=!1!==_&&i.declarations[_];if(!g||g.pgDisabled)f.property="background-image",f.value="linear-gradient"+f.value,f.pgDisabled;else if(!f.pgDisabled){"initial"===g.value&&(g.value="");var m=g.value.match(new RegExp("^("+h.reg.color()+")\\s?"),"i");if(m){var v=m[0];g.value=g.value.replace(v,""),c+=", "+v}if(g.value.indexOf("!important")>-1)g.value=g.value.replace(" !important",", linear-gradient"+c+" !important");else{var y=g.value?", ":"";g.value+=y+"linear-gradient"+c+u}i.declarations.splice(l,1)}}}return e},add_declaration_comment:function(e,t){const n=Array.isArray(t)?t:[t];for(const t of n)t&&e.declarations.push(this.config_comment(t))},config_comment:function(e){return{type:"comment",comment:" "+n.config_obj_to_string(e)+" "}},add_declaration:function(e,t,n,r,i,a,o){var s={type:"declaration",property:t,value:n+r};return a&&(s.pgDisabled="flexitem"===o?"flexcontainer":o),i?s:(e.declarations.push(s),e)},format_ast_selector:function(e){return e?e=e.split(",").map((function(e){return e.trim()})):[]},strip_extra_from_selector:function(e){for(var t,n=Array.isArray(e)?e:this.format_ast_selector(e),r=0;r<n.length;r++)(t=n[r].match(this.selector_regex.plain_selector()))&&(n[r]=t[1]);return n.join(", ")},ast_selector_to_string:function(e){return Array.isArray(e)?e.join(",\n"):""},selectors_match:function(e,t){e=Array.isArray(e)?e:this.format_ast_selector(e),t=Array.isArray(t)?t:this.format_ast_selector(t);for(var n=e.length>t.length?e:t,r=0;r<n.length;r++)if(e[r]!==t[r])return!1;return!0},maybe_add_event_selector:function(e,t,n){if(!t||n&&("hover"===t||"focus"===t))return e;for(var r=[],i=".mt-"+t,a=":"+t,o=0;o<e.length;o++){var s=e[o];"hover"===t||"focus"===t?r.push(h.ensure_before_pseudo_el(s,a)):r.push(h.ensure_before_pseudo_el(s,i))}return r},maybe_add_hover_focus_event_class:function(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],a=i.match(/:(hover|focus)/),o=i.match(/\.mt-(hover|focus)/);a&&t.push(a[1]),o&&(n[o[1]]=!0)}if(t.length)for(var s=0;s<t.length;s++){var l=t[s];n[l]||e.push(".mt-"+l)}},add_to_poss_comma_selector:function(e,t,n){Array.isArray(e)||(e=h.format_ast_selector(e));for(var r=0;r<e.length;r++){var i;t.nth&&(i=" > :nth-child("+t.nth+")"),t.allitems&&(i=" > :nth-child(n)"),e[r]+=i}return n?e:h.ast_selector_to_string(e)},ensure_before_pseudo_el:function(e,t){var r=n.get_pseudo_el(e);if(r&&r[0]){var i=r[0];return e.replace(i,t+i)}return e+t},rel_to_absolute:function(e,t){if(n.startT(arguments),n.has_protocol(t))return t;if("/"==t.trim().charAt(0))return n.get_root_domain(e)+t;var r=e.split("/"),i=t.split("/");r.pop();for(var a=0;a<i.length;a++)"."!=i[a]&&(".."==i[a]?r.pop():r.push(i[a]));return n.endT(arguments),r.join("/")},parse_css:function(e,t){try{return window.TvrParser.parse(e,{silent:t})}catch(e){return s.update_full_logs({short:TvrLang.css_parse_error,long:"<p>"+TvrLang.css_parse_error_long+". </p><p>"+e.message+".</p>"}),!1}},maybe_auto_adjust_path:function(e,t,r){if(n.startT(arguments),(e.css_imp_adjust_paths||e.css_imp_copy_remote)&&("import"==r||t.indexOf("url")>-1)){var i;i="import"==r&&t.indexOf("url")<0?h.reg.quoted({inside:1}):h.reg.url({inside:1});var a=t.replace(new RegExp(i,"ig"),(function(t,r,i){var a=h.rel_to_absolute(e.css_source,r);if(e.css_imp_copy_remote&&n.is_image(a)){var o=e.css_imp_adjust_paths?a:r;h.remoteImages[o]=a}return t.replace(r,a)}));return n.endT(arguments),e.css_imp_adjust_paths?a:t}return n.endT(arguments),t},stringify_sub:function(e,t){n.startT(arguments);var r="";if(e)for(var i in e)e.hasOwnProperty(i)&&(r+=h.stringify_css(e[i],t));return n.endT(arguments),r},stringify_brackets:function(e,t,r){n.startT(arguments);r.tab;var i="";return i+=e+" {\n",r.tab=h.tabDepth[++r.tabDepth],i+=h.stringify_sub(t,r),t&&t.length||(i+=r.tab+"\n"),r.tab=h.tabDepth[--r.tabDepth],i+=r.tab+"}",i+="\n",n.endT(arguments),i},stringify_at:function(e){return"@"+e.type+" "+e[e.type]+";"},tabDepth:["","\t","\t\t","\t\t\t"],stringify_css:function(e,t){if(n.startT(arguments),t.singleNode){var r="",i=e;switch(i&&i.type){case"rules":r+=h.stringify_sub(i.rules,t);break;case"rule":(r+=h.stringify_brackets(i.selectors.join(", \n"),i.declarations,t)).indexOf("(")>-1&&(r=r.replace(/(,\s*\n)(?=[^()]*\))/g,", "));break;case"font-face":case"page":r+=h.stringify_brackets("@"+i.type,i.declarations,t);break;case"declaration":return i.value=h.maybe_auto_adjust_path(t.opts,i.value,i.type),void 0===i.value&&(i.value=""),t.tab+i.property+": "+i.value+";\n";case"comment":return t.tab+"/*"+i.comment+"*/\n";case"keyframes":r+=h.stringify_brackets("@"+i.type+" "+i.name,i.keyframes,t);break;case"keyframe":r+=h.stringify_brackets(i.values.join(", ").trim(),i.declarations,t);break;case"media":r+=h.stringify_brackets("@"+i.type+" "+i.media,i.rules,t);break;case"supports":r+=h.stringify_brackets("@"+i.type+" "+i.supports,i.rules,t);break;case"document":r+=h.stringify_brackets("@"+i.type+" "+i.document,i.rules,t);break;case"charset":case"namespace":return h.stringify_at(i);case"import":return i[i.type]=h.maybe_auto_adjust_path(t.opts,i[i.type],i.type),h.stringify_at(i)}return n.endT(arguments),r}var a=window.TvrParser.stringify(e,t);return n.endT(arguments),a},update_import_css_preview:function(r,i,a){n.startT(arguments);var o=n.force_fresh_url(i.c.closest(".stylesheet-to-import").find("input.combobox").val());if("loadNew"==a){var l=n.file_extension(o)[1];if(l&&"css"!=l.toLowerCase()){var c="scss"==l?TvrLang.scss_import_long:TvrLang.css_import_long;return s.update_full_logs({short:TvrLang.css_import_short,long:"<p>"+c+"</p>"}),!1}i.dataType="text",n.domain_matches(o)||(o=t.ajaxUrl+"&mt_action=tvr_get_remote_css&url="+encodeURI(o),i.remote=1),s.simple_ajax_request({url:o,dataType:i.dataType,plus:TvrLang.retrieve_css,minus:TvrLang.retrieve_css_failed,cbFunction:h.update_import_css_preview,cbfArgs:[i,"updateACE"],skipQueue:1})}else{if(i.remote){var u=e(r),d=u.find("ul.logs");"0"===(r=u.find("#remote-css").text())&&(r="/* Stylesheet could not be loaded.\n\n",d.find("li").each((function(){r+=e(this).find(".short").text()+"\n",r+=e(this).find(".long").text()+"\n\n"})),r+="*/")}e("#import-stats").removeClass("show"),h.update_import_css_editor(r),t.remember_css_import_file()}n.endT(arguments)},update_import_css_editor:function(e){n.startT(arguments),a.update_arbitrary_editor({context:"importCSS",editorID:"preview-import-css-0",data:e,filterClass:"preview-import-css",readOnly:!1,editorHeight:370}),n.endT(arguments)},is_primary_sel:function(e,t){return h.selectors_match(e.selectors,t.newSelCode)},tag_sub_sels:function(e,t){for(var n=0;n<e.length;n++)this.rule_analysis(e[n],t,{},!0)},is_grid_item_rule:function(e,t,n){var r=t.match(h.selector_regex.nth_child({scope:n}));if(r&&h.selectors_match(e,h.strip_extra_from_selector(t))){var i=r[1];return"n"===n?i:parseInt(i)}return!1},syncable_grid_item:function(e,t,r,i){return t.tab_control===r&&n.checkObject(e,[i])},rule_analysis:function(e,t,n,r){var i=e.declarations,a=this.is_primary_sel(e,t);if(n.ruleAnalysis={MTconfigs:[]},a?(n.primaryRuleDisplayValue=null,n.isPrimarySelector=!0):n.isPrimarySelector=!1,i)for(var o=0;o<i.length;o++){var s=i[o];if(s)if("comment"===s.type){var l=h.get_extracted_config(s.comment);l&&(n.ruleAnalysis.sub=l.sub,l.event_value&&n.node_refs&&this.find_event_value_property(n),n.ruleAnalysis.MTconfigs.push(l))}else a&&"display"===s.property&&(n.primaryRuleDisplayValue=s.value);else i.splice(o,1)}if(!n.ruleAnalysis.sub&&r&&!a){var c=this.config_comment({sub:1});i?i.unshift(c):e.declarations=[c]}return a||(n.ruleAnalysis.sub=1),n.ruleAnalysis},get_ast_selector:function(e,r,i,a,o){n.startT(arguments);var s=!1;i.sCode=e.selectors.join(", "),r.inline_css_to_gui||!i.selCommentJustFound&&!i.selCommentNeverFound||(i.selCommentJustFound=!1,r.newSelCode=i.sCode);var l=this.rule_analysis(e,r,i).sub;if(r.inline_css_to_gui&&this.is_primary_sel(e,r))i.sName=r.origSelName;else if(l){var c=i.lastExtractedS||i.extractedS;i.sName=r.inline_css_to_gui?r.origSelName:c,i.isSubSel=!0,i.gridItem=h.is_grid_item_rule(r.newSelCode,i.sCode,"\\d"),i.allGridItems=h.is_grid_item_rule(r.newSelCode,i.sCode,"n"),e.declarations.length||(this.set_declaration_levels(i),this.add_unsupported_declaration(!1,i.non_gui_levels,a,i.sCode))}else i.extractedS?(i.sName=i.extractedS,i.lastExtractedS=i.sName,i.extractedS=!1,r.ai_sync&&(s=!0)):r.css_imp_friendly?(i.sName=t.human_css_name(i.sCode,"import",i),i.sName=t.ensure_unique_name(i.sName,i.sCode,"import",i)):i.sName=i.sCode;if(n.isDefined(i.sName)||(i.sName=i.sCode),i.sSlug=r.origSelectorSlug||n.convert_to_param(i.sName),!i.unqSels[i.sSlug]||r.ai_sync&&i.extractedF){if(i.tmpfSlug=!1,i.unqSels[i.sSlug]={code:i.sCode,name:i.sName,slug:i.sSlug,folder:i.fSlug},++i.selCount,++i.fSelCount,i.levels.push(i.fSlug,i.sSlug),"MQ"===o&&i.levels.splice(0,3),r.ai_sync&&(n.updateObject(a,i.levels.concat(["jsu"]),t.jsuVersion),n.updateObject(a,i.levels.concat(["xpath"]),u.attemptXPathConversion(i.sCode)),s)){let e=n.get_js_object_data([i.fSlug,i.sSlug],"all-devices").data,t=e&&n.isNumeric(e.index)?e.index:0;n.updateObject(a,i.levels.concat(["index"]),t)}n.updateObject(a,i.levels.concat(["label"]),i.sName+"|"+i.sCode);var d=r.css_imp_friendly?i.sName:i.sCode;i.stats.selectors.push(d)}else i.tmpfSlug=i.unqSels[i.sSlug].folder;return n.endT(arguments),a},mq_exists:function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n].query===e)return n;return!1},get_import_opts:function(){n.startT(arguments);var t={};if(e("#imp-css-preview").find('input[type="radio"]:checked, input[type="checkbox"]:checked, input[type="text"]').each((function(){var n=e(this),r=n.attr("name").match(/\[(.*?)\]/);r&&r[1]&&(r=r[1],t[r]="radio"==n.attr("type")||"checkbox"==n.attr("type")?parseInt(n.val()):n.val())})),t.css_imp_styles&&!t.css_imp_sels)return alert(TvrLang.imp_sels_too),n.endT(arguments),!1;t.css_source=e("#stylesheet_to_import").val();var r=a.get_editor(e("#preview-import-css-0"));return t.css=t.css_imp_only_selected?r.getCopyText():r.getValue(),n.endT(arguments),t},eval_gui_pos_duplicate:function(e,n,r){if(t.scss_enabled&&r.css_imp_always_cus_code)return!1;for(var i in e.pos_duplicate)e.pos_duplicate.hasOwnProperty(i)&&(e.pos_duplicate[i].is_def=0);var a=n.declarations;for(var o in a){if(a.hasOwnProperty(o))if("background"==(i=a[o].property)){var s=h.sh[i](TvrMT.data.prog.sh.background,i,a[o].value);s&&s[100]&&(e.pos_duplicate.gradient.is_def=1)}else e.pos_duplicate[i]&&(e.pos_duplicate[i].is_def=1)}},will_be_duplicated:function(e,r,i){if(t.scss_enabled&&i.css_imp_always_cus_code)return!1;for(var a in e.pos_duplicate)if(e.pos_duplicate.hasOwnProperty(a)&&e.pos_duplicate[a].is_def&&(!1!==n.in_array(r.property,e.pos_duplicate[a].ignore)||!1!==n.in_array(r.value,e.pos_duplicate[a].ignore,!0)))return!0;return!1},ast_to_data:function(e,t){var n={non_section:{m_query:{},hand_coded_css:"",active_queries:{},m:{opts:t,node_refs:{rules:e},folderPrefix:t.ai_sync?TvrLang.ai:TvrLang.imp_css_folder,selCommentNeverFound:!0,MTconfig:{},ruleAnalysis:{},snippets:{},stylesLog:{active_sub_groups:{},active_tab_controls:{},commented_out:[]},pos_duplicate:{gradient:{is_def:0,ignore:["-webkit-gradient","-webkit-linear-gradient","-moz-linear-gradient","-ms-linear-gradient","-o-linear-gradient","-pie-background"]},opacity:{is_def:0,ignore:["-ms-filter","-moz-opacity","-khtml-opacity"]},"box-shadow":{is_def:0,ignore:["-webkit-box-shadow","-moz-box-shadow"]},"border-radius":{is_def:0,ignore:["-webkit-border-radius","-moz-border-radius"]}},stats:{media:[],folders:[],selectors:[],declarations:[],gui_custom:[],remote_images:[],full_custom:{charset:[],import:[],namespace:[],"font-face":[],keyframes:[],document:[],page:[],supports:[]}},uaNeeded:!1,levels:[],important_levels:[],mqCount:0,createdMQs:{},folderCount:0,lastFComment:"",fName:"",fSlug:"",tmpfSlug:!1,fSelCount:"",sSlug:"",sName:"",sCode:"",selCount:0,unqSels:{},styleCount:0}}};return n=h.traverse_ast_css(n,e,"Reg")},remoteImages:{},process_css_import:function(r,i){n.startT(arguments),h.remoteImages={};var o=h.get_import_opts();if(o){if(!o.css_source&&(o.css_imp_adjust_paths||o.css_imp_copy_remote))return alert(TvrLang.enter_css_source),!1;t.remember_css_import_file(),o.css_imp_max,o.css=o.css.replace(/\.wp-block \{}(\s|\n|\r)+\/\*\s+\(.wp-block \{} ensures MT files load in Gutenberg editor\) \*\//,"");var s=h.parse_css(o.css,!1);if(!s)return!1;if(!s.stylesheet||!s.stylesheet.rules)return alert(TvrLang.imp_css_empty),!1;var l=s.stylesheet.rules,c=h.ast_to_data(l,o),u=c.non_section.m,d="",p=[];for(var f in h.remoteImages)h.remoteImages.hasOwnProperty(f)&&(d+=f+","+h.remoteImages[f]+"|",p.push(f));if(d=n.rtrim(d,"\\|"),e("#get_remote_images").val(d),h.updateMTDataImportedFullCode(u,c,"Imported"),"preview-stats"==i){var _=e("#import-stats"),g=e("#import-from-pack-dialog");_.fadeOut("fast",(function(){_.fadeIn("slow",(function(){n.scroll_to({scrollDiv:g.find(".scrollable-area").first(),offset:610})}))}));var m=u.stats;for(var f in m.errors=s.stylesheet.parsingErrors,m.remote_images=p,m)if(m.hasOwnProperty(f)&&Array.isArray(m[f])){TvrMT.data.prog.combo[f]=m[f];var v=e("#stats-"+f),y=m[f].length;v.find(".stat-count").text("("+y+")")}a.update_arbitrary_editor({context:"statsCSS",editorID:"stats-full_custom",data:cssStr,filterClass:"stats-full_custom",readOnly:!1,editorHeight:370}),n.endT(arguments)}else if("do-import"==i)return c.non_section.m={},e("#stylesheet_import_json").val(JSON.stringify(c)),n.endT(arguments),!0}},updateMTDataImportedFullCode:function(e,t,r,i){var a=e.stats.full_custom,o="",s=" /* "+r+": "+n.date_format(new Date,"mysql")+" */",l=-1;for(var c in a)a.hasOwnProperty(c)&&a[c].length&&(0==++l&&(a[c][0]=a[c][0].replace(/(\n|$)/,s+"$1")),o+=a[c].join("\n")+"\n");o&&(t.non_section.hand_coded_css=o)},build_field_data:function(e,t,r,i,a,o,s){for(var l in n.startT(arguments),e=e||-1,i)if(i.hasOwnProperty(l)&&(!t||!t.MTconfig.google_font||"font-family"!==l)){var c=a[i[l].index+1],u=i[l].config.initial,d=Array.isArray(c),p=d?c[0]:c,f=!1;if(n.isDefined(p)?f=c:u&&(f=d?[u]:u),"gradient"===i[l].group&&(f=c||!1),f){var _=this.resolve_repeated_property_group(l,f,t),g=TvrMT.data.prog.lh[_];h.check_important_and_unit(this.format_field_data(l,f,g,t,s)),r[++e]=h.check_important_and_unit(this.format_field_data(l,f,g,t,s),i,o)}}return n.endT(arguments),e},determine_chain_enabled:function(e,t,r){var i,a=["border-color","border-width","border-style"],o=a.concat(["padding","margin"],["border","border-radius"]);if("border"===e)for(i=0;i<a.length;i++)r.pg_chained[a[i].replace("-","_")]=1;else if(n.in_array(e,o)){var s,l,c=1;for(i=1;i<t.length;i++){if(s=t[i],i>1&&s!==l){c=!1;break}l=s}c&&(r.pg_chained[e.replace("-","_")]=c)}},extract_fieldData_value:function(e,t){return t=t||"group",Array.isArray(e)&&e[0]?e[0][t]:e[t]},should_merge_with_styles:function(e,t,n,r,i,a){var o=this.extract_fieldData_value(e),s=this.query_lookahead_config(i.ruleAnalysis,{key:"group",value:o}),l=Array.isArray(e)?e[0]:e;return e&&(!a||!i.stylesLog.active_sub_groups[t]||!i.stylesLog.active_tab_controls[n])&&(!i.isSubSel||s.event||s.event_target||void 0!==i.gridItem&&void 0!==l.gridItem||void 0!==i.allGridItems&&void 0!==l.allGridItems)||r},process_commented_out_styles:function(e,t,n,r){var i,a,o=t.stylesLog.commented_out;if(o.length)for(a=0;a<o.length;a++)i=o[a],this.reset_m_root_levels(t,n,r),h.extractable_css_functions(i,t)?h.extract_css_functions(!1,i.value,n,r,i,t,e,!0):this.process_declaration(i,t,e,!0)},process_declaration:function(e,t,r,i){if(this.set_declaration_levels(t),t.MTconfig.google_font&&"font-family"===e.property)return!1;var a=h.maybe_auto_adjust_path(t.opts,e.value,e.type),o=h.input_field_available(e.property,a,t),s=this.extract_fieldData_value(o,"sub_slug"),l=this.extract_fieldData_value(o,"tab_control"),c=this.extract_fieldData_value(o,"gridItem"),u=this.is_event_value_style(e,t);if(u&&(s="transition"),!t.opts.css_imp_always_cus_code&&this.should_merge_with_styles(o,s,l,u,t,i)){if(u){var d={group:"transition",prop:"event_value",important_prop:!!o.important_prop&&"event_value",value:Array.isArray(o)?o[0].value:o.value,unit:Array.isArray(o)?o[0].unit:o.unit,longProp:"event_value"};void 0!==o.unit&&(d.unit=o.unit),this.apply_fieldData_to_mtData(d,r,t,e,i)}else{if(Array.isArray(o))for(var p=0;p<o.length;p++)this.apply_fieldData_to_mtData(o[p],r,t,e,i);else this.apply_fieldData_to_mtData(o,r,t,e,i);n.obj_length(t.pg_chained)>0&&n.updateObject(r,t.selector_levels.concat(["pg_chained"]),t.pg_chained,{action:"array_merge_recursive_distinct"})}if(i){var f=t.selector_levels.concat(["pg_disabled",s]);void 0!==c&&f.push(c),n.updateObject(r,f,1)}else t.stylesLog.active_sub_groups[s]=1,t.stylesLog.active_tab_controls[l]=1}else h.maybe_add_unsupported_declaration(r,t,e,i)},maybe_add_unsupported_declaration:function(e,r,i,a){var o,s,l=!1;t.scss_enabled?l={action:"replace_string",replacePattern:/}$/,replaceValue:"\t"+(s=o=i.property+": "+i.value+";")+"\n}",ifUndefined:r.sCode+" {\n"+s+"\n}"}:(o=i.property+": "+i.value+";",s="consolidatedGUI",a&&(i={type:"comment",comment:o}),this.add_unsupported_declaration(i,r.non_gui_levels,e,r.sCode));var c=r.levels.concat(["code","css","value"]);n.updateObject(e,c,s,l),r.stats.gui_custom.push(o)},input_field_available:function(e,r,i){if(n.startT(arguments),!r)return!1;var a=TvrMT.data.prog.sh,o=TvrMT.data.prog.lh,s=[],l=-1,c=i&&i.gridItem?i.gridItem:0,u=i&&i.allGridItems,d=o[e=this.resolve_repeated_property_group(e,r,i)];if("background-image"===e||"list-style-image"===e){if(r.indexOf("radial-gradient")>-1)return!1;if(r.indexOf("linear-gradient")>-1){var p=a["linear-gradient"],f=h.sh["linear-gradient"](p,e,r);if(!f)return!1;f.normSh&&(l=h.build_field_data(l,i,s,p,f.normSh,r,c)),r=f.gradientStripped}if(!r)return!!s.length&&s;if(!h.commas_ok(e,r,a,o))return!1;var _=new RegExp(h.reg.url({inc:["none"],inside:1}),"i").exec(r);_&&_[1]&&(r=_[1])}if("background"!==e&&"linear-gradient"!==e&&!h.commas_ok(e,r,a,o))return!1;if(!u&&a[e]){var g=a[e],m=!1;if(h.sh[e])if(h.onlyShortProps[e]&&h.isJustVariable(r))m=["",r];else{if(!h.quadProps[e]){var v=h.variables_to_values(e,r);v.modifiedStr&&(r=v.modifiedStr)}m=h.sh[e](g,e,r),delete h.varValueMap[e]}return!!m&&(i&&this.determine_chain_enabled(e,m,i),l=h.build_field_data(l,i,s,g,m,r,c),"background"!==e&&"linear-gradient"!==e||!Array.isArray(m[100])||h.build_field_data(l,i,s,a["linear-gradient"],m[100],r,c),n.endT(arguments),s)}return!!d&&(n.in_array(e,t.gridTrackProps)&&(r=h.split_grid_tracks(r)),s.push(h.check_important_and_unit(this.format_field_data(e,r,d,i,c))),n.endT(arguments),s)},format_field_data:function(e,t,n,r,i){return{group:n.group,sub_slug:n.sub_slug,prop:n.prop,value:t,longProp:e,gridItem:this.syncable_grid_item(r,n,"griditems","gridItem")?i:void 0,allGridItems:!!this.syncable_grid_item(r,n,"allgriditems","allGridItems")||void 0,tab_control:n.tab_control}},resolve_repeated_property_group:function(e,r,i){var a=e,o=Object.values(t.propAliases);return n.in_array(e,o)&&("display"===e?a={flex:"display-flex","inline-flex":"display-flex",grid:"display-grid","inline-grid":"display-grid"}[r]||e:i&&"grid"===i.primaryRuleDisplayValue&&(h.is_grid_item_rule(i.opts.newSelCode,i.sCode,"n")?a=e+"-gridall":h.is_grid_item_rule(i.opts.newSelCode,i.sCode,"\\d")?a="grid-area"===e?e:e+"-grid":"align-items"===e&&(a=e+"-grid"))),a},check_important_and_unit:function(e,t,r){n.startT(arguments);var i=e.value;return(!t&&h.is_important(i)||t&&h.is_important(r))&&(e.value=h.strip_important(i),e.important_prop=t?this.get_important_carrier_prop(e.longProp,e.prop):e.prop),e.value=this.process_value_unit(e.value,e),n.endT(arguments),e},get_important_carrier_prop:function(e,t){var n,r=t,i=this.is_only_shorthand(e);if(i)for(var a in n=TvrMT.data.prog.sh[i])n.hasOwnProperty(a)&&n[a].important_carrier&&(r=n[a].prop);return r},is_only_shorthand:function(e){var t=TvrMT.data.prog.lh[e];return!!(t&&t.sh&&t.sh[2]&&t.sh[2].onlyShort)&&t.sh[0]},is_important:function(e){return Array.isArray(e)&&(e=e.join()),e.indexOf("!important")>-1},separate_value_unit:function(e){if(!n.isDefined(e))return!1;var t=!1,r=h.reg.lengWithUnitRegex(),i=e.toString().match(r);if(i){var a=i[1];t={value:e.replace(a,""),unit:a}}return t},process_value_unit:function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&(e[r]=this.process_value_unit(e[r],t,!0));else{var i=this.separate_value_unit(e);i&&(n||(e=i.value),t.unit=i.unit)}return e},strip_important:function(e){var t=/\s?!important/;if(!Array.isArray(e))return e.replace(t,"");for(var n=0;n<e.length;n++)e[n]=e[n].replace(t,"");return e},isJustColor:function(e,t){return e.match(new RegExp("^\\s*(?:"+h.reg.color({excludeCurrent:t})+")\\s*$","i"))},checkStringValue:function(e){return!!e&&(h.isJustColor(e)?"color":e.match(new RegExp(h.reg.leng({optUnit:1})))?"length":"other")},maybe_fill_important:function(t,r,i){if(i.important_prop){var a=e.extend(!0,[],r.important_levels);a.push(i.group,i.important_prop),void 0!==i.gridItem&&a.push(i.gridItem),n.updateObject(t,a,1)}},commas_ok:function(e,t,n,r){var i=0,a=n[e]?n[e]:r[e]?r[e]:0;if(!a)return!1;if(n[e]){for(var o in a)if(a.hasOwnProperty(o)&&a[o].multiple){i=1;break}}else r[e]&&(i=a.multiple);if(i){if(e.indexOf("mask-")<0&&"box-shadow"!==e&&"text-shadow"!==e&&"background-image"!==e)return!1;var s=new RegExp(h.reg.color({noNames:1}),"gi"),l=new RegExp(h.reg.gradient(),"g"),c=t.replace(l,"").replace(s,"");if(("background-image"===e||"box-shadow"===e||"text-shadow"===e)&&c.indexOf(",")>-1)return!1}return!0},get_valid_keywords:function(t){n.startT(arguments);var r={};for(var i in t)t.hasOwnProperty(i)&&(r[t[i]]=e.extend(!0,[],TvrMT.data.prog.combo[t[i]]),r[t[i]]?(""===r[t[i]][0]&&r[t[i]].shift(),r[t[i]].sort((function(e,t){return t.length-e.length}))):r[t[i]]=[]);return n.endT(arguments),r},prop_patterns:function(e,t,r,i){n.startT(arguments);var a="",o=0;for(var s in e)if(e.hasOwnProperty(s)&&(("other"==r&&s!=t||"this"==r&&s==t)&&(a+=++o>1?"|":"",a+=e[s].join("|")),s==t&&("hor"==r||"vert"==r))){var l=[],c={},u=-1;for(var d in e[s])if(e[s].hasOwnProperty(d)){var p=e[s][d].split(" "),f="hor"==r?p[0]:p[1];c[f]||(l[++u]="hor"==r?p[0]:p[1],c[f]=1)}return a=l.join("|")}return n.endT(arguments),a},filter_initial_inherit:function(){},try_to_return_variables:function(e,t){for(var n=e.vars,r=n.length,i=0,a=0;a<r;a++){var o=n[a],s=o.index,l=Array.isArray(t.index)?t.index.indexOf(s,1):-1,c=t[l],u=Array.isArray(c),d=u?c.join(" "):c;if(l>-1&&d===o.varValue){var p="var("+o.varName+")";t[l]=u?[p]:p,++i}}return r===i&&t},filter_shorthand_matches:function(e,t,r,i,a){if(!r)return!1;var o=h.varValueMap[e];if(o&&o.vars.length&&!(r=this.try_to_return_variables(o,r)))return!1;var s=h.singleKeywords,l=r[i];Array.isArray(l)&&(l=l[0]);var c=h.isJustVariable(l)?h.get_variable_value(l,"css",!0):l;if(n.in_array(c,s))if(a)r[1]=l;else if("inherit"===c||"initial"===c)for(var u in r)if(r.hasOwnProperty(u)&&u>0&&n.isInteger(parseInt(u))){var d="inherit"===c?l:void 0;Array.isArray(r[u])&&(d=[d]),r[u]=d}return r},update_full_custom:function(e,t,r){n.startT(arguments),e.stats.full_custom[t.type].push(h.stringify_css(t,{singleNode:1,opts:r,tab:"",tabDepth:0})),n.endT(arguments)},comment_regex:{config:p+"\\s*$",mq:"(?:\\(\\s(.+?)"+f+"\\s*\\))$",section:"(?:=\\s([^=]+?)"+f+"\\s*=+\\s*)$",selector:"(?:\\*\\s(.+?)\\s>>\\s(.+?)"+f+"\\s*\\*)$"},parse_custom_nodes:function(e,t){function n(){var e=r(/^(\*?[-$#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(e&&(e=i(e[0]),r(/^:\s*/))){var t=r(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),n={type:"declaration",property:e,value:t?i(t[0]):""};return r(/^[;\s]*/),n}}function r(t){var n=t.exec(e);if(n){var r=n[0];return e=e.slice(r.length),n}}function i(e){return e?e.replace(/^\s+|\s+$/g,""):""}switch(t){case"rules":break;case"declarations":return function(){for(var e,t=[];e=n();)!1!==e&&t.push(e);return t}();case"declaration":return n()}},css_functions:["attr","blur","brightness","calc","circle","contrast","counter","counters","cubic-bezier","drop-shadow","ellipse","fit-content","grayscale","hsl","hsla","hue-rotate","hwb","image","inset","invert","linear-gradient","matrix","matrix3d","min-max","opacity","perspective","polygon","radial-gradient","repeat","repeating-linear-gradient","repeating-radial-gradient","rgb","rgba","rotate","rotate3d","rotateX","rotateY","rotateZ","saturate","sepia","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","symbols","translate","translate3d","translateX","translateY","translateZ","url"],selector_regex:{browser_event_keys_reversed:function(){return Object.keys(TvrMT.data.prog.browser_event_keys).reverse().join("|")},event_key:function(){return new RegExp("(?:(?:\\.mt-|:)("+h.selector_regex.browser_event_keys_reversed()+"))")},eventless_selector:function(){return new RegExp("^([\\s\\S]*?)(?:(?:\\.mt-|:)(?:"+h.selector_regex.browser_event_keys_reversed()+"))")},plain_selector:function(){return new RegExp("^([\\s\\S]*?)(?:(?:(?:\\.mt-|:)(?:"+h.selector_regex.browser_event_keys_reversed()+"))|(?:"+h.selector_regex.nth_child({scope:"\\d|n"})+"))")},nth_child:function(e){return"\\s*>\\s*:nth-child\\(("+e.scope+")\\)\\s*"}},any_mt_comment:function(e){var t=new RegExp("^"+Object.values(this.comment_regex).join("|")).exec(e);return!!t&&{config:t[1]?n.config_string_to_obj(t[1]):void 0,mq:t[2],mq_config:t[3]?n.config_string_to_obj(t[3]):void 0,section:t[4],section_config:t[5]?n.config_string_to_obj(t[5]):void 0,selector_section:t[6],selector:t[7],selector_config:t[8]?n.config_string_to_obj(t[8]):void 0}},get_extracted_config:function(e,t){return t=t||"config",n.checkObject(h.any_mt_comment(e),[t])},is_event_value_style:function(e,t){return t.ruleAnalysis.event_value_property===e.property},strip_sub_sel_only_flags:function(e){for(var t=0;t<e.length;t++)for(var n=e[t].declarations,r=0;r<n.length;r++){var i=n[r];i?"comment"===i.type&&" MT [ sub: 1 ] "===i.comment&&n.splice(r,1):n.splice(r,1)}},just_sub_sel_flag:function(e){return e.sub&&1===n.obj_length(e)},find_event_value_property:function(e){var t=!!e.node_refs&&e.node_refs.rules,n=e.sCode.match(this.selector_regex.eventless_selector()),r=!!n&&n[1];if(!t||!r)return!1;for(var i=0;i<t.length;i++){var a=t[i],o=a.selectors;if(Array.isArray(a.declarations)&&this.selectors_match(r,o))for(var s=a.declarations,l=0;l<s.length;l++){var c=s[l];if("transition-property"===c.property)return e.ruleAnalysis.event_value_property=c.value,!0}}return!1},get_font_family_from_decs:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(r){if("font-family"===r.property)return n.strip_quotes(r.value);if("font"===r.property){var i=h.sh.font(TvrMT.data.prog.sh.font,r.property,r.value);if(Array.isArray(i))return n.strip_quotes(i[6])}}else e.splice(t,1)}return""},query_lookahead_config:function(e,t,n){for(var r=0;r<e.MTconfigs.length;r++){var i=e.MTconfigs[r];if(!t)return n?i[n]:i;if(i[t.key]===t.value)return n?i[n]:i}return{}},apply_comment_data_to_mtData:function(e,r,i){for(var a=t.cssProps.html.map((e=>e.prop)),o=["google_font","event","event_target"].concat(a),s=e.sCode,l=!1,c=0;c<o.length;c++){var d,p,f,h,_=o[c];if(e.MTconfig[_])switch(_){case"google_font":var g=this.get_font_family_from_decs(e.node_refs.declarations),m=[];e.MTconfig.variant&&m.push(e.MTconfig.variant),e.MTconfig.subset&&m.push(e.MTconfig.subset),m.length&&(g+=" ("+m.join(", ")+")"),this.apply_fieldData_to_mtData({group:"font",prop:"font_family",value:TvrLang.google_font},r,e,i,!0),this.apply_fieldData_to_mtData({group:"font",prop:"google_font",value:g},r,e,i,!0);break;case"event":case"event_target":f=e.MTconfig.group,d="event"===_?this.selector_regex.event_key():this.selector_regex.eventless_selector(),(p=s.match(d))&&("event"===_?h=TvrMT.data.prog.browser_event_keys[p[1]]:"event_target"===_&&(h=this.strip_extra_from_selector(s),e.MTconfig.target_path&&(h+="|"+e.MTconfig.target_path)),this.apply_fieldData_to_mtData({group:f,prop:_,value:h,longProp:h},r,e));break;default:if(!l){let t=n.getMaxArrLength(e.MTconfig),a=!1;for(let n=0;n<t;n++)Object.keys(e.MTconfig).forEach((t=>{let o=e.MTconfig[t][n];o&&"snippet"!==t&&"move_relative_dom"!==t&&(this.apply_fieldData_to_mtData({group:"html",prop:t,value:o,index:n},r,e,i,!0),"selector"===t&&this.apply_fieldData_to_mtData({group:"html",prop:"xpath",value:u.attemptXPathConversion(o),index:n},r,e,i,!0),(!a&&"move_to_selector"===t||"move_to_relative"===t)&&(this.apply_fieldData_to_mtData({group:"html",prop:"move_relative_dom",value:u.resolveRelativeDom(e.MTconfig?.move_to_selector?.[n],e.MTconfig?.move_to_relative?.[n]),index:n},r,e,i,!0),a=!0))}));l=!0}}}},apply_fieldData_to_mtData:function(t,r,i,a,o){var s=e.extend(!0,[],i.levels),l=e.extend(!0,[],i.levels);s.push(t.group,t.prop,"value"),l.push(t.group,t.prop,"unit"),void 0!==t.gridItem&&(s.push(t.gridItem),l.push(t.gridItem)),void 0!==t.index&&(s.push(t.index),l.push(t.index));var c=n.checkObject(r,s);if(!1===c||c===t.value){n.updateObject(r,s,t.value),t.unit&&n.updateObject(r,l,t.unit);var u=t.important_prop===t.prop?" !important":"";h.maybe_fill_important(r,i,t)}else h.maybe_add_unsupported_declaration(r,i,a,o);i.stats.declarations.push(t.longProp+": "+t.value+u)},add_unsupported_declaration:function(e,t,r,i){var a=n.checkObject(r,t),o=this.build_ast_rules_log(a),s=[{type:"rule",selectors:Array.isArray(i)?i:this.format_ast_selector(i),declarations:e?[e]:[]}],l=this.consolidate_duplicate_rules(s,a,o);n.updateObject(r,t,l,{action:"replace"})},build_ast_rules_log:function(e){var t={};if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n].selectors.join(",");t[r]||(t[r]=n)}return t},set_declaration_levels:function(t){t.levels.push(t.tmpfSlug?t.tmpfSlug:t.fSlug,t.sSlug,"styles"),t.non_gui_levels=t.levels.slice(0,-1),t.selector_levels=e.extend(!0,[],t.non_gui_levels),t.non_gui_levels.push("ast","rules","non_gui"),t.important_levels.push(t.tmpfSlug?t.tmpfSlug:t.fSlug,t.sSlug),t.pg_chained={}},reset_m_root_levels:function(e,t,n){e.levels="MQ"===t?["non_section","m_query",n]:[],e.important_levels="MQ"===t?["non_section","important","m_query",n]:["non_section","important"]},traverse_ast_css:function(e,r,i,a){n.startT(arguments);var o=e.non_section.m,s=o.opts;for(var l in r)if(r.hasOwnProperty(l)){var c=r[l];switch(this.reset_m_root_levels(o,i,a),o.levels="MQ"===i?["non_section","m_query",a]:[],o.important_levels="MQ"===i?["non_section","important","m_query",a]:["non_section","important"],c.type){case"comment":var u=this.any_mt_comment(c.comment);if(u)u.mq?o.extractedMQ=u.mq:u.section?o.extractedF=u.section:u.selector?(o.extractedS=u.selector,o.selCommentJustFound=!0,o.selCommentNeverFound=!1,u.selector_section&&u.selector_section!==o.extractedF&&(o.extractedF=u.selector_section)):u.config&&(this.set_declaration_levels(o),o.MTconfig=u.config,this.apply_comment_data_to_mtData(o,e,c),this.just_sub_sel_flag(o.MTconfig)&&this.add_unsupported_declaration(c,o.non_gui_levels,e,o.sCode));else{var d=this.parse_custom_nodes(c.comment,"declarations");d.length?o.stylesLog.commented_out=o.stylesLog.commented_out.concat(d):(s.inline_css_to_gui||o.selCount>0)&&(this.set_declaration_levels(o),this.add_unsupported_declaration(c,o.non_gui_levels,e,o.sCode))}break;case"rule":s.css_imp_sels&&(o.MTconfig={},o.ruleAnalysis={},o.isSubSel=!1,o.gridItem=void 0,o.allGridItems=void 0,o.pg_disabled={},o.pgtab_disabled={},o.stylesLog={active_sub_groups:{},active_tab_controls:{},commented_out:[]},s.css_imp_sels&&"declaration"!==c.type&&(0==o.folderCount||o.fSelCount>=t.maxSelsPerFolder||o.extractedF)&&(o.fSelCount=1,++o.folderCount,o.extractedF?o.fName=s.ai_sync&&"edit"===t.pref.ai_can?o.extractedF:o.folderPrefix+" - "+o.extractedF:o.fName=o.folderPrefix+" "+o.folderCount,o.fSlug=n.convert_to_param(o.fName),n.checkObject(e,[o.fSlug,"this","label"])||o.stats.folders.push(o.fName),n.updateObject(e,[o.fSlug,"this","label"],o.fName)),e=h.get_ast_selector(c,s,o,e,i),o.extractedF=!1,s.css_imp_styles&&(o.node_refs.declarations=c.declarations,e=h.traverse_ast_css(e,c.declarations,i,a),this.process_commented_out_styles(e,o,i,a)));break;case"declaration":h.extractable_css_functions(c,o)?h.extract_css_functions(!1,c.value,i,a,c,o,e):this.process_declaration(c,o,e);break;case"charset":case"import":case"font-face":case"keyframes":case"namespace":case"document":case"page":case"supports":h.update_full_custom(o,c,s);break;case"keyframe":default:break;case"media":if(s.css_imp_mqs){var p="@media "+c.media;if(!(a=h.mq_exists(p,t.pref.m_queries)))if(o.createdMQs[p])a=o.createdMQs[p];else{a=o.opts.ai_sync?"mtmq"+h.randomHex(13)+o.mqCount:++o.mqCount;var f=o.extractedMQ?o.extractedMQ:n.simpler_media_query_label(p);o.extractedMQ=!1,e.non_section.active_queries[a]=h.mq_min_max({label:f,query:p}),o.createdMQs[p]=a,o.stats.media.push(p)}s.css_imp_sels&&(o.node_refs.rules=c.rules,e=h.traverse_ast_css(e,c.rules,"MQ",a))}}}return n.endT(arguments),e},randomHex:function(e){return[...Array(e)].map((()=>Math.floor(16*Math.random()).toString(16))).join("")},mq_min_max:function(e){const t=e.query,n={...e};return["min","max"].forEach((e=>{const r=t.match(new RegExp(`${e}-width:\\s*([0-9.]+)\\s*(px|em|rem)`));n[e]=r?parseInt(r[1],10):0,r&&(n[`${e}_unit`]=r[2])})),/@container/.test(t)&&(n.container=1),n},singleKeywords:["initial","inherit","unset","none"],singleKeywordRegex:function(t){t=t||{};var n=e.extend(!0,[],this.singleKeywords),r=t.numMatches?t.numMatches:"1";return t.css_variable&&n.push(h.reg.function_call({name:"var"})),t.exclude_none&&n.splice(n.indexOf("none"),1),"(?=("+n.join("|")+"){"+r+"})"},reg:{alpha_num:function(e){return"(?:["+(e.alpha||!n.isDefined(e.alpha)?"a-z":"")+(e.numbers||!n.isDefined(e.numbers)?"0-9":"")+(e.underscores?"_":"")+(e.dashes?"-":"")+(e.spaces?"s":"")+"])"},trailing_before_after:function(){return"::?(before|after)$"},before_after_html_line:function(){return"^\\s*::(before|after)\\n?$"},abs_or_rel_file:function(){return"^\"?'?((?:[^(\\r\\n]+)\\.(?:[a-zA-Z]+)(?:\\?[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)?)\"?'?$"},opening_html_tag:function(e){return"^\\s*<\\s*(?!\\/)(?:"+(e.matchComments?"(!(?:(?:--)|(?:\\[endif\\]))(.+))|":"")+"(?:(?:!doctype\\s)?([a-zA-Z0-9]+)(.+)))"},url:function(e){return(e&&e.inc?e.inc.join("|")+"|":"")+"(?:url\\(['\"]?("+(e&&e.inside?"":"?:")+".*?)['\"]?\\))"},quoted:function(e){return"(?:['\"]("+(e&&e.inside?"":"?:")+".*?)['\"])"},only_keyword:function(e){return"(?:^\\s*"+h.singleKeywords.join("|")+"\\s*$)"},custom_ident:function(e){return"(?:[a-z]{1,}[a-z0-9_-]*)+"},time:function(e){return"(?:[-\\.\\d]+(?:s|ms))"},timing_function:function(e){return"(?:ease-?(?:in)?(?:out)?|linear|step-(?:start|end))|(?:cubic-bezier|(?:steps))\\([^\\(]+\\)"},animation_iteration:function(e){return"(?:[\\.\\d]+(?![ms]+))|infinite"},gradient:function(e){return"(?:repeating-)?(?:linear|radial)-gradient\\s*\\(("+(e&&e.inside?"":"?:")+"(?:\\([^\\)]*\\)|[^\\)\\(]*)*)\\)"},lengWithUnitRegex:function(){return new RegExp("^\\s*"+h.reg.leng({captUnit:1,mustHaveUnit:1})+"\\s*$","i")},css_units:function(e){return"("+(e&&e.captUnit?"":"?:")+"%|in|r?[cem][chm]|v(?:h|w|min|max)|ex|s|ms|p[ctx]|fr|deg|g?rad|turn)"},leng:function(e){var t=e&&e.inc?e.inc.join("|")+"|":"",n=e&&e.optUnit?"?":"",r=e&&e.mustHaveUnit?"":"|0(?![^url\\(]*\\))";return"(?:"+t+"[-\\.\\d]+"+h.reg.css_units(e)+n+r+")"},non_leng:function(){return"(?!"+h.reg.leng()+").*?"},colornames:function(e){n.startT(arguments),e=e||{};var t=tinycolor.names,r="transparent|";for(var i in e.excludeCurrent||(r+="currentColor|"),t)t.hasOwnProperty(i)&&(r+=i+"|");return n.endT(arguments),r.slice(0,-1)},anyRGBNum:function(e){return"rgba?\\((?:(\\d+),\\s*)?(?:(\\d+),\\s*)?"+(e.endOfString?"$":"")},color:function(e){return"#(?:[\\da-f]{3}){1,2}|rgb\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\)|rgba\\(\\s*(?:\\d{1,3}\\s*,\\s*){3}\\d*\\.?\\d+\\)|hsl\\(\\s*\\d{1,3}\\s*(?:,\\s*\\d{1,3}%){2}\\)|hsla\\(\\s*|[a-z]+\\d{1,3}\\s*(?:,\\s*\\d{1,3}%){2}\\s*,\\s*\\d*\\.?\\d+\\)"+(e&&e.noNames?"":"|"+h.reg.colornames(e))},no_following_bracket:function(e){return"(?![^()]*(?:\\([^()]*\\))?\\))"},relative_dom_code:function(e){return"(?:(parents|parent|closest|children|find|next|prev|siblings)(?:\\((?:'|\")?([^)^'^\"]+)(?:'|\")?\\))?)"},not_in_brackets:function(e){return e+"(?![^\\(]*\\))"},char_not_inside:function(e,t){var n=[];return t.brackets&&n.push("(?:\\([^)]+\\))"),t.square_brackets&&n.push("(?:\\[[^\\[]+\\])"),t.quotes&&n.push("(?:['\"][^'\"]+['\"])"),"(?:"+n.join("|")+")|("+e+"+)"},just_function_call:function(e){return"^\\s*"+h.reg.function_call(e)+"\\s*$"},function_call:function(e){var t=e.name?e.name:"[a-z]{1,}[a-z0-9_-]*",n=e.inside?"(":"",r=e.inside?")":"";return"(?:"+t+"\\("+n+(e.possibleNesting?"(?:[^()]*|\\([^()]*\\))*":"[^)]+")+r+"\\))"},"specific-function":function(e){return"(?:"+e.name+"\\([^)]+\\))"},"grid-sh-parts":function(){return"(?:([^/]+)(?:\\/\\s*(.+))?)"},gridLine:function(e){var t=e.end?"$":"",n=e.optional?"{0,}":"";return"(?:\\["+(e.inside?"(":"")+"[^\\]]"+(e.inside?"+)":"")+"*\\]\\s*"+t+")"+n},"auto-flow-flag":function(e,t,n){return"(?:auto-flow)(\\s+dense)?"},"rows-areas-interlaced":function(e,t,n){return"([\"']([^\"']*)[\"'])|(\\[([^[]+)\\][\\s]*\\[([^[]+)\\])"},gridTracks:function(e){return["(","("+h.reg.gridLine({optional:1})+")","(",h.reg.function_call({possibleNesting:1})+"|",h.reg.leng({inc:["auto","none","inherit","initial","min-content","max-content","subgrid","masonry"],optUnit:1}),")\\s*",")","|","("+h.reg.gridLine({end:1})+")"].join("")},splitGridRowsCols:function(){return h.reg.char_not_inside("\\s",{brackets:1,square_brackets:1,quotes:1})},emptySelector:function(e){return/^([^{]+){\s*?(\/\* MT \[\s+?] \*\/)?\s*?}\s*?$/}},isJustVariable:function(e,t){if(!e||"$"===e)return!1;var n=new RegExp(h.reg.just_function_call({name:"var"}),"i");return e.match(n)},remove_match:function(e,t,r,i,a){var o=r[a].length;return i.modifiedStr=n.replaceAt(i.modifiedStr,r.index-i.indexCorrection,"",o),o},extract_auto_flow:function(e,t,n,r,i,a){var o=n[i+1]||"";return r.autoFlow=a+o,r.autoType=a,r.autoKeywordSet=!0,h.remove_match(e,t,n,r,i)},extract_grid_areas:function(e,t,n,r,i){if(void 0!==n[i])return r.areas.push(n[i]),h.remove_match(e,t,n,r,i)},handle_double_grid_names:function(e,t,r,i,a,o){if(void 0!==r[a]){var s=1===o?" ":"] auto [",l="["+r[a+1]+s+r[a+2]+"]",c=r[a].length,u=l.length;return i.modifiedStr=n.replaceAt(i.modifiedStr,r.index-i.indexCorrection,l,c),c-u}},split_grid_tracks:function(e){return n.split_on_regex_group(e,new RegExp(h.reg.splitGridRowsCols(),"mg"),1)},parse_grid_or_grid_template:function(e,t,i){var a=new r(h.reg["grid-sh-parts"](),"m").exec(i);if(!a)return!1;var o,s={row:a[1],column:a[2]||"none",autoFlow:"row",autoKeywordSet:!1,autoType:null},l=["none"],c=["none"],u=["auto"],d=["auto"],p="",f=h.special_grid_rows_to_plain_rows(s.row),_=new RegExp(h.reg["auto-flow-flag"](),"g");if(s.row=f.modifiedStr&&f.modifiedStr.trim()?f.modifiedStr:"none",o=f.areas.length?f.areas.join(" "):"none","grid"===t)for(var g=["row","column"],m=0;m<g.length;m++){var v=g[m];n.iterate_string(s[v],_,[{item:h.extract_auto_flow,args:[0,v]}],s),s[v]=s.modifiedStr}s.row=h.split_grid_tracks(s.row),s.column=h.split_grid_tracks(s.column),"grid"===t&&s.autoKeywordSet?("row"===s.autoType?(u=s.row.length?s.row:["auto"],c=s.column.length?s.column:["none"]):(d=s.column.length?s.column:["auto"],l=s.row.length?s.row:["none"]),p=s.autoFlow):(l=s.row,c=s.column);var y=["",l,c,o];"grid"===t&&y.push(u,d,p);var b=i.match(new RegExp(h.reg.only_keyword()))?1:-1;return y.index=a.index,y=h.filter_shorthand_matches(t,e,y,b)},special_grid_rows_to_plain_rows:function(e){var t=new RegExp(h.reg["rows-areas-interlaced"](),"mg"),r={areas:[]};return n.iterate_string(e,t,[{item:h.extract_grid_areas,args:[1]},{item:h.handle_double_grid_names,args:[3,1]}],r),n.iterate_string(r.modifiedStr,t,[{item:h.handle_double_grid_names,args:[3,2]}],r),r},parse_grid_row_column_gap:function(t,r,i,a){a=a||"\\s*/\\s*";var o=(i=h.strip_important(i).trim()).split(new RegExp(h.reg.not_in_brackets(a)));e.extend([],o);if("gap"!==r||n.isDefined(o[1])||(o[1]=o[0]),"grid-area"===r){var s=new RegExp(h.reg.custom_ident());switch(o.length){case 3:o[1].match(s)&&(o[3]=o[1]);break;case 2:o[0].match(s)&&(o[2]=o[0]);break;case 1:o[0].match(s)&&(o[1]=o[2]=o[3]=o[0])}}return[""].concat(o)},parse_css_function_shorthand:function(e,t,n){var r=new RegExp(h.reg.not_in_brackets("\\s*,\\s*"));return[""].concat(n.split(r))},combineRegExp:function(e,t){n.startT(arguments);var r,i="";for(r=0;r<e.length;r++)"string"==typeof e[r]?i+=e[r]:i+=e[r].source;return n.endT(arguments),new RegExp(i,t)},generateRegExp:function(){n.startT(arguments);var e=/\s*,\s*/,t=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,r=new RegExp(h.reg.colornames(),"i"),i=h.combineRegExp(["(?:",/\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:[0-9]{1,3}\s*,\s*){3}(?:[\.\d]+)\s*\)/,"|",r,")"],""),a=h.combineRegExp([i,"(?:\\s+",t,")?"],""),o=h.combineRegExp(["(?:",a,e,")*",a],""),s=h.combineRegExp(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right)(?:\s+(?:top|bottom))?))/,")"],""),l=h.combineRegExp(["(?:(",s,")",e,")?(",o,")"],"gi"),c=h.combineRegExp(["\\s*(",i,")","(?:\\s+","(",t,"))?","(?:",e,"\\s*)?"],"gi");return n.endT(arguments),{gradientSearch:l,colorStopSearch:c}},parseGradient:function(e,t){var r,i,a,o;if(n.startT(arguments),null!==(i=e.gradientSearch.exec(t)))for(r={original:i[0],colorStopList:[]},i[1]&&(r.line=i[1]),i[2]&&(r.angle=i[2]),i[3]&&(r.sideCorner=i[3]),a=e.colorStopSearch.exec(i[4]);null!==a;)o={color:a[1]},a[2]&&(o.position=a[2]),r.colorStopList.push(o),a=e.colorStopSearch.exec(i[4]);return n.endT(arguments),r},test_this_thing:function(e){n.startT(arguments);var t=h.generateRegExp(),r=/.*gradient\s*\(((?:\([^\)]*\)|[^\)\(]*)*)\)/.exec(e);null!==r&&h.parseGradient(t,r[1]),n.endT(arguments)},get_vWords:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n].prop);return h.get_valid_keywords(t)},animation_transition_sh:function(e,t,n,i){var a=h.split_multiple_css_values(i);if(a&&a.length>1)return!1;var o,s,l=h.get_vWords(t),c="(?:"+h.sh.general_wl()+")",u="\\s+",d=h.reg.custom_ident(),p=h.reg.time(),f=h.reg.timing_function({shMap:t,vWords:l}),_="(?=(?:(?:(?!"+p+")"+c+u+"){0,"+"20}(?:("+p+"))){0,1})",g="(?=(?:(?:"+c+u+"){0,"+"20}(?:("+f+"))){0,1})",m="(?=(?:(?:"+c+u+"){0,"+"20}(?:"+p+u+"){1}("+p+")){0,1})";if("animation"===e){var v=h.reg.animation_iteration(),y=h.prop_patterns(l,"animation_direction","this",t),b=h.prop_patterns(l,"animation_fill_mode","this",t),w=h.prop_patterns(l,"animation_play_state","this",t);o=["^\\s*","(?=(?:(?:"+c+u+"){0,"+"20}(?:((?!"+f+v+"|"+y+"|"+b+"|"+w+")"+d+"))){0,1})",_,g,m,"(?=(?:(?:"+c+u+"){0,"+"20}(?:("+v+"))){0,1})","(?=(?:(?:"+c+u+"){0,"+"20}(?:("+y+"))){0,1})","(?=(?:(?:(?!backwards|forwards|both)"+c+u+"){0,"+"20}(?:("+b+").*?)){0,1})","(?=(?:(?:"+c+u+"){0,"+"20}(?:("+w+"))){0,1})","(?=(initial|inherit){0,1})"],s=9}else"transition"===e&&(o=["^\\s*","(?=(?:(?:"+c+u+"){0,"+"20}(?:((?!"+f+")"+d+"))){0,1})",_,g,m,"(?=(initial|inherit){0,1})"],s=5);var T=new r(o.join(""),"i").exec(i);return h.filter_shorthand_matches(n,t,T,s)},split_multiple_css_values:function(e){var t=/((?:[^"']|".*?"|'.*?')*?)([(,)]|$)/g;return function n(){for(var r=[];;){var i=t.exec(e);if("("===i[2]?(r.push(i[1].trim()+"("+n().join(", ")+")"),i=t.exec(e)):r.push(i[1].trim()),","!==i[2])return r;","===i[2]&&"%"===i[1][i[1].length-1]&&(r[r.length-1]+=i[1])}}()},varValueMap:{},get_variable_name:function(e){var t=h.reg.function_call({name:"var",inside:!0}),n=new RegExp(t),r=e.match(n);return!!r&&r[1]},variables_to_values:function(e,t){var r={origStr:t,vars:[]},i=h.reg.function_call({name:"var",inside:!0}),a=new RegExp(i,"g");return n.iterate_string(t,a,[{item:function(e,t,n,r){var i=n[1],a=h.get_variable_value(i,"css",!0);if(!1!==a)return r.vars.push({varName:i,varValue:a,index:n.index-r.indexCorrection}),this.replace_all(e,t,n,r,0,a)},args:[]}],r),h.varValueMap[e]=r,r},get_scss_variables:function(e){var r=n.checkObject(t.uiData.non_section,["scss_usage","variable"]);return!(!r||!n.obj_length(r))&&("keys"===e?Object.keys(r):r)},get_variable_value:function(e,r,a,o){var s=!1;if(!e)return!1;if("css"===r){var l=n.checkObject(t.pref.my_props,["sug_variables",e,"declarations"]);if(a&&t.iframeEditing()){var c=i.stat.doc.documentElement,u=n.checkObject(l,[0,"scope"]);if(u){var d=i.frontend_jquery_select(u);n.isDomEl(d)&&(c=d[0])}if(s=getComputedStyle(c).getPropertyValue(e))return s.trim()}if(l&&l.length){if(1===l.length||!o)return l[0].value;if(l.length>1&&o){for(var p=[],f=0;f<l.length;f++){var h=l[f];p.push(h.value+" ("+h.scope+")")}return p.join("\n")}}}else"scss"===r&&(e=e.split("$")[1],s=n.checkObject(t.uiData.non_section,["scss_usage","variable",e,"finalDecVal"]));return s},$shDiv:e("div"),quadProps:{padding:1,margin:1,"border-color":1,"border-width":1,"border-style":1,"border-radius":1,"grid-area":1,"grid-row":1,"grid-column":1,gap:1},onlyShortProps:{"text-shadow":1,"box-shadow":1},sh:{padding:function(e,t,n){return h.sh.quad(e,t,n)},margin:function(e,t,n){return h.sh.quad(e,t,n)},"border-color":function(e,t,n){n=h.strip_important(n).trim();var r=new RegExp(h.reg.color(),"ig"),i=n.match(r);if(!i)return!1;var a="";for(var o in i)i.hasOwnProperty(o)&&(a+=0===o?o:" "+o);var s=h.sh.quad(e,t,a);for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];i[c]&&(s[l]=i[c])}return s},"border-width":function(e,t,n){return h.sh.quad(e,t,n)},"border-style":function(e,t,n){return h.sh.quad(e,t,n)},"border-radius":function(e,t,n){return h.sh.quad(e,t,n)},grid:function(e,t,n){return h.parse_grid_or_grid_template(e,t,n)},"grid-template":function(e,t,n){return h.parse_grid_or_grid_template(e,t,n)},"grid-area":function(e,t,n){return h.parse_grid_row_column_gap(e,t,n)},"grid-row":function(e,t,n){return h.parse_grid_row_column_gap(e,t,n)},"grid-column":function(e,t,n){return h.parse_grid_row_column_gap(e,t,n)},gap:function(e,t,n){return h.parse_grid_row_column_gap(e,t,n,"\\s")},scale:function(e,t,n){var r=h.parse_css_function_shorthand(e,t,n,"\\s");return r&&r.length<3&&(r[2]=r[1]),r},scale3d:function(e,t,n){return h.parse_css_function_shorthand(e,t,n,"\\s")},translate:function(e,t,n){return h.parse_css_function_shorthand(e,t,n)},translate3d:function(e,t,n){return h.parse_css_function_shorthand(e,t,n)},rotate3d:function(e,t,n){return h.parse_css_function_shorthand(e,t,n)},skew:function(e,t,n){return h.parse_css_function_shorthand(e,t,n)},quad:function(e,t,r){n.startT(arguments);var i=h.strip_important(r).trim();if("border-radius"===t){if("initial"===i||"inherit"===i)return["",i];var a=i.split(new RegExp(h.reg.not_in_brackets("\\/"))),o=!!a[1]&&a[1].trim();i=a[0].trim()}var s=h.sh["split-quad"](i);if(o){var l=h.sh["split-quad"](o);for(var c in l)l.hasOwnProperty(c)&&(s[c]=s[c]+" "+l[c])}return s.unshift(""),n.endT(arguments),s},"split-quad":function(e){n.startT(arguments);var t=new RegExp(h.reg.not_in_brackets("\\s")),r=e.split(t),i=[];for(var a in r)r.hasOwnProperty(a)&&""!=r[a]&&i.push(r[a]);r=i;var o=[];return o[0]=r[0],o[1]=r[1]?r[1]:r[0],o[2]=r[2]?r[2]:r[0],o[3]=r[3]?r[3]:r[1]?r[1]:r[0],n.endT(arguments),o},font:function(e,t,i){n.startT(arguments);var a=["^(?:(?:\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|"+h.reg.leng()+")","(?:\\s*\\/\\s*(normal|"+h.reg.leng({optUnit:1})+"))?","\\s*([-,\\\"\\'\\sa-z]+?)\\s*)|(caption|icon|menu|message-box|small-caption|status-bar|initial|inherit|none))$"],o=new r(a.join(""),"i").exec(i);return o=h.filter_shorthand_matches(t,e,o,7),n.endT(arguments),o},border_pattern:function(e,t,r){n.startT(arguments);var i=h.get_valid_keywords(["border_top_style"]),a=h.prop_patterns(i,"border_top_style","this",e),o=h.sh.general_wl(),s="\\s+",l=["^\\s*","(?=(?:(?:"+o+s+"){0,2}(?:("+h.reg.leng()+"))){0,1})","(?=(?:(?:"+o+s+"){0,2}("+a+")){0,1})","(?=(?:(?:"+o.replace("#","")+s+"){0,2}(?:("+h.reg.color()+"))){0,1})","(?=(initial|inherit){0,1})"];return n.endT(arguments),new RegExp(l.join(""),"i")},border:function(e,t,r){n.startT(arguments);var i=h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,r).exec(r),4);i&&(i=["",i[1],i[1],i[1],i[1],i[2],i[2],i[2],i[2],i[3],i[3],i[3],i[3]]);return n.endT(arguments),i},"border-top":function(e,t,n){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,n).exec(n),4)},"border-right":function(e,t,n){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,n).exec(n),4)},"border-bottom":function(e,t,n){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,n).exec(n),4)},"border-left":function(e,t,n){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,n).exec(n),4)},general_wl:function(){return n.startT(arguments),"(?:[-a-z%:#,\\?'\"\\/\\.\\d\\(\\)]|"+h.reg.url()+")+"},background:function(e,t,i){n.startT(arguments);var a=[];for(var o in e)e.hasOwnProperty(o)&&a.push(e[o].prop);var s=h.get_valid_keywords(a),l=h.sh.general_wl(),c="\\s+",u=h.prop_patterns(s,"background_position","hor",e),d=h.prop_patterns(s,"background_position","vert",e),p=(h.prop_patterns(s,"background_position","this",e),h.reg.leng(),h.prop_patterns(s,"background_origin","this",e)),f=h.prop_patterns(s,"background_size","this",e),_=["^\\s*","(?=(?:(?:"+l.replace("#","")+c+"){0,"+"20}(?:("+h.reg.color()+"))){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}(?:"+h.reg.url({inc:["none"],inside:1})+")){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}("+h.prop_patterns(s,"background_repeat","this",e)+")){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}("+h.prop_patterns(s,"background_attachment","this",e)+")){0,1})","(?=(?:(?:(?!"+u+"|"+d+"|"+h.reg.leng()+")"+l+c+"){0,"+"20}((?:"+u+"|"+d+"|"+h.reg.leng()+")(?:\\s(?:"+d+"|"+u+"|"+h.reg.leng()+")){0,1})){0,1})","(?=(?:(?:(?!"+f+")"+l+c+"){0,"+"20}(?:\\/\\s*)((?:"+f.replace("|auto","")+")|"+h.reg.leng({inc:["auto"]})+"(?:\\s"+h.reg.leng({inc:["auto"]})+"){0,1})){0,1})","(?=(?:(?:(?!"+p+")"+l+c+"){0,"+"20}("+p+")){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}(?:\\7.+?)("+p+")){0,1})","(?=(initial|inherit){0,1})"],g=h.sh["linear-gradient"](e,t,i);if(!g)return!1;var m=g.altVal,v=new RegExp("(,\\s("+h.reg.color()+"))$","i").exec(m);v&&(m="endColorPlaceholder "+m.replace(v[0],""));var y=n.multiple_comma_values(m);if(y>1)return!1;if(y>0&&m.split(",")[1].trim()!==g.placeholder)return!1;v&&(m=m.replace("endColorPlaceholder",v[2]));var b=new r(_.join(""),"i").exec(m);return g.anyl&&(b||(b=[]),b[100]=g.normSh),n.endT(arguments),h.filter_shorthand_matches(t,e,b,9)},"linear-gradient":function(e,t,r){var i=r,a="linear-gradient"===t,o=[],s={pattern:new RegExp(h.reg.gradient({inside:1})+"{0,1}","i"),placeholder:"gradientPlaceholder",altVal:r},l=s.pattern.exec(r);if(null!==l){if(s.full=l[0],s.inside=l[1],s.altVal=i.replace(s.full,s.placeholder),s.gradientStripped=s.altVal.replace(s.placeholder,""),s.gradientStripped=n.trim(s.gradientStripped,","),s.full.indexOf("radial")>-1||s.full.indexOf("repeating")>-1)return!1;if(s.anyl=h.parseGradient(h.generateRegExp(),s.inside),!s.anyl)return!1;if((c=s.anyl.colorStopList).length>3)return!1;if(c[0]&&c[0].position||c[2]&&c[2].position)return!1;if(s.anyl){var c,u=s.anyl,d=["",u.angle?u.angle:""];(c=u.colorStopList)[0]?d.push(c[0].color):d.push(""),c[1]&&(d.push(c[1].color),c[1].position?d.push(c[1].position):d.push("")),c[2]?d.push(c[2].color):d.push(""),s.normSh=d,o[100]=d}return a?o:s}return a?o:s},animation:function(e,t,n){return h.animation_transition_sh("animation",e,t,n)},transition:function(e,t,n){return h.animation_transition_sh("transition",e,t,n)},"flex-flow":function(e,t,n){var i=h.get_vWords(e),a=(h.sh.general_wl(),h.prop_patterns(i,"flex_direction","this",e)),o=h.prop_patterns(i,"flex_wrap","this",e),s=new r(["^\\s*","(?=(?:(?:(?:"+o+")\\s+){0,1}(?:("+a+"))){0,1})","(?=(?:(?:(?:"+a+")\\s+){0,1}(?:("+o+"))){0,1})","(?=(initial|inherit){0,1})"].join(""),"i").exec(n);return h.filter_shorthand_matches(t,e,s,3)},"list-style":function(e,t,n){var i=[];for(var a in e)e.hasOwnProperty(a)&&i.push(e[a].prop);var o=h.get_valid_keywords(i),s=h.prop_patterns(o,"list_style_type","this",e),l=h.prop_patterns(o,"list_style_position","this",e),c=h.sh.general_wl(),u="\\s+",d=["^\\s*","(?=(?:(?:"+h.prop_patterns(o,"list_style_type","other",e)+u+"){0,2}(?:("+s+")\\s*){1})?)","(?=(?:(?:"+c+u+"){0,2}(?:"+h.reg.url({inc:["none"],inside:1})+"\\s*){1})?)","(?=(?:(?:"+c+u+"){0,2}(?:("+l+")\\s*){1})?)","(?=(initial|inherit){0,1})"],p=new r(d.join(""),"i").exec(n);return"none"==p[1]&&"none"==p[2]&&(n.match(/none/g)||[]).length<2&&(p[2]=void 0),h.filter_shorthand_matches(t,e,p,4)},"text-shadow":function(e,t,n){var i=h.reg.non_leng(),a=h.reg.not_in_brackets("\\s+"),o=["^\\s*","(?:","(?:","(?=(?:(?:"+i+")"+a+"){0,1}(?:("+h.reg.leng()+")\\s+){1})","(?=(?:(?:"+i+")"+a+"){0,1}(?:"+h.reg.leng()+"\\s*){1}(?:("+h.reg.leng()+")\\s*){1})","(?=(?:(?:(?:"+i+")"+a+"){0,1}(?:"+h.reg.leng()+"\\s+){2}(?:("+h.reg.leng()+")\\s*)){0,1})","(?=(?:(?:(?!"+h.reg.color()+").*?){0,1}("+h.reg.color()+")){0,1})",")","|(?=(initial|inherit|none){0,1})",")"],s=new r(o.join(""),"i");return h.filter_shorthand_matches(t,e,s.exec(n),5,!0)},"box-shadow":function(e,t,i){n.startT(arguments);var a=h.reg.non_leng(),o=h.reg.not_in_brackets("\\s+"),s=["^\\s*","(?:","(?:","(?=(?:(?:"+a+")"+o+"){0,2}(?:("+h.reg.leng()+")\\s+){1})","(?=(?:(?:"+a+")"+o+"){0,2}(?:"+h.reg.leng()+"\\s+){1}(?:("+h.reg.leng()+")\\s*){1})","(?=(?:(?:(?:"+a+")"+o+"){0,2}(?:"+h.reg.leng()+"\\s+){2}(?:("+h.reg.leng()+")\\s*)){0,1})","(?=(?:(?:(?:"+a+")"+o+"){0,2}(?:"+h.reg.leng()+"\\s+){3}(?:("+h.reg.leng()+")\\s*)){0,1})","(?=(?:(?:(?!"+h.reg.color()+").*?){0,1}("+h.reg.color()+")){0,1})","(?=(?:(?:(?!inset).*?){0,1}(inset)){0,1})",")","|"+h.singleKeywordRegex({css_variable:1}),")"],l=new r(s.join(""),"i").exec(i);return l=h.filter_shorthand_matches(t,e,l,7,!0),n.endT(arguments),l}},update_gathered_css_store:function(e,t,n,r,i){Array.isArray(t.value)&&(t.value=t.value.join(" "));var a=e.root_cat_keys[t.prop];if(a){var o=t.value?t.value.trim():t.value;if(o&&"initial"!==o&&"inherit"!==o&&"none"!==o){var s;if("color"==a)o=tinycolor(o).toRgbString();t.unit&&(o+=t.unit),e.store[a].push(o),(s=o.match(i))&&this.update_gathered_variable(e,n,r,s[1],!1,"usage")}}},update_gathered_variable:function(e,t,r,i,a,o){if(!{"--containerBorderColor":1,"--containerBorderColorHover":1,"--mtbdr":1,"--mtbg1":1,"--mtbg2":1,"--mthighlight-bg":1}[i]){var s=a?h.strip_important(a).trim():"";e.site_variables[i]||(e.site_variables[i]={lang:"css",type:s?h.checkStringValue(s):"unknown",declarations:[],usage:{}});var l=e.site_variables[i];if("declaration"===o)l.declarations.push({value:s,scope:t});else if("usage"===o){var c=n.cssf_to_prop(r);n.updateObject(l,["usage",c,"scopes",t],1)}}},reinit_stylesheet_rules:function(e){if(n.startT(arguments),t.tooMuchCSS&&e.updateStylesTab)return!1;t.sRules.init((function(){if(t.sRules._cssRules&&t.sRules._cssRules.length>5e3)if(e.updateStylesTab){if(!t.forceStylesAnalysis)return t.tooMuchCSS=!0,t.stat.actStyles.html("<p>"+TvrLang.too_much_css+"</p><p>"+TvrLang.too_much_css_2+'</p><p><span class="link force-styles-analysis">'+TvrLang.force_styles_analysis+"</span></p>"),!1}else if(!t.alwaysAllowSampling&&e.refreshVarsVals){var n=t.sRules._cssRules.length;if(!confirm(tvrsprintf(TvrLang.sample_css_confirm,n)))return!1;t.alwaysAllowSampling=!0}t.reinitRules=!1,e.cbFunction&&e.cbFunction.apply(this,e.cbfArgs)})),n.endT(arguments)},globalVarContexts:["html",":root","body"],refresh_sug_values:function(r){n.startT(arguments),t.reinitRules?h.reinit_stylesheet_rules({cbFunction:h.refresh_sug_values,cbfArgs:[r],refreshVarsVals:1}):t.sRules.getCSSStyleSheetRules("*","selector, properties",-1,(function(a){var o=e.extend(!0,{site_variables:{}},TvrMT.data.prog.gatheredCSS),s=new RegExp(h.reg.function_call({name:"var",inside:1})),l=h.globalVarContexts;if(i){let e=(i.stat.html[0].className+" "+i.stat.body[0].className).trim().split(/\s+/g);for(let t=0;t<e.length;t++)e[t]="."+e[t];l=l.concat(e)}for(var c in a)if(a.hasOwnProperty(c)){var u=a[c].properties,d=a[c].selector;if(u)for(var p in u)if(u.hasOwnProperty(p)){var f=u[p];if(n.in_array(d,l)&&0===p.indexOf("--"))h.update_gathered_variable(o,d,p,p,f,"declaration");else{if(!n.isDefined(f)||!o.eligable[p]||r.reSug&&p!==r.cssf&&!n.in_array(p,r.shArray))continue;var _=h.input_field_available(p,f);if(_)if(Array.isArray(_)){for(var g in _)_.hasOwnProperty(g)&&h.update_gathered_css_store(o,_[g],d,p,s);"grid-area"===p&&o.store.grid_area.push(h.strip_important(f))}else h.update_gathered_css_store(o,_,d,p,s)}}}for(var m in o.store)if(o.store.hasOwnProperty(m)&&(r.all||m===r.specific)){o.store[m]=h.sortByFrequencyAndRemoveDuplicates(o.store[m]);var v=h.max_sug_vals(m,"sampled"),y=h.max_sug_vals(m,"recent");t.pref.my_props.sug_values[m].sampled.length&&(t.pref.my_props.sug_values[m].sampled=[]);var b={color:!0,font_family:!0};for(var w in o.store[m])if(o.store[m].hasOwnProperty(w)){var T=o.store[m][w];if(w>v-1)break;if(t.pref.my_props.sug_values[m].sampled.push(T),!t.pref.default_sug_values_set&&w<y&&b[m]){if(w<1&&t.pref.my_props.sug_values[m].recent.length){b[m]=!1;continue}t.pref.my_props.sug_values[m].recent.push(T)}}"color"===m?t.pref.my_props.sug_values[m].sampled.sort():t.pref.my_props.sug_values[m].sampled=h.sort_number_unit_strings(t.pref.my_props.sug_values[m].sampled,!0),o.store[m]=[]}r.getVars&&(t.pref.my_props.sug_variables=o.site_variables),h.update_mt_color_variables_tag(),r.$resample&&"color"==r.specific&&t.draw_palette(),r.triggeredBy="refresh_sug_values",h.save_sug_vals(r)})),n.endT(arguments)},update_mt_color_variables_tag:function(){for(var r=t.pref.my_props.sug_variables?Object.keys(t.pref.my_props.sug_variables):[],i={},a=0;a<r.length;a++){var o=r[a];if("color"===t.pref.my_props.sug_variables[o].type){var s=h.get_variable_value(o,"css",!0);s&&(i[o]=s)}}var l=n.config_obj_to_string(i,!1,";\n"),c=".sp-container .tile-color, .tvr-input-wrap .var-color-box, .mt-color-picker { "+l+" }",u=t.stat.doc.createElement("style");u.setAttribute("id","mt_color_variables"),u.innerHTML=c,t.stat.head.appendChild(u),e.MTajaxQueue({url:t.ajaxUrl,type:"POST",data:"mt_color_variables_css="+l})},update_stylesheet_rules:function(r){if(n.startT(arguments,!0),!i||!n.isDomEl(i.triggerEl)||i.stat.win.closed)return!1;var a=t.stat.actStyles;if(r||a.parent().addClass("still-gathering"),t.reinitRules)h.reinit_stylesheet_rules({cbFunction:h.update_stylesheet_rules,cbfArgs:[r],updateStylesTab:!r});else{var o=i.triggerEl[0];t.sRules.getCSSRules(o,"*",(function(e){let t=h.sortThenOutput(o,e);r?d.styleSheetRules=t:(a.html(t),a[0].scrollTop=0)})),a.parent().removeClass("still-gathering")}n.endT(arguments,1,!0);var s=n.profiler.update_stylesheet_rules.avg_time;if(s>1e3){var l=(parseInt(s)/1e3).toFixed(2),c=tvrsprintf(TvrLang.slow_styles_tab,"<b>"+l+"</b>");c+='. <a target="_blank" href="https://themeover.com/slow-styles-tab-warning/">'+TvrLang.learn_more+"</a>";var u=e(t.templates.notice).removeAttr("id");s>=3e3&&u.addClass("tvr-error"),u.find(".mt-notice-text").html(c),a.find(".tvr-message").remove().end().prepend(u)}t.forceStylesAnalysis&&(t.forceStylesAnalysis=!1,t.tooMuchCSS=!1,t.reinitRules=!0)},sortThenOutput:function(e,r){r.sort((function(e,t){return e.inheritance.length==t.inheritance.length?e.specificity.toString()===t.specificity.toString()?e.index-t.index:e.specificity[0]!==t.specificity[0]?e.specificity[0]-t.specificity[0]:e.specificity[1]!==t.specificity[1]?e.specificity[1]-t.specificity[1]:e.specificity[2]!==t.specificity[2]?e.specificity[2]-t.specificity[2]:e.specificity[3]-t.specificity[3]:t.inheritance.length-e.inheritance.length})),r.reverse();for(var i="<dl>",a=null,o=0;o<r.length;o++){var s=r[o].inheritance.length>0?r[o].inheritance[0]:null;if(null!=r[o].properties){if(r[o].inheritance.length>0&&s!=a){a=s;var l=s.nodeName.toLowerCase()+(""!=s.id?"#"+s.id:""!=s.className?"."+s.className:"");i+='<dt><span class="inheritance-label">'+TvrLang.inherited_from+': </span><span class="inheritance-el" title="'+l+'">'+l+"</span></dt>"}var c="",u="";if(r[o].href){var d=n.root_rel(r[o].href).split("?")[0],p=n.basename(d),f=r[o].href.indexOf("micro-themes/")>-1?TvrLang.mt_stylesheet+"\n"+d:d;c='<span class="style-src show-dialog" '+('rel="inspect-stylesheet" data-href="'+r[o].href+'" data-selector="'+n.escapeHTML(r[o].selector)+'" data-media="'+r[o].media+'"')+'title="'+f+'">'+p+"</span>",u+=" new-sheet-rule"}else{let e=r[o].idAttr||"",n="@style"===r[o].owner,i=n?"inline":"&lt;style&gt;",a=e?" (style#"+e+")":"";c='<span class="style-src no-sheet-span" title="'+(0===e.indexOf("mtprv")?"User's own "+t.appName+" styles"+a:n?"Inline CSS applied using a HTML style attribute":"CSS added with a style tag"+a)+'">'+i+"</span>",u+=" no-sheet-rule"}var h="";if(r[o].media!=v)h='<span class="media-condition">'+("all"==r[o].media?"["+TvrLang.all_devices+"]":"@media "+r[o].media)+"</span>",u+=" has-media-rule";else u+=" no-media-rule";var _='<span class="media-ss'+u+'">'+c+h+"</span>";for(var g in i+="<dd>"+_+"<pre>",i+="<abbr>",i+='<span class="cssselector">'+r[o].selector+"</span> {\n",r[o].properties)if(r[o].properties.hasOwnProperty(g)){var m=r[o].properties[g];i+="    ","cancelled"==m.status?i+="<del>"+g+": "+m.value+";</del>":i+='<span class="cssproperty">'+g+'</span>: <span class="cssvalue">'+m.value+"</span>;",i+="\n"}i+="}</abbr></pre></pre>";r[o].href;var v=r[o].media}}return"<dl>"==i&&(i+="<dt>The selected element has no rules</dt>"),i+="</dl>"},update_recent_combo_or_save:function(e,r,i){if(n.isDomEl(e.$property,!0)){var a=e.$property,o=t.get_meta(a,"property"),s=a.hasClass("color")?"color":o.propertySlug,l=t.gatheredCSS.root_cat_keys[s],c=a.hasClass("vl-name-input");if(!t.pref.my_props.sug_values[l]&&!c)return!1;r&&h.update_recent_for_input(e,a,o,!1),i&&h.save_sug_vals({specific:l,triggeredBy:"update_recent_combo_or_save"})}},update_recent_for_input:function(e,r,i,a){if(!n.isDomEl(r,!0))return!1;r.hasClass("mt-supplementary-picker")&&(r=r.closest(".tvr-input-wrap").find(".property-input"));var o=r.attr("rel"),s=t.gatheredCSS.root_cat_keys[o];if(s){var l={save:a,redrawPalette:"color"===s,synced_set:!1},c=t.last_field_val_converted?t.last_field_val_converted.origVal:r.val(),u=c===Object(c),d=u?c.value:c;if(t.last_field_val_converted=!1,d&&(d.indexOf("var(")>-1&&!h.isJustVariable(d)||"$"===d))return!1;e.unitEligable&&n.isDefined(e.unit)&&n.isNumber(d)&&(0!=d||"s"===e.unit)&&(d+=e.unit),u?c.value=d:c=d,h.splice_sug_val(c,!1,s,"recent",l)}},maybe_slide_single_combo_suggestion_at_top:function(r,i,a){var o=t.get_related_meta("combo",r),s=o.$container;if(n.isDefined(a)&&n.isDomEl(s)&&s.is(":visible")){var l=[];if(s.find("li").each((function(){var t=e(this);t.hasClass("ui-menu-item")&&t.attr("aria-label")&&t.attr("aria-label").indexOf(TvrLang.suggestions)>-1&&l.push(t.text())})),!n.in_array(a,l)){var c=o.$container.siblings(".sp-input-var"),u=n.isDomEl(c)?c:r;t.resolve_combobox_source(u,!0);s.find("li.suggestions-category").after(e('<li aria-label="'+TvrLang.suggestions+" : "+a+'" class="empty ui-menu-item recent-slidein">'+a+'<span class="mt-combo-icon clear-single-suggestion" data-action="clear-single-suggestion" title="Clear suggestion"></span><span class="mt-combo-icon save-single-suggestion " data-action="save-single-suggestion" title="Save suggestion"></span></li>').data("ui-autocomplete-item",{value:a}))}}},maybe_refresh_suggestions_html:function(r,i,a){var o=t.get_related_meta("combo",r),s=o.$container;if(n.isDefined(a)&&n.isDomEl(s)&&s.is(":visible")){var l=[];if(s.find("li").each((function(){var t=e(this);t.hasClass("ui-menu-item")&&t.attr("aria-label")&&t.attr("aria-label").indexOf(TvrLang.suggestions)>-1&&l.push(t.text())})),!n.in_array(a,l)){for(var c=o.$container.siblings(".sp-input-var"),u=n.isDomEl(c)?c:r,d=t.resolve_combobox_source(u,!0),p=[],f=0;f<d.length;f++){var h=d[f];h.category===TvrLang.suggestions&&p.push(e('<li aria-label="'+TvrLang.suggestions+" : "+h.value+'" class="empty ui-menu-item recent-slidein">'+h.value+'<span class="mt-combo-icon clear-single-suggestion" data-action="clear-single-suggestion" title="Clear suggestion"></span><span class="mt-combo-icon save-single-suggestion " data-action="save-single-suggestion" title="Save suggestion"></span></li>').data("ui-autocomplete-item",h))}s.find("li.ui-menu-item[aria-label^="+TvrLang.suggestions+"]").remove(),s.find("li.suggestions-category").after(p)}}},splice_sug_val:function(e,r,i,a,o){var s,l=t.pref.my_props.sug_values[i][a];if(e){var c=(s=e===Object(e))?e.label:e;if(c=c.toString(),s||(e=c),c===TvrLang.google_font||"list_style_image"===i&&"none"===c||"background_image"===i&&"none"===c||"url"===i&&"none"===c||"mask_image"===i&&"none"===c)return!1;var u=n.in_array(c,l,!1,"label");if(!1!==u){if("color"===i)return!1;l.splice(u,1)}l.unshift(e);var d=h.max_sug_vals(i,a);l.length>d&&l.pop()}if(!1!==r){var p=(s=r===Object(r))?r.value:r;p=p.toString();var f=n.in_array(p,l,!1,"label");!1!==f&&l.splice(f,1)}if(o.redrawPalette&&t.draw_palette(),o.save){var _=o.synced_set?{synced_set:o.synced_set}:{specific:i};_.triggeredBy="splice_sug_val",h.save_sug_vals(_)}},max_sug_vals:function(e,n,r){var i;if("color"===e)i="recent"===n?t.numMiniTiles:"sampled"===n?t.numSiteTiles:t.numSavedTiles;else i="recent"===n?t.numRecent:"sampled"===n?t.numSampled:t.numSug;return i},save_sug_vals:function(n){var r,i={};n.all?(r="all",i={sug_values:t.pref.my_props.sug_values,sug_variables:t.pref.my_props.sug_variables}):n.synced_set?(r="synced_set",i.synced_set={},n.synced_set.each((function(n){var r=e(this).attr("rel");i.synced_set[r]=t.pref.my_props.sug_values[r]}))):n.specific&&(r=n.specific,i.specific=t.pref.my_props.sug_values[r]),n.getVars&&(i.sug_variables=t.pref.my_props.sug_variables),s.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_sug_values="+r,sendData:s.serialized_data_with_single_key(JSON.stringify(i)),plus:"",minus:""})},sortByFrequencyAndRemoveDuplicates:function(e){for(var t,n={},r=e.length,i=0;i<r;i++)(t=e[i])in n?n[t]++:n[t]=1;var a=[];for(t in n)n.hasOwnProperty(t)&&a.push(t);return a.sort((function(e,t){return n[t]-n[e]}))},maybe_update_color_picker_tiles:function(e,r){var i=e.closest(".sp-container");n.isDomEl(i)&&t.draw_palette(i)},comboParts:{clearSuggestions:{action:"clear-mt-suggestions",title:function(){return TvrLang.clear_mt_suggestions}},clearSiteStyles:{action:"clear-site-styles",title:function(e){return tvrsprintf(TvrLang.clear_sampled,e)}},clearVariables:{action:"clear-sampled-variables",title:function(e){return tvrsprintf(TvrLang.clear_sampled_variables,"")}},addSuggestions:{action:"add-mt-suggestions",title:function(e){return TvrLang.add_mt_suggestions}},addSiteStyles:{action:"show_sampled_values",title:function(e){return tvrsprintf(TvrLang.resample,e)},extraClass:"resample-styles",catToggleAtts:function(){return t.format_combo_cat_toggle_atts("show_sampled_values")}},addVariables:{action:"show_sampled_variables",title:function(e){return tvrsprintf(TvrLang.resample_variables,"")},extraClass:"resample-styles",catToggleAtts:function(){return t.format_combo_cat_toggle_atts("show_sampled_variables")}},clearSingleSuggestion:{action:"clear-single-suggestion",title:function(){return TvrLang.clear_single_suggestion}},saveSingleSuggestion:{action:"save-single-suggestion",title:function(){return TvrLang.save_single_suggestion}},unSaveSingleSuggestion:{action:"unsave-single-suggestion",title:function(){return TvrLang.unsave_single_suggestion}}},comboPartsHTML:{},setupComboPartsHTML:function(){},combo_icon_clicked:function(r,i){var a=r.closest(".ui-autocomplete");if(a.hasClass("site-search-menu"))return t.clear_recent_page_path(r,i),!1;if(a.hasClass("cur-load_snippet"))return u.menuDeleteSnippet(r),!1;var o=t.get_related_meta("combo",r.closest(".ui-autocomplete")),s=o.M,l=o.$colorVarInput||o.$input,d=l.attr("rel");"color_extra"===d&&(d="color");var p=t.gatheredCSS.root_cat_keys[d],f=s.propertySlug,_=t.pref.my_props.sug_values,g=r.data("action"),m=(r.parent(),r.closest("li")),v=(m.closest(".ui-menu"),m.text()),y=m.data("alt-value"),b={specific:f};switch(g){case"add-mt-suggestions":_[p].copiedSrc=e.extend(!0,[],TvrMT.data.prog.combo[d]),c.apply_unit_to_copied_src();break;case"clear-mt-suggestions":_[p].copiedSrc=[];break;case"save-single-suggestion":var w=v;void 0!==y&&y!==v&&(w={label:v,value:y}),h.splice_sug_val(w,!1,p,"saved",{}),h.maybe_update_color_picker_tiles(r,"saved");break;case"unsave-single-suggestion":h.splice_sug_val(!1,v,p,"saved",{}),h.maybe_update_color_picker_tiles(r,"saved");break;case"clear-single-suggestion":var T=m.attr("aria-label").indexOf(TvrLang.sampled)>-1,x=m.attr("aria-label").indexOf(TvrLang.sampled_variables)>-1,k=[];if(T)k=["sampled"];else if(x){var S=h.get_variable_name(v);S&&(delete t.pref.my_props.sug_variables[S],b.getVars=!0,b.specific=!1)}else k=["recent","saved","copiedSrc"];for(var C=0;C<k.length;C++)h.splice_sug_val(!1,v,p,k[C],{});h.maybe_update_color_picker_tiles(r,"recent");break;case"show_sampled_values":case"show_sampled_variables":if("show_sampled_variables"===g)h.refresh_sug_values({getVars:1});else{var M=f.replace(/_/g,"-"),A=[],O=TvrMT.data.prog.lh,E=n.checkObject(O,[M,"sh"]);if(E&&Array.isArray(E))if(Array.isArray(E[0]))for(C=0;C<E[0].length;C++)A.push(E[0][C]);else A.push(E[0]);h.refresh_sug_values({specific:p||f,cssf:M,shArray:A,reSug:!0})}parseInt(t.pref[g])||t.toggle_feature(!1,g);break;case"clear-site-styles":_[p].sampled=[],parseInt(t.pref.show_sampled_values)&&t.toggle_feature(!1,"show_sampled_values");break;case"clear-sampled-variables":h.clear_sampled_variables(d),b.getVars=!0,b.specific=!1,parseInt(t.pref.show_sampled_variables)&&t.toggle_feature(!1,"show_sampled_variables");break;case"toggle-sampled":var P=t.pref.my_props.sug_variables?Object.keys(t.pref.my_props.sug_variables):[],D=r.data("aspect"),j="show_sampled_values"===D?_[p].sampled:P,I=!j||!j.length;if(parseInt(t.pref[D])&&I)return h.combo_icon_clicked(r.siblings(".resample-styles")),!1}t.comboIconReflow=!0,t.resolve_combobox_source(l,!0,!0,""),"show_sampled_values"!==g&&"show_sampled_variables"!==g&&"toggle-sampled"!==g&&(b.triggeredBy="combo_icon_clicked",h.save_sug_vals(b))},clear_sampled_variables:function(e){t.pref.my_props.sug_variables={}},getStringParts:function(e){return e.replace(/([a-zA-Z0-9])(?=[A-Z])/g,"$1-").toLowerCase().split(/[-_]+/g).filter((function(e){return!!e}))},stringPartsMatch:function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<t.length;i++){var a=t[i];if(r.indexOf(a)>-1||a.indexOf(r)>-1)return!0}return!1},nameIsSimilar:function(e,t){var n=this.getStringParts(e),r=this.getStringParts(t);return this.stringPartsMatch(n,r)},sort_number_unit_strings:function(e,r,i,a,o,s,l){var c=/((?:\d+)?(?:[.]?\d*)?)(\D*)/,u=[],d=[];for(var p in e)if(e.hasOwnProperty(p)){var f=e[p],_=f===Object(f)?f:{value:f},g=c.exec(_.value);if(g){_.num=g[1]?parseFloat(g[1]):0,_.str=g[2]?g[2].replace(/"/g,""):"";var m=_.str.indexOf("var(")>-1||_.str.indexOf("$")>-1;if(l&&!m)continue;if(a||m){var v;if(a)v=_.value;else{var y=new RegExp(h.reg.function_call({name:"var",inside:1})),b=!!_.value&&_.value.match(y);b&&(v=b[1])}n.checkObject(t.pref.my_props,["sug_variables",v,"declarations"]);var w=h.get_variable_value(v,"css",!1,!0),T=n.checkObject(t.pref.my_props,["sug_variables",v,"type"]);if(_.varValue=w,_.variableType=T,a){var x=n.checkObject(t.pref.my_props,["sug_variables",v,"usage",o]),k=h.nameIsSimilar(v,i+"-"+o),S=o.indexOf(T)>-1||"length"===T&&s;if(!S&&("color_extra"===o||"color"===T))continue;S&&(_.var_relevance=1),(x||k)&&(_.var_relevance=S?3:2),_.value="var("+v+")"}}_.str.indexOf("--")>-1||_.str.indexOf("$")>-1?_.variable=1:"auto"===_.str||"none"===_.str?_.standard=1:(0===_.num||_.str.match(/(?:\()|(min-content)|(max-content)|(subgrid)|(masonry)/))&&(_.special=1)}u.push(_)}if(u.sort(n.firstBy("var_relevance",-1).thenBy("variable",-1).thenBy("standard",-1).thenBy("special",-1).thenBy("str").thenBy("num")),r){for(var C in u)u.hasOwnProperty(C)&&d.push(u[C].value);return d}return u}};return e.extend(!0,h.reg,window.MTMainAndWorker.reg),h}()})),jQuery(document).ready((function(e){TvrMT.mod.MTsave=function(){var t,n,r,i,a,o,s,l,c,u,d,p=window.TvrLang,f={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTace,a=TvrMT.mod.MTint,o=TvrMT.mod.MTloop,s=TvrMT.mod.MTdd,l=TvrMT.mod.MTwidget,c=TvrMT.mod.MTlayout,u=TvrMT.mod.MThtml,d=TvrMT.mod.MTai},setup_ajax_queue:function(){jQuery.MTajaxQueue=function(e){const t={taskName:"ajaxFetchTask",channel:e.channel||"queueable",terminateOnCompletion:e.terminateOnCompletion||!1,type:e.type,url:e.url,headers:e.headers,dataType:e.dataType,timeout:e.timeout,data:e.data,cb_ww:e.cb_ww,cb:e.cb,cb_failure:e.cb_failure,cb_complete:e.cb_complete,mainThreadData:{...e}};n.ww.assignTask(t)}},full_editor_placeholder_comment:"/* Full Code Editor CSS */",full_editor_pre_save:function(a){var l=a.settings?a.settings:{},c=a.$fullTextarea,u=c.val(),d=s.get_trail_from_name(c.attr("name")),h=e.extend([],d),_=a.$editor;if(l.savePackage=l.savePackage?l.savePackage:[],o.updateObjectAndSavePackage(l.savePackage,{action:"replace",trail:d,data:u}),t.client_scss){var g=e.extend([],d),m=g.pop();g.push(m+"_compiled");var v=["non_section","code_editors",m,"scss_types"],y=t.check_update_scss_changes(l,{code:u,declared:1,onlyGlobalVars:1,scss_types_trail:v,resourceTrail:d}),b=n.checkObject(t.uiData,v);l.preprocessor={code:f.full_editor_placeholder_comment+"\n"+u,compiled_css_trail:g,editor_slug:m,node_trail:e.extend([],g),codeEditorEdited:!0,scss_types:b,scss_types_changed:y,importChanged:y&&n.obj_length(y.import)>0,extendChanged:b&&n.obj_length(b.extend)>0},y&&(l=o.run_global_scans(l,["scss_types"]))}return t.iframeEditing()&&!t.scss_enabled&&r.update_preview_style_node(h,u),l=f.user_action(l,{items:[p.custom_code],val:i.editor_line(i.get_editor(_)),icon:"mtif-code"})},input_pre_save:function(r){n.startT(arguments);var a=r.$property,d=r.settings?r.settings:{savePackage:[]},h=t.get_meta(a,"property"),_=r.$editor,g=o.get_property_data(h),m=t.get_default_unit(h.groupSlug,h.propertySlug),v=g.property.unit,y=a.hasClass("mt-slider");if(!r.triggeredBySlider&&y){l.ensure_slider_connected(a);var b=a.val(),w=s.separate_value_unit(b),T=n.prop_to_cssf(h.propertySlug),x={inputEdited:1,writeUnitToField:1,updateSliderValue:1,positionDragbar:1};w&&!h.property.hasClass("has-variable-line")&&(b=w.value,v=w.unit,t.unitStripped=!0,"focus"!==r.comboAction&&v!==m&&(x.writeUnitToSlider=1,x.updateCopiedSrc=1,x.updateCopiedSrcReflow=!1)),n.isDefined(v)||(v=t.get_default_unit(h.groupSlug,h.propertySlug)),l.update_css_unit(v,x,l.resolve_slider_compatible_value(b,h.propertySlug,T,v,!0),b),l.sliderValPendingComp&&(n.action_after_timeout("reset_slider_to_computed",200,{item:function(){var e=l.get_value_from_computed(h.propertySlug,T,v);l.update_slider_value(e,{positionDragbar:1})}}),l.sliderValPendingComp=!1)}if(r.unitEligable=h.property.hasClass("mt-has-unit"),r.supportsSlider=y,r.unitEligable&&(v=v||t.get_default_unit(h.groupSlug,h.propertySlug),r.unit=v),"animation_name"===h.propertySlug||"transition_property"===h.propertySlug){var k=h.groupSlug,S=a.val(),C=h.groupTab.find("div.field-"+k+"-"+k+"_duration"),M=C.find("input.property-input"),A=C.find(".comp-style").text();!S||A&&"0s"!==A?S||!n.isDefined(M.val())||t.pg_check_values(a,h.tabSlug,!1,"."+k+"_duration")||(M.val(""),t.adjust_comp_span(M,"after")):(M.val("0.5"),t.adjust_comp_span(M,"after"))}if("event"===h.propertySlug&&t.adjust_event_fields(a),"html"===h.groupSlug){u.uiFieldAdjusted(h,a).abortSave}if("transition_property"===h.propertySlug){var O=a.val();a.closest(".field-wrap").siblings(".event-value-field").find(".suppl-picker-wrap")}else h.property.hasClass("is-picker")&&t.adjust_comp_span(a,"after");if("event_value"===h.propertySlug){var E=h.property.find(".mt-event-value-input"),P=(h.property.find(".suppl-picker-wrap"),h.property.find(".mt-supplementary-picker")),D=a.val(),j=(O=h.groupTab.find(".field-transition-transition_property").find(".property-input").val(),new RegExp(s.reg.color()));if(a.hasClass("mt-event-value-input")&&a.is(":focus")){var I=j.exec(D);I&&I[0]?t.update_spectrum(I[0],P,{}):t.clear_spectrum_inputs(h),P.mtspectrum("hide")}else if(a.hasClass("mt-supplementary-picker")){if(O.indexOf("shadow")>-1){var L=E.val();if(L){var R=L.match(j);D=R?L.replace(R[0],D):L.trim()+" "+D}}E.val(D),t.adjust_comp_span(E,"after"),t.update_input_width_and_scroll(E)}}"grid_area"===h.propertySlug?h.groupTab.find("div.subgroup-itemcolumn, div.subgroup-itemrow").find(".property-input").each((function(){f.input_clear_correction(e(this))})):(h.property.hasClass("subgroup-itemcolumn")||h.property.hasClass("subgroup-itemrow"))&&f.input_clear_correction(h.groupTab.find("div.field-grid-grid_area").find(".property-input"));var N,F=t.maybe_set_unit(g.property,h.groupSlug,h.propertySlug,a.val(),a),q=!1,U={isAnimationProp:"animation"===h.groupSlug};if(a.hasClass("tvr-editor-hidden")){var z=a.hasClass("snippet-textarea"),B=z?"snippet-code":"adaptable-editor",$=i.eds[B];q=$.getValue(),N=n.escapeHTML(i.editor_line($,!0)),z||(U=s.code_edited_property(N))}else if(h.property.hasClass("has-variable-line")){var H=[];h.property.find(".property-input").each((function(){H.push(e(this).val())})),N=H.join(" ")}else N="text"===h.propertySlug?n.getTextareaCursorLine(a[0],5):a.val();(N=N||p.value_cleared)&&v&&n.isNumeric(N)&&(N+=v);var V=F&&F.calc?F.calc:"",W=t.chain_is_on(h)||t.dblclickToSync?h.subgroupH+" "+p.fields_sync:"";t.dblclickToSync=!1,V+=W?(V?"\n":"")+W:"";var G="";try{G=h.property.find("span.option-icon").attr("class").replace("tvr-icon","")}catch(e){}var K={items:["property"],val:N,M:h,pathTT:!0,valTT:V,icon:G};t.prepareDisabledOrNotLoadingWarning(h);h.groupTab.find("div.field-animation-animation_name").find(".property-input").val(),t.compProps["animation-name"];var Q=U.isAnimationProp&&"event"!==h.propertySlug,X=!(!t.curSelEls||!t.curSelEls.length)&&t.curSelEls.first(),Y=!(!X||!n.isDomEl(X))&&"inline"===X.css("display"),J="all-devices"!==h.tabSlug;return d=s.dom_to_data(e.extend(!0,d,{M:h,domDepth:"group",mq_key:h.tabSlug,incRecurse:J,onlyRecurse:J,recurse_key:["m_query"],stripUnits:1,pre_clear:"grid"===h.groupSlug&&["grid_template_columns","grid_template_rows","grid_auto_columns","grid_auto_rows"],clean:{selector:[["styles"],[h.groupSlug]]},cleanMaxDepth:"selector",activeEditorToCSS:!!_&&{editor:$,editorCSS:q}})),t.scss_enabled,!d.invalidEditorCSS&&(t.scss_enabled||(_?(i.update_gui_shortcut_from_ace_line($,!0),c.editor_and_gui()&&!t.gui_to_editor_running&&i.editor_to_gui(!0,h,r.$editor,$)):c.editor_and_gui()&&i.gui_to_editor(!0,h)),d=t.js_check_values(d,h),!t.skipInputHistory&&n.isDomEl(h.property)&&(d=f.user_action(d,K)),t.skipInputHistory=!1,Q&&t.user_play(d,h.groupTab.find("span.play-icon"),"styleChange",Y),n.endT(arguments),!r.noSave&&d)},input_clear_correction:function(e){e.val(""),t.adjust_comp_span(e,"after")},noNewData:{savePackage:[{action:"no_new_data"}]},action_save:function(r){if(!r.$property||r.updateCopiedSrc||r.userSliding&&!r.draggingStopped||s.update_recent_combo_or_save(r,!0),delete t.pendingAutoSaveConfig[r.timerName],(!parseInt(t.pref.auto_save_mode)||d.disableAutosave)&&!r.manualSave&&!r.essentialSave)return;t.saveInProgress=!0,f.update_prog_indicator("plus",p.save_settings);var i=r.settings,a=n.checkObject(i,["savePackage"]),o=a&&a.length?1:0,l=t.ajaxUrl+"&mt_action=mt_save_interface",c=o?a:t.uiData;r.serialise=!0,r.serialise&&(c=n.escape_backslashes(JSON.stringify(c),!0));let h=i.user_action;h&&h.val&&(h.val=f._unwrapValue(h.val));var _={partial_data:o,serialise:r.serialise,adjusted_logic:i.adjusted_logic,get_last_save_time:!0,skip_revision:r.skip_revision?1:0,user_action:i.user_action,tvr_mcth:c};r.restoreSnippets?_.restoreSnippets=r.restoreSnippets:u.maybeAddSnippetsToPostData(_),"export"===r.context&&(_=e.extend(!0,_,s.inputs_to_data(e("#microthemer_ui_settings_export"),!0))),n.startT("save: start ajax post");let g=e.extend(!0,{type:"POST",url:l,dataType:"json",data:_,timeout:t.tOut,channel:"revisions",cb_ww:{funcName:"saveRevision"},cb:{ref:"mod.MTsave",funcName:"action_save_success"},cb_failure:{ref:"mod.MTsave",funcName:"action_save_error"},cb_complete:{ref:"mod.MTsave",funcName:"action_save_complete"}},r);e.MTajaxQueue(g)},action_save_success:function(i,a){n.endT("save: start ajax post");var o,l=i.responseData,c=e(l.html);if(n.startT("save: process return data"),t.updateRevisionStack(i,a),l.html)t.pref.num_saves=l.num_saves,t.pref.num_unpublished_saves=l.num_unpublished_saves,t.pref.asset_loading=e.extend(!0,{},l.asset_loading),parseInt(l.outdatedTab)?l&&parseInt(l.outdatedTab)&&f.alert_outdatedTab(l):t.uiData.non_section.last_save_time=l.returnedSaveTime,l.returnedRevisions&&e("#revisions-summary").html(l.returnedRevisions),o=f.extract_status(c),t.animation_inline_warning&&(o.push(t.animation_inline_warning),t.animation_inline_warning=!1),t.notifyFolderChanged&&(o.push(t.notifyFolderChanged),t.notifyFolderChanged=!1);else{var u=e(t.templates.log);o={short:u.find(".short").text(),long:u.find(".long").html()}}if(f.update_prog_indicator("minus",o,p.save_settings),n.endT("save: process return data"),l.num_unpublished_saves>0&&f.signal_settings_ready_to_publish(),a.$property&&s.update_recent_combo_or_save(a,!1,!0),t.js_in_focus()&&(n.startT("save: refreshJS"),f.update_prog_indicator("plus",p.refresh_js),r.refreshJS(),n.endT("save: refreshJS")),"view-code"===a.context&&t.default_to_tab("view-code"),"export"===a.context){var d=l.exportName;d&&t.update_packs_obj(d);var h=e("#export-to-pack-dialog").find("span.export-dialog-button");t.reload_iframe(h,"manage"),t.show_dialog(t.stat.settingsMenu.find("li.item-manage-design-packs"))}a.cbFunction&&(a.cbfArgs=a.cbfArgs||[],a.cbfArgs.unshift(l),a.cbFunction.apply(this,a.cbfArgs)),a.runLogicTestCallback||f.maybeBroadcastChanges(l),TvrMT.integrate.gutenberg&&TvrMT.integrate.gutenberg.maybeAutoSaveContent()},action_save_error:function(e,n){t.reSave=!1,f.update_prog_indicator("minus",{short:p.save_settings_error,long:"<p>"+t.handle_ajax_error(e.xhrSim,e.textStatus)+"</p>"})},action_save_complete:function(n,r){t.saveInProgress=!1,t.folderDisabledWarningDone=!1,t.folderLoadingWarningDone=!1,e("#custom-css-js").removeClass("changed"),r.aiRetryShouldAwaitSave&&(t.aiRetryShouldAwaitSave=0)},maybeBroadcastChanges:function(e){r&&window.MTBroadCast&&parseInt(t.pref.sync_browser_tabs)&&window.MTBroadCast.broadcastChange({update:"css",updateTarget:"outsideTab",adjusted_logic:e.adjusted_logic,asset_loading_change:e.asset_loading_change,asset_loading:t.pref.asset_loading,MTDynFrontData:r.getMTDynFrontData(),microUrl:t.microUrl,mtURL:t.microUrl+"draft-styles.css",gfURL:n.checkObject(t.uiData,["non_section","meta","g_fonts","g_url_with_subsets"])})},pending_auto_saves:function(e){for(var n in t.pendingAutoSaveConfig)if(t.pendingAutoSaveConfig.hasOwnProperty(n)){var r=t.pendingAutoSaveConfig[n];clearTimeout(t.timer[n]),"save"===e&&(r.async=!1,f.action_save(r))}"clear"===e&&(t.pendingAutoSaveConfig={})},update_js_object_and_maybe_save:function(e,t){return e},quick_save_data:function(e,t){var n=[],r={action:"array_merge_recursive_distinct",trail:[],data:t=t||s.inputs_to_data(e)};return o.updateObjectAndSavePackage(n,r),f.silent_save("",[r]),n},silent_save:function(n,r,i){var a="GET";if(r){if(!r.length)return!1;n="&mt_action=mt_silent_save_interface",a="POST"}e.MTajaxQueue({url:t.ajaxUrl+n,type:a,channel:i||"revisions",data:{savePackage:r}})},ajax_save_settings:function(e){n.startT(arguments);var r=!(e=e||{}).noSaveDelay,i=n.isDomEl(e.$property)||e.$fullTextarea;if(e.propOrEditor=i,i){var a,o=!1;if(e.$fullTextarea)o=!0,a=e.$fullTextarea,e.settings=f.full_editor_pre_save(e);else if(a=e.$property,e.settings=f.input_pre_save(e),!e.settings)return!1}f.should_do_sass_compile(e)?t.mt_compile_scss(e,r,i,o,a):f.save_or_start_timer(e,r,i,a),n.endT(arguments)},should_do_sass_compile:function(e){return t.client_scss&&!e.settings.skipSassCompile&&"javascript"!==i.ace_sync_details.mode&&(e.settings.fullSCSSCompile||e.settings.preprocessor)},save_or_start_timer:function(e,n,a,o){var s;(e.$fullTextarea&&!e.sassCompileError&&i.update_parsed_full_code_selectors(e.settings,!0),t.iframeEditing()?t.update_gf_url?(t.update_gf_url=!1,r.refresh_stylesheet({gf:!0})):setTimeout(r.post_css_refresh,200):t.awaitingIframeReloadAfterSave=!0,n)?(s=e.timerName?e.timerName:a?o.attr("name"):(new Date).getTime(),e.timerName="save"+s,t.pendingAutoSaveConfig[e.timerName]=e,t.set_defer_save_timer(e,s)):f.action_save(e)},save_javascript:function(e){i.ace_instant_save("full",i.ace_sync_details.$textarea,t.stat.adaptableEditor,!0)},alert_outdatedTab:function(e){var t=p.multi_tab_short+"\n"+p.multi_tab_long+"\n"+e.outdatedTabDebug;alert(t)},save_ui_toggle_update:function(n,r,i,a){a&&(t.pref[n]=r),e.MTajaxQueue({url:t.ajaxUrl,type:"GET",data:n+"="+r+i,async:!0})},serialiseJsObject:function(e,t,r){let i=JSON.stringify(e);return t?n.escape_backslashes(i,r):i},serialized_data_with_single_key:function(t){return t=n.escape_backslashes(t,!0),e("#tvr-serialised-data").val(t),e("#tvr_microthemer_ui_serialised").serialize()},save_single_preference:function(){},save_multiple_preferences:function(n,r,i){e.MTajaxQueue({channel:i||"revisions",url:t.ajaxUrl+"&save_multiple_preferences=1",type:"POST",data:{allInt:r,pref_array:n},async:!0})},save_preferences:function(r){n.startT(arguments);var i=t.ajaxUrl,a=p.saving_preferences,o=n.escape_backslashes(e("#tvr-preferences").serialize(),!0);f.general_ajax_submission("Preferences save",i,a,"POST",o),n.endT(arguments)},save_media_queries:function(r){n.startT(arguments);var i=!1;if(e("#mqs-dyn-menu").find("input.mquery-label, textarea.mquery-query").each((function(){if(!e(this).val().length)return e(this).focus(),i=!0,!1})),i)return alert(p.complete_media_fields),!1;var a=t.ajaxUrl,o=p.saving_mqs,s=n.escape_backslashes(e("#edit-media-queries-form").serialize(),!0);f.general_ajax_submission("Media query save",a,o,"POST",s),n.endT(arguments)},save_enq_js:function(r){n.startT(arguments);var i=t.ajaxUrl,a=p.saving_enqjs,o=n.escape_backslashes(e("#mt-enqueue-js").serialize(),!0);f.general_ajax_submission("Script enqueue",i,a,"POST",o),n.endT(arguments)},simple_ajax_request:function(r){n.startT(arguments),r.cbfArgs||(r.cbfArgs=[]),r.plus&&f.update_prog_indicator("plus",r.plus);var i=r.url.indexOf("?")>-1?"&":"?";r.url+=i+"nomtcache="+(new Date).getTime(),e.MTajaxQueue({channel:r.channel?r.channel:r.skipQueue?"async":"queueable",terminateOnCompletion:r.terminateOnCompletion||r.skipQueue,type:r.type?r.type:"GET",url:r.url,data:r.sendData?r.sendData:"",dataType:r.dataType?r.dataType:"text",async:void 0===r.async||r.async,timeout:r.timeout?r.timeout:t.tOut,cb:{ref:"mod.MTsave",funcName:"simple_ajax_request_success"},cb_failure:{ref:"mod.MTsave",funcName:"simple_ajax_request_error"},cbFunction:r.cbFunction,cbfArgs:r.cbfArgs,plus:r.plus,minus:r.minus}),n.endT(arguments)},simple_ajax_request_success:function(e,t){if(t.minus){f.update_prog_indicator("minus",!1,t.plus)}t.cbFunction&&(t.cbfArgs.unshift(e.responseData),t.cbFunction.apply(this,t.cbfArgs))},simple_ajax_request_error:function(e,n){n.minus&&f.update_prog_indicator("minus",{short:n.minus,long:"<p>"+t.handle_ajax_error(e.xhrSim,e.textStatus)+"</p>"},n.plus)},general_ajax_submission:function(r,i,a,o,s,l){n.startT(arguments),f.update_prog_indicator("plus",a),e.MTajaxQueue({channel:l||"queueable",type:o,url:i,data:s,timeout:"import"===r?12e4:t.tOut,action:r,inProg:a,dataType:"json",cb_ww:{funcName:"saveRevision"},cb:{ref:"mod.MTsave",funcName:"general_ajax_submission_success"},cb_failure:{ref:"mod.MTsave",funcName:"general_ajax_submission_error"}}),n.endT(arguments)},general_ajax_submission_success:function(e,n){if(TvrMT.integrate.FLBuilder&&a.builderUnq.FLBuilder.bb_changes_made()&&!confirm(p.beaver_builder_confirm))return f.update_prog_indicator("minus",!1,n.inProg),f.update_full_logs({short:n.inProg+" "+p.halted,long:"<p>"+p.page_reload_aborted+"</p>",type:"info"}),!1;window.location=t.uiUrl},general_ajax_submission_error:function(e,n){f.update_prog_indicator("minus",{short:n.action+" error",long:"<p>"+t.handle_ajax_error(e.xhrSim,e.textStatus)+"</p>"},n.inProg),t.close_dialog(!0)},import_settings:function(){n.startT(arguments);var r=e("#import-from-pack-dialog");if(1===t.get_dialog_tab_focus(r)){var i="CSS Stylesheet";if(!s.process_css_import(0,"do-import"))return!1}else{if(""==e("#import_from_pack_name").val())return alert(p.select_design_pack),!1;if(!e("#ui-import-overwrite").is(":checked")&&!e("#ui-import-merge").is(":checked"))return alert(p.choose_import_method),!1;i=e("#ui-import-overwrite").is(":checked")?"overwrite":"merge";e("#stylesheet_import_json").val("")}var a=t.ajaxUrl,o=tvrsprintf(p.import_settings,i),l=e("#microthemer_ui_settings_import").find("input, textarea").not(".dont-serialize").serialize();f.general_ajax_submission("import",a,o,"POST",l),n.endT(arguments)},export_settings:function(r){n.startT(arguments);var i=e("#export_pack_name").val();if(!i)return alert(p.select_settings_pack),!1;var a=i.toLowerCase(),o=!1;for(var s in TvrMT.data.prog.combo.directories)if(TvrMT.data.prog.combo.directories.hasOwnProperty(s)&&TvrMT.data.prog.combo.directories[s].toLowerCase()==a){o=!0;break}o||e("#new_pack").val(1);var l=f.user_action(e.extend(!0,{},f.noNewData),{items:[t.title(r)],val:i,icon:"mtif-export"});f.ajax_save_settings({context:"export",settings:l,essentialSave:1}),n.endT(arguments)},action_in_prog:function(e,t){return!!n.hasValue(e.attr(t+"-in-prog"))},log_action:function(e,t){e.attr(t+"-in-prog",1)},unlog_action:function(e,t){e.removeAttr(t+"-in-prog")},ei:-1,logArr:[],log:function(t){if(n.startT(arguments),e.isPlainObject(t[0]))for(var r in t)t.hasOwnProperty(r)&&(t[r].long=t[r].long?t[r].long:"<p></p>",t[r].type=t[r].type?t[r].type:"error",f.logArr[++f.ei]=t[r]);else t.long=t.long?t.long:"<p></p>",t.type=t.type?t.type:"error",f.logArr[++f.ei]=t;n.endT(arguments)},extract_status:function(t){n.startT(arguments);var r=-1,i=[];return t.find("li.tvr-message").each((function(){var t=e(this),n=t.attr("class"),a="notice",o=t.find(".short").text(),s=t.find(".long").html();n.indexOf("tvr-info")>-1?a="info":n.indexOf("tvr-warning")>-1?a="warning":n.indexOf("tvr-error")>-1&&(a="error"),i[++r]={short:o,long:s,type:a}})),n.endT(arguments),i},update_tmp_prog:function(r,i){n.startT(arguments);e("#toggle-mt-interface");var a=e("#status-short"),o=t.stat.dialogs.find(".tvr-dialog"),s=o.find(".dialog-status").find("span"),l=o.find(".dialog-icon"),c=a.add(s).add(l),u=a.add(s);i?(c.removeClass("active"),u.text("")):(u.removeClass(),c.addClass("active"),u.text(r)),n.endT(arguments)},timeoutTracker:{},update_prog_indicator:function(e,r,i,a){n.startT(arguments);var o,s=t.scss_error&&t.client_scss;if(s&&(o=t.stat.dialogs.find(".tvr-dialog").find(".dialog-icon")),"plus"===e){if(!t.something_wrong){s?o.addClass("active"):f.update_tmp_prog(r+"...");const e=n.in_array(r,t.progStatus);!1!==e&&(t.progStatus.splice(e,1),clearTimeout(f.timeoutTracker[r])),t.progStatus.push(r);const i=t.tOut;f.timeoutTracker[r]=setTimeout(f.prog_error,i,r,i)}}else{r&&f.log(r),clearTimeout(f.timeoutTracker[i]),delete f.timeoutTracker[i],f.unset_prog(i);var l=t.progStatus.length;l<=0?(a||t.something_wrong||s||(f.update_tmp_prog("",!0),f.update_full_logs()),s&&o.removeClass("active")):a||t.something_wrong||s||f.update_tmp_prog(t.progStatus[l-1])}n.endT(arguments)},unset_prog:function(e){var r=n.in_array(e,t.progStatus);!1!==r&&t.progStatus.splice(r,1)},prog_error:function(e,r,i){if(n.startT(arguments),t.something_wrong)return f.unset_prog(e),!1;t.something_wrong=!0,f.update_tmp_prog("",!0);var a=t.js_error_deets(!0),o=a?p.something_wrong_discovered:t.appName+" "+p.something_wrong_no_errors,s=tvrsprintf(p.something_wrong_intro,e,r/1e3);f.log({short:p.something_wrong,long:"<p>"+s+" "+o+"</p>"+a+'<div class="heading">'+p.something_wrong_tips_heading+'</div><ol><li><a target="_blank" href="https://codex.wordpress.org/Using_Your_Browser_to_Diagnose_JavaScript_Errors">'+p.something_wrong_console_article+"</a> ("+p.something_wrong_reliable+")</li><li>"+p.something_wrong_disable+"</li><li>"+p.something_wrong_clueless+"</li><li>"+p.something_wrong_configure+"</li><li>"+p.something_wrong_other+"</li></ol><p>"+p.something_wrong_priority+"</p>",type:"warning"}),f.update_full_logs(),f.unset_prog(e),n.endT(arguments)},log_js_error:function(){},subtle_notification:function(){var e="";t.pref.num_saves<1?e=p.initial_welcome:t.pref.num_unpublished_saves>0?(e=p.ready_to_publish,f.signal_settings_ready_to_publish()):(e=p.settings_published,f.signal_settings_published()),f.update_full_logs({short:e,long:"",type:"info",subtle:1})},update_short_status:function(r){n.startT(arguments),r=r||{};var i=t.stat.dialogs.find(".tvr-dialog").find(".dialog-status").find("span"),a=e("#status-short");a.add(i).removeClass();var o=["error","warning","info","notice"];for(var s in o)if(o.hasOwnProperty(s)){var l=e("#full-logs").find("ul.logs").find("li.tvr-"+o[s]).last();if(n.isDomEl(l)){var c=o[s];break}}if(n.isDomEl(l)){var u=l.find(".short").text(),d="",f="",h="",_=e("#status-board"),g=u===p.settings_saved,m=g||r.subtle||"Preferences saved"===u;if(r.subtle||m?_.addClass("dont-show-full-logs"):(_.removeClass("dont-show-full-logs"),d="..."),g){f="";var v=new Date,y=v.getHours()+":"+v.getMinutes()+":"+v.getSeconds();h='title="'+p.settings_saved+": "+y+'"'}var b='<span class="short-status-text" '+h+">"+u+d+"</span>"+f;a.add(i).addClass("tvr-"+c).html(b),a.addClass("tvr-message mt-fixed-opacity mt-fixed-color"),m&&i.find(".short-status-text").remove();var w=l.find(".long").text();i.attr("title",w),t.stat.tvr.addClass("notice_showing")}else t.stat.tvr.removeClass("notice_showing");n.endT(arguments)},update_full_logs:function(r){n.startT(arguments),r&&f.log(r);var i=e("#full-logs").find(".logs"),a=[];for(var o in f.logArr)if(f.logArr.hasOwnProperty(o)&&"dev-notice"!=f.logArr[o].type){var s=e(t.templates.log_item).removeAttr("id");s.attr("class",s.attr("class").replace("tvr-error","tvr-"+f.logArr[o].type)).find(".short").text(f.logArr[o].short).end().find(".long").html(f.logArr[o].long),a[o]=s}var l=e("#data-msg-pending"),c=!parseInt(l.attr("rel")),u=n.hasValue(f.logArr[o])&&f.logArr[o].short===p.something_wrong;c||u?i.html(a):t.doNotShowSubtleNotice=1,l.attr("rel",0),f.logReset(),f.update_short_status(r),n.endT(arguments)},logReset:function(){f.logArr=[],f.ei=-1},clear_messages:function(){n.startT(arguments),e("#status-board").addClass("dont-show-full-logs"),e("#status-short").add(t.stat.dialogs.find(".tvr-dialog").find(".dialog-status").find("span")).removeClass().html(""),e("#full-logs").find(".logs").html(""),f.subtle_notification(),n.endT(arguments)},publish_settings:function(){if(!t.stat.publishButton.hasClass("ready-to-publish"))return!1;f.simple_ajax_request({url:t.ajaxUrl+"&mt_publish_settings=1",plus:p.publishing_settings,minus:p.publish_failed,cbFunction:function(n){let r=JSON.parse(n);t.pref.num_unpublished_saves=r.num_unpublished_saves,TvrMT.data.dyn.ui_config.supportGUICSS&&f.log({short:p.settings_published,long:"<p>"+p.settings_published_long+"</p><p>"+p.settings_published_long_p2+"</p>",type:"notice"}),r.html&&f.log(f.extract_status(e(r.html))),r.notify_amender_subscription_needed?f.log({short:p.notify_content_publish,long:"<p>"+p.notify_content_publish_long+'</p><p><a target="_blank" href="https://themeover.com/amender">'+p.purchase_amender+"</a></p>",type:TvrMT.data.dyn.ui_config.supportGUICSS?"info":"warning"}):TvrMT.data.dyn.ui_config.supportContent&&f.log({short:p.settings_published,long:"<p>"+p.settings_published_long_amender+"</p><p>"+p.settings_published_long_p2+"</p>",type:"notice"}),f.update_full_logs(),t.pref.num_unpublished_saves<1&&f.signal_settings_published()},cbfArgs:[]})},signal_settings_published:function(){t.stat.publishButton.add(t.stat.tvr).removeClass("ready-to-publish")},signal_settings_ready_to_publish:function(){t.stat.publishButton.add(t.stat.tvr).addClass("ready-to-publish")},_unwrapValue:function(e,t=10){if(t<=0)return null;const n=typeof e;return"string"===n||"number"===n||null==e?e:"object"===n&&null!==e&&e.hasOwnProperty("val")?this._unwrapValue(e.val,t-1):null},buildHistoryDataObject:function(e){const t=e.items&&e.items.length>0?e.items[e.items.length-1]:"property",n={data_version:2,displayItems:[],val:null,color:null,valFirst:e.valFirst?1:0,icons:[],pathTT:e.pathTT?1:0,fullPathItems:[]};if(e.displayItems)n.displayItems=e.displayItems;else if(e.items)for(const r in e.items){if(!e.items.hasOwnProperty(r))continue;const i=e.items[r];if("subgroup"===i&&"property"===t)continue;const a=e.M?e.M[i+"H"]:i;if(n.displayItems.push(a),i===t)break}if(e.val&&e.val!==p.value_cleared){const t=this._unwrapValue(e.val);if("string"==typeof t||"number"==typeof t){n.val=t.toString();const e=/(#(?:[0-9a-f]{3}){1,2}\b|rgba?\(.*?\)|hsla?\(.*?\))/i,r=n.val.match(e);r&&(n.color=r[0])}else console.warn("buildHistoryDataObject: `UA.val` was an object, not a string. Ignoring to prevent nesting.",e.val)}if(e.icon){const t=Array.isArray(e.icon)?e.icon:[e.icon];for(const e of t)"string"==typeof e?n.icons.push({iconClass:e,innerContent:null,tooltip:null}):"object"==typeof e&&null!==e&&n.icons.push({iconClass:e.icon||"",innerContent:e.iconC||null,tooltip:e.tt||null})}if(e.pathTT&&e.M){const t=["section","selector","tab","group","subgroup","property"];for(const r of t)e.M[r+"H"]&&n.fullPathItems.push(e.M[r+"H"])}return n},user_action:function(e,t){return e.user_action=this.buildHistoryDataObject(t),e},h_i_class:function(e,r){n.startT(arguments);var i=t.hi[e];return"subgroup"==e?i="lg-icon pg-icon-"+r.groupSlug:"property"==e&&(i=r.property.find("span.option-icon").attr("class").replace("tvr-icon","")),n.endT(arguments),i}};return f}()})),window.MTWindow=!1,window.MTLocalFunctionsReady=!1,jQuery(document).ready((function(e){window.MTlocal=function(){var t,n,r,i,a,o,s,l,c,u,d,p={set_vars:function(){MTWindow=function(e,t){try{return t&&t.TvrMT&&!t.closed&&t.document.domain.indexOf(e.document.domain)>-1}catch(e){return!1}}(window,window.opener)?window.opener:window,t=MTWindow.TvrMT,i=t.TvrUi,a=t.TvrCom,t.tvrsprintf=window.tvrsprintf,n=t.tvrsprintf,r=MTWindow.TvrLang,t.MTF,d=t.mod.MTlayout,o=t.mod.MTace,s=t.mod.MTint,t.mod.MTloop,t.mod.MTdd,l=t.mod.MTsave,t.mod.MTsass,c=t.mod.MTgrid,u=t.mod.MTwidget,t.MTdetached,t.MTfolder,i.stat.iframeDoc=window.frames.viframe,p.stat={doc:document,$doc:e(document),body:e("body"),tvr:e("#tvr"),styleComponents:e("#style-components"),front:e("#v-frontend-wrap"),frontInner:e("#v-frontend"),iframeWidthSpan:e("#iframe-width-feedback"),slider:e("#v-mq-slider"),iframe:e("#viframe"),contextMenu:p.getContextMenuEl()},i.sRules.define("mtvars"),window.MTLocalFunctionsReady=!0},setup_event_listeners:function(s){if(i.jQueryVersion=a.getJQueryVersion(e.fn.jquery),i.jQueryUIVersion=e.ui&&e.ui.version?a.getJQueryVersion(e.ui.version,!0):"1.5",i.autocompleteUsesDivs=i.jQueryUIVersion>="01.12.01",i.autocompleteUsesDivs?p.stat.tvr.addClass("autocompleteUsesDivs"):p.stat.tvr.addClass("autocompleteNoDivs"),p.stat.tvr.on("click",(function(t){var n=e(t.target),r=n.attr("class")||"";i.close_all_expanded(n,r),i.ua_detected(),r.indexOf("close-context-menu")>=0?p.close_context_menu():r.indexOf("mt-ui-toggle")>=0?i.toggle_feature(n):r.indexOf("sug-sel")>=0||r.indexOf("targeting-sel-radio")>=0?i.sug_css_clicked(n):r.indexOf("save-draft-selector")>=0?(i.save_draft_selector(!1,!0),a.isDomEl(n.closest(".cm-suggestions"))&&p.close_context_menu({filter:".cm-suggestions"})):r.indexOf("combo-arrow")>=0?i.combo_arrow_clicked(n):r.indexOf("refresh-code-suggestions")>=0?i.refresh_code_suggestions(n):r.indexOf("mt-clear-field")>=0&&i.input_clear_icon_clicked(n)})),p.add_window_resize_listener(s),p.stat.contextMenu.draggable({handle:".mt-panel-title:not(.mt-ui-toggle)",start:function(e,t){p.stat.contextMenu.css({bottom:"auto",right:"auto"})}}),"native"!=i.tooltipDelay){var l=p.stat.body;l.on("click",(function(t){var n=e(t.target);(n.hasClass("ui-tooltip")||n.hasClass("ui-tooltip-content"))&&p.clean_tooltips()})),p.enable_tt(l)}i.stat.currentFolderItem.add(i.stat.cssModifiers).add(i.bothSuggestionAreas()).on("input.tvr propertychange.tvr","input.combobox, input.sug-sel, input.sel-hierarchy-input, input.code-hierarchy-input",(function(t){var n=e(this);if(n.hasClass("cssfilter-combo")){var r=n.attr("rel"),o="custom_prefix"===r?500:50;a.action_after_timeout("css_modifier_input_updated_"+r,o,{item:function(e){i.pseudo_updated(e,{input:1})},args:[n]})}else n.hasClass("sug-sel")?i.sug_sel_updated({val:n.val(),$editedField:n,suggestionCustomised:1}):(n.hasClass("hierarchy-input")&&(i.size_hierarchy_inputs(n),n.hasClass("sel-hierarchy-input")&&!i.pref.selname_code_synced&&i.disable_selector_auto_name(),n.hasClass("sec-hierarchy-input")&&(i.folderNameCustomized=!0)),i.maybe_run_code_or_synced_label_field_edited(n))})),p.stat.$doc.on("mousedown","input.combobox, span.combo-arrow, #mt-slider-set, #mtss-units, span.sortable-icon, span.mt-combo-icon, span.mt-combo-toggle, span.mt-prop-unit",(function(t){var n,a=e(this),s=a.hasClass("mt-prop-unit"),l=a.attr("id");if("mt-slider-set"!==l&&"mtss-units"!==l||t.preventDefault(),a.hasClass("combo-arrow")||a.hasClass("combobox")||s)("#style-components"===(n=s?a.closest(".field-wrap").find(".property-input"):a.hasClass("combobox")?a:a.hasClass("cur-item-dropdown")?a.prev("input"):a.siblings("input")).attr("data-appto")?p.stat.styleComponents.find("#combo-belongs-to-"+n.attr("rel")):n.hasClass("wizard-folder")?i.stat.currentFolderItem.find(".ui-menu"):n.hasClass("property-input")?i.get_related_meta("combo",n).$container:a.siblings(".ui-menu")).is(":visible")?n.data("wasOpen",1):n.data("wasOpen",0);else if("inline-editor"===a.attr("id"))d.horizontal_only()&&o.get_editor_height(a);else if(a.hasClass("sortable-icon")){var c=a.closest("ul.selector-sub");i.sortableMenuDims={fMenu:{w:"",h:""},sMenu:{w:c.width(),h:c.height()-1}}}else if(a.hasClass("mt-combo-icon")||a.hasClass("mt-combo-toggle")){i.skipComboDestroy=!0;var u=a.closest(".ui-menu").scrollTop(),f=a.parent().attr("aria-label");return f&&f.indexOf(r.sampled)>-1&&("save-single-suggestion"===a.data("action")?u+=22:u-=22),i.comboScrollTopPos=u,a.parent().hasClass("ui-autocomplete-category")||(i.comboIconMousedown=!0),!1}t.stopPropagation()})),e.widget("custom.MTautocomplete",e.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_searchTimeout:function(e){e.shiftKey||this.cancelSearch||(clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey;t&&(!t||n||r)||(this.selectedItem=null,this.search(null,e))}),this.options.delay))},_renderMenu:function(o,s){a.startT(arguments);var l=this,c="",u="",d="",p=l.element,f="custom_paths"===(Q=p.attr("rel"))||"conditional_loading"===Q,h=p.hasClass("sp-input-var"),_=p.hasClass("sug-sel")||p.hasClass("code-hierarchy-input"),g=p.hasClass("hierarchy-input"),m="#style-components"===p.attr("data-appto"),v=p.hasClass("mt-load-snippet"),y=!!h&&i.get_related_meta("picker",p.closest(".sp-container")),b=p.hasClass("property-input"),w=p.hasClass("mt-slider"),T="",x=!1,k=!1,S=!1;s.length;w&&o.addClass("input-has-slider");var C='<span class="mt-combo-icon clear-single-suggestion mtif mtif-eraser" data-action="clear-single-suggestion" title="'+r.clear_single_suggestion+'"></span>',M='<span class="mt-combo-icon mt-delete-snippet mtif mtif-bin" data-snippet-id="{snippet_id}" data-action="delete-snippet" title="'+r.delete_snippet+'"></span>';if(b||h){var A,O=(A=p.attr("rel")).replace(/_/g,"-"),E=i.gatheredCSS.root_cat_keys[A],P=E||A;"color_extra"===P&&(P="color");var D=i.pref.my_props.sug_values[P],j=E&&!p.hasClass("event-target-input")&&!p.hasClass("mt-event-value-input")&&"google_font"!==E,I=i.support_sampling(A,p),L=t.data.prog.combo[A],R=L&&!a.comboHasInitialCats(L),N=R?'<span class="mt-combo-icon clear-mt-suggestions mtif mtif-eraser" data-action="clear-mt-suggestions" title="'+r.clear_mt_suggestions+'"></span>':"",F=R?'<span class="mt-combo-icon add-mt-suggestions  mtif mtif-import" data-action="add-mt-suggestions" title="'+r.add_mt_suggestions+'"></span>':"",q='<span class="mt-combo-icon clear-site-styles mtif mtif-eraser" data-action="clear-site-styles" title="'+n(r.clear_sampled,O)+'"></span>',U='<span class="mt-combo-icon clear-sampled-variables mtif mtif-eraser" data-action="clear-sampled-variables" title="'+n(r.clear_sampled_variables,"")+'"></span>',z='<span class="mt-combo-icon resample-styles show_sampled_values mtif mtif-sync-alt" data-action="show_sampled_values" title="'+n(r.resample,O)+'"></span>',B='<span class="mt-combo-icon resample-styles show_sampled_variables mtif mtif-sync-alt" data-action="show_sampled_variables" title="'+n(r.resample_variables,"")+'"></span>',$=i.format_combo_cat_toggle_atts("show_sampled_variables"),H=i.format_combo_cat_toggle_atts("show_sampled_values"),V="<li class='ui-autocomplete-category suggestions-category'><span>"+r.suggestions+"</span>"+N+F+"</li>",W="<li class='ui-autocomplete-category sampled_values-category'><span"+H+">"+i.format_combo_cat_label("sampled",E)+"</span>"+q+z+"</li>",G="<li class='ui-autocomplete-category site_variables-category'><span"+$+">"+i.format_combo_cat_label("sampled_variables",E)+"</span>"+U+B+"</li>"}if(e.each(s,(function(e,t){var n,s=!1,p=t.category&&t.category.match(new RegExp("^"+r.sampled)),_=t.category===r.sampled_variables,g="";if(j&&(t.category===r.suggestions?(T=N+F,S=!0):p?(T=q+z,x=!0,g=H):_&&(T=U+B,k=!0,g=$)),t.category&&t.category!=c){var m=a.convert_to_param(t.category,"")+"-category";o.append("<li class='ui-autocomplete-category "+m+"'><span"+g+">"+t.category+"</span>"+T+"</li>"),c=t.category}n=l._renderItemData(o,t);var y=i.autocompleteUsesDivs?n.children("div").first():n;if(t.label!==t.value&&n.data("alt-value",t.value),"cur_folders"===Q&&t.itemConditional&&n.addClass("item-conditional"),"font_family"!==A&&"google_font"!==A||n.css("font-family",n.text()),!h&&t.var_relevance&&d&&t.var_relevance!==d&&n.addClass("var-relevance-change"),t.varValue&&(n.attr("title",t.varValue),"color"===t.variableType&&(n.addClass("isColorVal"),y.prepend('<span class="var-color-box" style="background-color: '+t.value+'"></span>'))),f){if(n.attr("title",t.value).attr("data-path",t.value),i.search_pages_latest_term){var b=n.text(),w=i.search_pages_latest_term,O=i.autocompleteUsesDivs?'<div class="ui-menu-item-wrapper mt-site-search-response">':"",E=i.autocompleteUsesDivs?"</div>":"",P=b.replace(new RegExp("(\\s)?("+a.escapeRegExp(w)+")(\\s)?","i"),(function(e,t,n,r){function i(e){return e.replace(/\s/,"&nbsp;")}return'<span class="mt-highlight-term">'+(t=t?i(t):"")+(n=n?i(n):"")+(r=r?i(r):"")+"</span>"}));n.html(O+P+E),i.autocompleteUsesDivs||n.addClass("mt-site-search-response")}t.category===r.recent&&y.append(C)}if(t.category){if(s||(o.addClass("mt-category-menu"),s=!0),n.attr("aria-label",t.category+" : "+t.label),t.category===r.suggestions||p||_){var I,L,R;a.in_array(t.label,D.saved,!1,"label")?(R="unsave-single-suggestion",I="is-saved-option",L=r.unsave_single_suggestion):(R="save-single-suggestion",I="",L=r.save_single_suggestion);var V='<span class="mt-combo-icon save-single-suggestion mtif mtif-save '+I+'" data-action="'+R+'" title="'+L+'"></span>';y.append(C+V)}v&&y.append(M.replace("{snippet_id}",t.id))}if(t.category!==u){var W="after-combo-cat",G=n.prev();(G=G.hasClass("ui-autocomplete-category")?G.prev():G).addClass("last-combo-cat"),u===r.suggestions&&(W+=" after-combo-suggestions"),n.addClass(W)}u=t.category,d=t.var_relevance})),j&&(S||o.prepend(V),I&&(x||h||o.append(W),!k))){var K=o.find(".sampled_values-category");a.isDomEl(K)?e(G).insertBefore(K):o.append(G)}if(o.find("li").each((function(t){var n=e(this);a.isDomEl(n.find("a"))||n.hasClass("ui-autocomplete-category")||(i.autocompleteUsesDivs||n.addClass("empty ui-menu-item"),""===n.text()&&n.addClass("delete-on-clear"))})),_)o.addClass("has-code-suggestions"),o.attr("id","combo-belongs-to-"+p.attr("rel"));else if(g||m){var Q=p.attr("rel");o.addClass("cur-"+Q),o.attr("id","combo-belongs-to-"+Q)}else f&&o.addClass("site-search-menu");if((b||h)&&!o.data("atts-modified")){var X=h?y.$input:p,Y=i.format_autocomplete_id(X,"combo");o.data("combo-belongs-to",Y.fieldID),o.attr("id",Y.containerID),o.data("atts-modified",1)}a.endT(arguments)}}),p.stat.tvr.on("focus","input.combobox,textarea.property-input,input.sp-input, input.snippet-dep-adjust, input.selector-css-textarea,input.selector-name-input",(function(){var t=e(this),n=function(){return!(!i.last_field_val_converted&&!i.unitStripped)&&(i.unitStripped=!1,!0)};if(t.hasClass("combobox")){a.startT("init combobox events");var r,o=t.data("appto"),s=t.data("closest");t.hasClass("has-arrows");r=o?s?t.closest(o):e(o):t.closest(".tvr-input-wrap");var l=i.resolve_combobox_source(t);t.MTautocomplete({source:l,delay:0,autoFocus:!0,minLength:0,appendTo:r,position:{my:"left top",at:"left bottom",collision:"flip"},open:function(n,r){a.startT(arguments),p.clean_tooltips(),(t.hasClass("hierarchy-input")?t.next(".combo-arrow"):t.siblings(".combo-arrow")).addClass("on");var o=t.data("menu-up"),s=t.data("menu-up-if");if(o||s&&i.pref[s]){var c=t.MTautocomplete("widget"),d=t.outerHeight(),f=c.position().top-c.height()-d;c.addClass("menu-showing-above").css("top",f+"px")}t.hasClass("mt-slider")&&u.show_slider_set(t),i.comboScrollTopPos>0&&(e(p.get_custom_autocomplete(this).menu.element).scrollTop(i.comboScrollTopPos),i.comboScrollTopPos=0),p.focus_on_current_combo_value(this,l),i.comboIconReflow=!1,i.autocompleteIsOpen=!0,a.endT(arguments)},select:function(e,r){return i.isForbiddenProperty(t)||i.comboIconMousedown?(i.comboIconMousedown&&(i.comboIconMousedown=!1),!1):(i.combobox_item_selected(e,r,t,"select"),!n()&&void 0)},focus:function(e,r){if(e.keyCode){if(i.isForbiddenProperty(t))return!1;if(i.combobox_item_selected(e,r,t,"focus"),n())return!1}},search:function(n,r){return("/"!==t.val()||"previewPath"!==t.attr("id"))&&(!(n.handleObj&&t.hasClass("has-suggestions")&&!e(p.get_custom_autocomplete(this).menu.element).is(":visible"))&&void t.addClass("adjusted-corner-radius"))},response:function(n,r){var a="[no results]";!r.content.length&&t.hasClass("has-suggestions")&&e(p.get_custom_autocomplete(this).menu.element).is(":visible")?(i.lastAutocompleteResponse=r.content,r.content.push({label:a,value:""})):1===r.content.length&&""===r.content[0].label&&(r.content[0].label=a),i.maybe_combo_menu_width_change(t)},close:function(e,n){t.hasClass("mt-slider")&&u.hide_slider_set(),t.removeClass("adjusted-corner-radius").siblings(".combo-arrow").removeClass("on"),i.skipComboDestroy||t.is(":focus")&&"all_sel_suggestions"!==t.attr("rel")?i.skipComboDestroy=!1:t.MTautocomplete("destroy"),i.autocompleteIsOpen=!1,i.search_pages_latest_term=null}}),a.endT("init combobox events")}if(t.hasClass("property-input")||t.hasClass("sp-input")||t.hasClass("selector-css-textarea")||t.hasClass("selector-name-input")||t.hasClass("snippet-dep-adjust")){if(t.hasClass("grid-area-add"))return!1;i.bind_input_events(t),t.hasClass("property-input")&&"textarea"!==t[0].tagName.toLowerCase()&&(i.update_input_width_and_scroll(t),u.ensure_slider_connected(t))}}))},update_TvrMT_and_other_vars:function(e){t=e,this.set_vars()},stat:{},enable_tt:function(e){try{e.tooltip(i.tt_config(p))}catch(e){}},get_tt_trigger:function(t,n){return i.tt_trigger=e(t.originalEvent.target||t.originalEvent.srcElement).closest(e(n).tooltip("option","items")),i.tt_trigger},clean_tooltips:function(){if(a.startT(arguments),"native"===i.tooltipDelay)return!1;if("native"!==i.tooltipDelay){var t=p.stat.body.data("ui-tooltip");if(a.hasValue(t)){for(var n in t.tooltips)if(t.tooltips.hasOwnProperty(n)){var r=e(t.tooltips[n].element[0]),o=e(t.tooltips[n].tooltip[0]);i.close_tooltip(r,o)}i.tt=!1,i.tt_trigger={}}}a.endT(arguments)},get_custom_autocomplete:function(t){var n=e(t).data();return n["custom-MTautocomplete"]||n.customMTautocomplete},focus_on_current_combo_value:function(t,n){if(a.startT(arguments),!i.comboIconReflow&&a.isDefined(t.value)){for(var r,o=p.get_custom_autocomplete(t).menu,s={startMatch:!1,exactMatch:!1},l=0,c=e("li:not(.ui-autocomplete-category)",o.element),u=new RegExp("^"+a.escapeRegExp(t.value),"i"),d=function(n,r,i){var o,s,l=r.eq(n),c=!1,d=l.text(),f=l.data("alt-value");return a.isDefined(d)&&(t.value===d||void 0!==f&&d!==f&&t.value===f?(o=l,c="exact"):u.test(d)&&(s=l,c="start"),(o||s)&&a.isDomEl(e(l),!0,p.stat.doc)&&(o?i.exactMatch=o:i.startMatch=s)),c};l<c.length&&"exact"!==d(l,c,s);l++);(s.exactMatch||s.startMatch)&&(r=s.exactMatch?s.exactMatch:s.startMatch,a.action_after_timeout("focus_menu_item",20,{item:function(){a.isDomEl(e(r),!0,p.stat.doc)&&o.focus(null,r)},args:[]}))}a.endT(arguments)},mark_iframe_loaded:function(e){(e=e||p.stat.iframe).addClass("mt-content-loaded")},maybe_load_site_preview:function(){l&&l.update_prog_indicator("plus",r.load_wp);var e=s.check_builder_autoload();if(i.pageOrPostID&&(i.pref.activate_elementor||"elementor"===e))s.activate_builder("elementor",!0,i.pageOrPostID);else if(i.pref.activate_gutenberg&&i.pageOrPostID)s.activate_builder("gutenberg",!0,i.pageOrPostID);else if(i.pageOrPostID&&(i.pref.activate_oxygen||"oxygen"===e))s.activate_builder("oxygen",!0,i.pageOrPostID);else if("FLBuilder"===e)s.activate_builder("FLBuilder");else{var t=i.pref.preview_url.replace(/&#038;/g,"&");i.maybeFilterNewPreviewUrl(t)}i.placeholderFrame=!1},add_window_resize_listener:function(t){e(window).on("resize",(function(){if(c.itemResising)return!1;i.timer.windowResize&&clearTimeout(i.timer.windowResize),i.timer.windowResize=setTimeout((function(){t||(d.toolbar_adjusted(),i.adjust_scroll_buttons(i.get_pg_meta(),"style"),i.adjust_scroll_buttons(!1,"responsive"),a.forceElReflow(i.stat.vis.find(".inspection_height-panel-resizer"),"top: 1px !important"),a.forceElReflow(i.stat.vis.find(".mt-main_columns-resizer-5"),"left: 99% !important")),i.reset_preview_width_for_current_tab(!1,!0,i.rulerManuallyAdjusted)}),500)}))},apply_rulers:function(t,n){var r=p.stat.front;t=(t||r.width())+50,n=(n||r.height())+50,r.children(".hRule, .vRule, .mt-ruler-corner").remove(),e("#rHighlight").after(p.generate_ruler_divs(t+50,n))},generate_ruler_divs:function(e,t){var n,r=[{angle:"h",cssPos:"left",dim:e,labelPos:18,size:18,html:""},{angle:"v",cssPos:"top",dim:t,size:18,html:""}];for(var i in r)if(r.hasOwnProperty(i))for(var a=(n=r[i]).size,o=a,s="",l="";o<=n.dim;){var c=o-a;"tickLabel"===(s=c%50==0?"tickLabel":c%10==0?"tickMajor":c%5==0?"tickMinor":"")&&(l="tickLabel"==s&&"h"==n.angle?c:"tickLabel"==s&&"v"==n.angle?"<span>"+c+"</span>":"",n.html+='<div class="'+s+'" style="'+n.cssPos+":"+o+'px"',n.html+=">"+l+"</div>"),o+=5}var u='<div class="ruler ruler-stuff hRule">'+r[0].html+"</div>";return'<div class="ruler ruler-stuff mt-ruler-corner"></div>'+('<div class="ruler ruler-stuff vRule">'+r[1].html+"</div>")+u},get_all_devices_width:function(){var t=e("#all_devices_default_width").attr("rel"),n=p.stat.front.width();return{custom:a.hasValue(t),width:t?parseInt(t):n,frameWidthAvailable:n}},fix_preview_width:function(){var e=i.get_mq_focus();"all-devices"!==e||i.get_local_window_function("get_all_devices_width").custom||i.get_local_window_function("slider_moved")(p.stat.front.width(),!1,!0,e)},determine_slider_val:function(e,t,n,r){var a=(r=r||i.get_local_window_function("get_all_devices_width")()).width;if(i.isContainerQuery(e))return a;n?a=n:t&&(a=t);var o=this.get_site_preview_width(e);return a=o||s.maybeAdjustSliderValForBuilderPreview(a)},get_site_preview_width:function(e){var t=a.checkObject(i.mqs,[e,"site_preview_width"]);if(t){var n=t.split(".");if("builder"===n[0]){var r=n[1],o=n[2];if(s.builder_breakpoints[r]){var l=s.get_builder_breakpoints(r),c=a.checkObject(l,[o,"newPreviewWidth"]);if(c)return c}}else if(t=parseInt(t),a.isNumeric(t))return t}return!1},maybe_hide_mt_highlight:function(){i.pref.mt_highlight&&i.feature_off(0,"mt_highlight",{fHTML:1,noSave:1,tmp:1}),i.stat.fHTML&&parseInt(i.pref.grid_highlight)&&i.stat.fHTML.addClass("mt-temp-hide-highlight")},maybe_reinstate_mt_highlight:function(e){"turnedOff"===i.tmp.mt_highlight&&(i.tmp.mt_highlight=!1,i.feature_on(0,"mt_highlight",{fHTML:1,noSave:1})),i.stat.fHTML&&i.stat.fHTML.removeClass("mt-temp-hide-highlight")},update_iframe_slider:function(e,n,r,o,l){a.startT(arguments);i.frameWidth;var c=i.get_local_window_function("get_all_devices_width")();i.frameWidth=c.frameWidthAvailable,l=l||p.determine_slider_val(e,n,r,c);var u=i.frameWidth;i.get_local_window_function("slider_moved")(l,n,r,i.get_mq_focus()),i.get_local_window_function("update_ruler_highlighter")(n,r),o&&p.apply_rulers(u),s.maybeShiftRulersForBuilder(),p.stat.slider.slider({min:0,max:u,value:l,start:function(e,n){if(p.maybe_hide_mt_highlight(),s.builderUnq.elementor.maybeStickNavRight(),t.integrate.gutenberg){t.integrate.gutenberg.stat.$body.addClass("mt-slider-active")}},slide:function(e,t){i.get_local_window_function("slider_moved")(t.value,n,r,i.get_mq_focus()),i.get_local_window_function("reset_mob_previews")()},change:function(e,t){p.maybe_reinstate_mt_highlight(),s.builderUnq.elementor.maybeUnstickAndPlaceNavRight(),i.screen_width_adjusted(i.intelli?"intelli":"reg")},stop:function(e,n){if(i.rulerManuallyAdjusted=n.value,t.integrate.gutenberg){t.integrate.gutenberg.stat.$body.removeClass("mt-slider-active")}}}),a.endT(arguments)},fix_rounding_mq_bug:function(e,t,n){return n?e-.7:t?e+.7:e},slider_moved:function(e,t,n,r){a.startT(arguments),i.rulerVal=e,p.set_preview_width(!0,e,t,n),p.stat.iframeWidthSpan.html("<span>"+Math.round(e)+"</span><span>px</span>"),a.action_after_timeout("slider_moving",50,{item:p.run_post_slide_actions,args:[e,r]}),a.endT(arguments)},run_post_slide_actions:function(e,t){i.get_local_window_function("check_slider_within_range")(e,t)},set_preview_width:function(e,n,r,a,o){var l,c=p.stat.frontInner,u=!1;t.integrate.gutenberg&&(l=t.integrate.gutenberg.stat.responsiveWrapper(!1,!0),u=!0),l&&l.length&&(p.stat.frontInner.width("100%"),c=l,i.animate_screen=!1),n=s.maybeAdjustPreviewWidthForBuilder(p.fix_rounding_mq_bug(n,r,a)),i.previewWidth=n;var d=n===i.frameWidth?"100%":n;i.animate_screen?c.width(i.animate_screen).stop(!0).animate({width:n},"slow",(function(){i.animate_screen=!1})):(c.width(d),u&&c.css("max-width",d))},update_ruler_highlighter:function(t,n){var r=e("#rHighlight");if(t||n){var o=(t=a.isDefined(t)?parseFloat(t):0)?t+19:19,s=(n=a.isDefined(n)?parseFloat(n):i.frameWidth)?n-t:i.frameWidth-t;r.css({left:o,width:s})}else r.removeAttr("style")},reset_mob_previews:function(){a.startT(arguments),e("#common-devices-preview").find("li").removeClass("clicked"),e("#height-screen").addClass("hidden"),a.endT(arguments)},check_slider_within_range:function(t,n){a.startT(arguments);var r=!1,o=!!i.mqs[n].min&&i.mqs[n].min,s=!!i.mqs[n].max&&i.mqs[n].max;o&&t<o&&(r=!0),s&&t>s&&(r=!0);var l=e("#current-screen-width"),c=p.stat.front.find("div.mt-ruler-corner").add(l),u="Styles added to the current tab will not have an effect at this screen width ("+t+"px)";r?(c.addClass("warn"),l.attr("title",u),i.mediaQueryNotApplying=!0):(c.removeClass("warn"),l.attr("title","Screen width: "+t+"px"),i.mediaQueryNotApplying=!1),a.endT(arguments)},set_screen_preview:function(n,r){a.startT(arguments);var o=e("#common-devices-preview").find("li.clicked");if("hover"===r&&a.isDomEl(o))return!1;o.removeClass(r),i.animate_screen=e("#v-frontend").width();var s=parseInt(n.attr("rel")),l=t.data.prog.mobPreview;p.stat.slider.slider("value",l[s][1]),i.get_local_window_function("slider_moved")(l[s][1],!1,!0,i.get_mq_focus()),e("#height-screen").removeClass("hidden").css("top",l[s][2]+19+"px"),n.addClass(r),a.endT(arguments)},unset_screen_preview:function(t,n,r){if(a.startT(arguments),"hover"==n&&a.isDomEl(e("#common-devices-preview").find("li.clicked"))||"clicked"==n)return"clicked"==n&&t.removeClass(n),!1;i.animate_screen=e("#v-frontend").width();var o=i.get_mq_focus(),s=p.determine_slider_val(o,i.mqs[o].min,i.mqs[o].max);p.stat.slider.slider("value",s),i.get_local_window_function("slider_moved")(s,i.mqs[o].min,i.mqs[o].max,o),e("#height-screen").addClass("hidden"),t.removeClass(n),a.endT(arguments)},show_rulers:function(){e("#common-devices-preview").removeClass("hidden"),d.toolbar_adjusted(),i.get_local_window_function("fix_preview_width")()},hide_rulers:function(){e("#common-devices-preview").addClass("hidden"),d.toolbar_adjusted(),i.get_local_window_function("fix_preview_width")()},shift_rulers_for_builder:function(t){var n=p.stat.front.children("div.hRule"),r=e("#rHighlight-wrap"),i=e("#rHighlight"),a=n.add(i),o="ruler-shifted-left",s=t;t>0?(a.addClass(o),s+=18):a.removeClass(o),p.stat.slider.add(r.children()).add(i).css("margin-left",t+"px"),n.css("left",s+"px")},updateSuggestionsMenuReference:function(){i.stat.suggestionsMenu=p.getSuggestionsMenuEl()},getContextMenuEl:function(){return e("#mt-context-menu")},getSuggestionsMenuEl:function(){return e("#mt-suggestions-menu")},toggle_context_menu:function(e){e.$clicked.hasClass("on")?p.close_context_menu():p.show_context_menu(e)},show_context_menu:function(e){var t=e.contextMenu||p.getContextMenuEl();if(i.context_menu_data&&p.close_context_menu(),e.offset=e.offset||i.default_context_menu_offset(e.$clicked,e),e.$content=t.find(e.filter)||e.$content.data("filter"),e.title=e.title||e.$content.data("title"),e.transformOrigin?t.attr("data-transform-origin",e.transformOrigin):t.removeAttr("data-transform-origin"),i.context_menu_data=e,!i.maybe_run_context_menu_callback("before_open",e))return!1;a.apply_offset(e.offset,t);var n=t.children(".mt-panel-header");e.hideHeader?n.addClass("header-hidden"):n.removeClass("header-hidden"),t.find(".mt-panel-title").first().html(e.title),t.children().not(e.$content).removeClass("show"),e.$content.addClass("show"),t.addClass("show expanded"),e.relatedto&&t.data("relatedto",e.relatedto),e.$clicked.addClass("on"),i.maybe_run_context_menu_callback("after_open",e),i.context_menu_data=e},close_context_menu:function(e){var t=(e=e||{}).contextMenu||p.getContextMenuEl(),n=i.context_menu_data;return(!e.filter||e.filter===n.filter)&&(!!i.maybe_run_context_menu_callback("before_close",n)&&(t.removeClass("show expanded").data("relatedto",""),a.isDomEl(n.$clicked,!0,n.clickedDoc)&&n.$clicked.removeClass("on"),i.maybe_run_context_menu_callback("after_close",n),void(i.context_menu_data=!1)))}};return p}()})),jQuery(document).ready((function(e){TvrMT.mod.MTsass={set_vars:function(){TvrMT.TvrCom,TvrMT.TvrUi,TvrMT.MTF,TvrMT.mod.MTint,TvrMT.mod.MTloop,TvrMT.mod.MTdd,TvrMT.mod.MTsave,TvrMT.mod.MTace,TvrMT.mod.MTgrid}}})),jQuery(document).ready((function(e){TvrMT.mod.MTgrid=function(){var t,n,r,i,a,o,s,l,c={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,TvrMT.mod.MTint,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,s=TvrMT.mod.MTace,TvrMT.mod.MTsass,l=TvrMT.mod.MTlayout},gridstack:{},numRows:24,numColumns:24,cellHeight:20,cellWidth:28,itemResising:!1,get_pg_fields:function(n){return e("#"+t.selInFocusID).find(".property-"+n)},bind_gridstack:function(){var n=t.stat.grid.find(".grid-control"),r=t.stat.grid.find(".graph-area"),i=n.find(".grid-stack").gridstack({cellHeight:c.cellHeight+"px",cellWidth:c.cellWidth+"px",width:c.numColumns,height:c.numRows,float:!0,verticalMargin:0,removable:!1,draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},resizable:{handles:"se, sw"}}).on("change",(function(e,t){c.itemsLoading})).on("resizestart",(function(e,t){c.itemResising=!0,c.canvas_item_clicked(t.element),c.bind_mouse_scroll(e,t.element,r)})).on("resizestop",(function(e,t){c.itemResising=!1,c.unbind_mouse_scroll(),c.grid_adjusted("items",e,t,"resized")})).on("dragstart",(function(t,n){c.itemResising=!0;var i=e(t.target);c.canvas_item_clicked(i),c.bind_mouse_scroll(t,i,r)})).on("drag",(function(e,t){c.over_clear_icon(t,!0)})).on("dragstop",(function(e,n){c.itemResising=!1,c.unbind_mouse_scroll(),t.stat.grid.find(".clear-all-grid-styles").removeClass("on"),c.grid_adjusted("items",e,n,"dragged")})).data("gridstack");this.gridstack=i,n.find(".explicit-grid").resizable({handles:"se",grid:[parseInt(i.opts.cellWidth),parseInt(i.opts.cellHeight)],minWidth:0,minHeight:0,start:function(){c.itemResising=!0},resize:function(){},stop:function(e,t){c.grid_adjusted("explicit",e,t),c.itemResising=!1}})},grid_enabled:function(e){return"grid"===e||"inline-grid"===e},get_gridM:function(){return!!t.selInFocusID&&t.get_meta(e("#"+t.selInFocusID).find("li.group-tag-grid"),"group")},clear_all_grid_styles:function(e){t.clear_data_level(e,this.get_gridM())},gridsatckItemDragOrResize:function(e,n,r){if(!t.grid.isTemplateAreas){e.id&&c.updateLookupItem(e);var i=t.grid.lookupContainer=c.get_container_el_data(t.grid.lookupContainer.$el),a=i.$el;c.positions_to_coordinates(a,i,t.grid.items),c.repositionGridNodes({})}},updateLookupItem:function(e){var n=e.id,r=t.stat.grid.find(".mt-lookup-grid").find(".lookup-item-"+n),i=c.coordinates_to_grid_area(e);r.css(i)},repositionGridNodes:function(e){for(var r=c.gridstack.grid.nodes.sort(n.firstBy("id")),i=t.grid.items,a=0;a<r.length;a++){var o=r[a],s=i[a].coordinates;o.id!==e.id&&c.gridstack.grid.moveNode(o,s.x,s.y,s.width,s.height)}},over_clear_icon:function(e,r){var i=t.stat.grid.find(".clear-all-grid-styles"),a=e.helper,o=i[0].getBoundingClientRect(),s=a[0].getBoundingClientRect(),l=n.isIntercepted(o,s);return r&&(l&&!i.hasClass("on")?i.addClass("on"):!l&&i.hasClass("on")&&i.removeClass("on")),l},grid_adjusted:function(r,a,u,d){var p,f=[],h=c.get_gridM(),_=i.get_selector_data(h),g=_.data,m={savePackage:[]},v=_.levels.concat(["styles","grid"]),y=n.checkObject(g,["styles","grid"])||{},b=_.levels.concat(["styles","grid","display_grid","value"]),w=t.grid.isTemplateAreas;if("explicit"===r){var T=e(u.element),x=T.find(".explicit-grid-toggle");p=t.title(x).toLowerCase(),f=c.resolve_template_styles(v,T,g)}else if("items"===r){for(var k=c.gridstack.grid.nodes.sort(n.firstBy("id")),S=e(a.target),C={grid_row_start:[],grid_column_start:[],grid_row_end:[],grid_column_end:[]},M=parseInt(S.data("nth")),A=t.grid.isSingleItem?0:M,O=Object.keys(C),E=!1,P=0;P<k.length;P++){var D=k[P];parseInt(D.id)===M&&(C.grid_row_start[A]=D.y+1,C.grid_column_start[A]=D.x+1,C.grid_row_end[A]=D.height+D.y+1,C.grid_column_end[A]=D.width+D.x+1,E=!0)}if(w){var j=e.extend(!0,[],k);if(c.over_clear_icon(u)){var I=parseInt(e(u.helper).data("nth"))-1;c.gridstack.removeWidget(S,!1),u.helper.remove(),j.splice(I,1),t.grid.areas.splice(I,1),c.gridstack.placeholder.detach()}var L=c.convert_node_coordinates_to_template_areas(j);L?f.push({action:"replace",trail:v.concat(["grid_template_areas","value"]),data:L}):f.push({action:"delete",trail:v,key:"grid_template_areas"}),p="template area adjusted"}else{if(c.over_clear_icon(u)&&(C.grid_row_start[A]="",C.grid_column_start[A]="",C.grid_row_end[A]="",C.grid_column_end[A]="",E=!0),E){for(P=0;P<O.length;P++){var R=O[P];n.updateObject(y,[R,"value",A],C[R][A])}n.updateObject(y,["grid_area","value",A],"")}f.push({action:"replace",trail:v,data:y}),p="grid item "+d}}i.updateObjectAndSavePackage(m.savePackage,f),c.grid_enabled(n.checkObject(t.uiData,b))||i.updateObjectAndSavePackage(m.savePackage,{action:"replace",trail:b,data:"grid"});var N="all-devices"!==h.tabSlug;if(m=i.modify_main_js_object("group_to_css",m,{M:h,domDepth:"group",mq_key:h.tabSlug,incRecurse:N,onlyRecurse:N,recurse_key:["m_query"],pre_clear:!0,clean:{selector:[["styles"],[h.groupSlug]]},cleanMaxDepth:"selector"}),t.skipGridReflow=!0,t.trigger_pg_icon_click(h.groupSlug),m=o.user_action(m,{items:["selector"],val:p,pathTT:!0,M:h,icon:"mtif-grid"}),!t.scss_enabled&&l.editor_and_gui()){var F="items"===r?".field-grid-grid_column_start":".field-grid-grid_template_columns";s.gui_to_editor(!1,t.get_meta(h.group.find(F),"property"))}t.prepareDisabledOrNotLoadingWarning(h),o.ajax_save_settings({settings:m,timerName:"gridControl"})},resolve_template_styles:function(e,t,r){for(var i=["rows","columns"],a={rows:{total:t.height()/c.cellHeight},columns:{total:t.width()/c.cellWidth}},o=[],s=0;s<i.length;s++){for(var l=i[s],u="grid_template_"+l,d=n.checkObject(r,["styles","grid",u,"value"]),p="rows"===l?"auto":"1fr",f=[],h=0;h<a[l].total;h++)d&&d[h]&&"none"!==d[h]&&(p=d[h]),f.push(p),0===p.indexOf("[")&&a[l].total++;o.push({action:"replace",trail:e.concat([u,"value"]),data:f})}return o},get_container_el_data:function(t,n,r){var i=["top","left"],a=t[0],o=["border-top-width","border-right-width","border-bottom-width","border-left-width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","grid-template-rows","grid-template-columns","grid-template-areas","column-gap","row-gap","grid-column-start","grid-column-end","grid-row-start","grid-row-end","justify-content","align-content"],s={$el:t,el:a,pos:a.getBoundingClientRect(),extra:{},innerPos:{},comp:t.css(o)};n||this.convert_computed_subgrid_to_regular(s,t,o);for(var l=0;l<i.length;l++){var u=i[l];s.extra[u]=r?c.applyCumParSubAdjust(u,r,s):(parseFloat(s.comp["border-"+u+"-width"])||0)+(parseFloat(s.comp["padding-"+u])||0),s.innerPos[u]=s.pos[u]+s.extra[u]}return e.extend(!0,s,this.calculate_line_offsets(s.comp,s.el)),s},get_item_el_data:function(e,t,r,i,a){var o=t[0].getBoundingClientRect(),s=o.left-r.innerPos.left,l=o.top-r.innerPos.top,c=e+1,u=Object.values(TvrMT.data.prog.pg_tab_props.grid.griditems).concat(Object.values(TvrMT.data.prog.pg_tab_props.grid.allgriditems));return i&&(s+=i.totalParentOffsetAdjust.left,l+=i.totalParentOffsetAdjust.top),{n:c,$item:t,title:n.get_tagName(t)+":nth-child("+c+")",pos:o,relative:{top:l,left:s},comp:t.css(u)}},update_grid_settings:function(r,i){n.startT(arguments);var a=c.get_gridM();if(!a)return{};var o=a.group.find(".property-grid"),s="TemplateRowsCols",l=o.hasClass("show-single-griditem"),u="gridareas"===t.pref.grid_focus,d=!l&&!u;l?s="singleItem":u&&(s="templateAreas");var p=e.extend(!0,{prevGSNodes:[],isAllItems:d,isSingleItem:l,isTemplateAreas:u,specificTab:s,M:a,$control:t.stat.grid},this.tab_specific_settings(a,s,i,r,o));return n.endT(arguments),p},applyCumParSubAdjust:function(e,t,n){let r=0;if(t&&Array.isArray(t)){t.length;t.forEach((function(t,n){t.parentIsSubgrid,t.isFirstTrack,t.isTarget,t.index;let i=t.padding[e]||0,a=t.border[e]||0,o=t.elMargin[e]||0;t.gap[e];r+=i+a,r+=o}))}return r},get_nearest_master_grid:function(e,t,n,r,i,a){let o=r,s=[],l=[],u="row"===t?"top":"left",d="row"===t?"y":"x",p=u,f="row"===t?"bottom":"right",h={type:t,offset:u,axis:d,box:[],totalParentOffsetAdjust:{top:0,left:0},tracksPartOrig:"",tracksPartAdjusted:"",tracksFullOrig:"",tracksFullAdjusted:"",els:[]};for(;r.parent().length;){r=r.parent();let a=t+"-gap",_=r.css(["display",n,a]),g=_[n];if(g.indexOf("subgrid")>-1){s.push({$el:r});continue}g=g.replace(/\[.*?]\s+?/g,"");let m=r,v=m,y=_,b="normal"===y[a]?0:parseFloat(y[a]),w=b,T=!1,x=g.split(/\s+/);return h.tracksFullOrig=structuredClone(x),s.reverse(),s.push({$el:o}),s.forEach((function(e,t){let r=s.length-1===t,i=e.$el,o=c.get_container_el_data(m,!0),_=c.get_container_el_data(i,!0),g=o.comp,y=_.comp,k=Math.round(o.innerPos[u])===Math.round(_.pos[d])-parseFloat(y["margin-"+u]),S={[u]:"normal"===g[a]?b:parseFloat(g[a])},C="normal"===y[a]?S[u]:parseFloat(y[a]),M=C-S[u],A=w-S[u],O=t-1,E=s[O]?s[O].parGapOffset[u]-S[u]:0,P={index:t,isTarget:r,parentIsSubgrid:T,isFirstTrack:k,$subGrid:i,parGrandParGapDiff:E,parGapDiff:A,gapDiff:M,padding:{[u]:parseFloat(g["padding-"+u])},border:{[u]:parseFloat(g["border-"+u+"-width"])},margin:{[u]:parseFloat(g["margin-"+u])},elMargin:{[u]:parseFloat(y["margin-"+u])},gap:{[u]:E/2}};e.parGapOffset=S,T&&!k&&(h.totalParentOffsetAdjust[u]+=P.padding[u]+P.border[u]+P.margin[u]+P.gap[u]),h.box.push(P);let D=y[n].replace("subgrid [] ","").split(/\[/).length-1,j=c.get_container_el_data(v,!0,h.box),I=c.get_item_el_data(0,i,j,h,k),L=c.offset_position_to_coordinates(0,I,j),R=L[d],N=R+D;l=x.slice(R,N);let F=structuredClone(l);r&&(h.tracksPartOrig=F);let q=l.length-1,U=structuredClone(x);l.forEach((function(e,t){let n=parseFloat(e),r=0===t,i=t===q;if(0!==M){n-=r||i?M/2:M}r&&(n-=parseFloat(y["padding-"+p]),n-=parseFloat(y["border-"+p+"-width"]),n-=parseFloat(y["margin-"+p])),i&&(n-=parseFloat(y["padding-"+f]),n-=parseFloat(y["border-"+f+"-width"]),n-=parseFloat(y["margin-"+f])),n<0&&(n=0),l[t]=n+"px"})),x.splice(R,D,...l);let z=structuredClone(l),B=structuredClone(x);h.tracksFullAdjusted=B,h.tracksPartAdjusted=structuredClone(l),h.els.push({$el:i,item:I,co:L,tracks:{before:F,after:z},fullTracks:{before:U,after:B},gap:C,parentGap:S[u],box:P,elContainer:_,parContainer:o,masterContainer:j}),m=i,b=C,T=!0})),e.cumAdjust=h,i[n]=l.join(" "),void(i[a]=b+"px")}},convert_computed_subgrid_to_regular:function(e,t,n){let r={any:!1,rows:!1,columns:!1},i=e.comp,a=t.hasClass("mt-lookup-grid");["rows","columns"].forEach((function(o){let s="grid-template-"+o;i[s].indexOf("subgrid")>-1&&(a?i[s]=i[s].replace("subgrid [] ","").replace(/\[]/g,"10px"):c.get_nearest_master_grid(e,o.slice(0,-1),s,t,i,n),r.any=!0,r[o]=!0)})),e.hasSubGrid=r},applyGridStyles:function(e,t,n,r,i,a,o,s,l,c,u){return i.columns&&(n["grid-template-columns"]=u,r["grid-template-columns"]="subgrid",r["grid-column-end"]="span "+l,e&&(n["column-gap"]=r["column-gap"],r["column-gap"]="")),i.rows&&(n["grid-template-rows"]=c,r["grid-template-rows"]="subgrid",r["grid-row-end"]="span "+s,e&&(n["row-gap"]=r["row-gap"],r["row-gap"]="")),a.attr("style","").css(n),o.css(r),{main:r,master:n}},tab_specific_settings:function(r,a,o,s,l){var u="singleItem"===a,d="templateAreas"===a,p=u&&s&&"html"!==s[0].tagName.toLowerCase()?s.parent():s,f=[],h=[],_={comp:"",grid_areas:[],implicit_names:[],parsed_areas:[],unique_areas:{},row_with_quotes:[]};if(!p)return c.gridstack.removeAll(),t.stat.grid.find(".explicit-grid").css({width:0,height:0}),{items:f,areas:h,templateAreas:_};var g=u?p.css("display"):o,m="grid"===g||"inline-grid"===g,v=!!u&&s.index()+1,y=t.stat.grid,b=y.find(".mt-lookup-grid-wrap"),w=y.find(".mt-lookup-grid"),T=this.get_container_el_data(p),x=T.hasSubGrid,k={},S=T.comp,C=i.get_selector_data(r).data;if(_.comp=S["grid-template-areas"],m){let t=T.lines.rows.total-1,r=T.lines.columns.total-1,i="repeat("+t+", 10px)",a="repeat("+r+", 10px)",o={"grid-template-rows":i,"grid-template-columns":a,"grid-template-areas":S["grid-template-areas"]};c.applyGridStyles(!1,T,{},o,x,b,w,t,r,i,a),_=c.parse_template_areas(_.comp,_);for(var M="",A=_.grid_areas,O=0;O<A.length;O++){for(var E=A[O],P=["start","end"],D=0;D<P.length;D++)_.implicit_names.push(E+"-"+P[D]);d&&(M+='<div class="lookup-item lookup-item-'+E+'" style="grid-area: '+E+'" >'+E+"</div>",h.push({type:"area",gridArea:E,title:E}))}p.children(":not(script):not(noscript):not(style)").each((function(t){var r=c.get_item_el_data(t,e(this),T),i={"grid-column-end":r.comp["grid-column-end"],"grid-column-start":r.comp["grid-column-start"],"grid-row-end":r.comp["grid-row-end"],"grid-row-start":r.comp["grid-row-start"],"grid-area":r.comp["grid-area"],order:r.comp.order},a=n.config_obj_to_string(i,!1,"; "),o=t+1;v===o&&(r.isSingleItem=1),d||(M+='<div class="lookup-item lookup-item-'+o+'" style="'+a+'" >'+(t+1)+"</div>"),f.push(r)})),w.html(M),k=this.get_container_el_data(w);var j=d?h:f;c.positions_to_coordinates(w,k,j),k.templateTracks=c.get_user_defined_template_tracks(C),T.explicitGrid={width:c.cellWidth*k.templateTracks.columns.total,height:c.cellHeight*k.templateTracks.rows.total},T.implicitGrid={width:c.cellWidth*(k.lines.columns.total-1),height:c.cellHeight*(k.lines.rows.total-1)},l.add(y).addClass("grid-enabled"),c.flag_subgrid(T.hasSubGrid,y)}else l.add(y).removeClass("grid-enabled"),w.html("");return{enabled:m,container:T,$container:p,lookupContainer:k,$lookupGrid:w,hasSubGrid:x,singleItemNth:v,items:f,areas:h,templateAreas:_}},flag_subgrid:function(e,t){let n="",r="";e.any?n+=" has-subgrid":r+=" has-subgrid",e.columns?n+=" has-subgrid-columns":r+=" has-subgrid-columns",e.rows?n+=" has-subgrid-rows":r+=" has-subgrid-rows",n&&t.addClass(n),r&&t.removeClass(r)},get_user_defined_template_tracks:function(e){for(var t=["rows","columns"],r={rows:{total:0},columns:{total:0}},i=0;i<t.length;i++){var a=t[i],o=n.checkObject(e,["styles","grid","grid_template_"+a,"value"]);if(o){var s="none"===o[0],l=c.parseGridTracks(o.join(" ")).lines,u=0;if(!s)for(var d=0;d<l.length&&(u++,!l[d].endLineName);d++);r[a].parsed=l,r[a].total=u}r[a].values=o}return r},styles_indent:"\n\t\t",hasTemplateAreas:function(e,t){var n=new RegExp(a.reg.quoted({inside:1}),"g");return e&&e.match(n)?!t||c.styles_indent:""},parse_template_areas:function(e,t){if(!e||"none"===e)return t;var r=new RegExp(a.reg.quoted({inside:1}),"g"),i=t;return n.iterate_string(e,r,[{item:function(e,t,n,r){var i=n[1].split(/\s/);for(e=0;e<i.length;e++){var a=i[e];"."!==a&&(r.unique_areas[a]=1)}r.grid_areas=Object.keys(r.unique_areas),r.parsed_areas.push(i),r.row_with_quotes.push(n[0])},args:[]}],i),i},add_template_area:function(e){var r=e.parent().find(".property-input"),i=r.val(),a=c.gridstack.grid.nodes.sort(n.firstBy("id")),o=a.length;if(n.isDefined(i)){for(var s=i.split(" "),l=e.closest(".property-tag").prev().find(".property-input"),u=n.checkObject(t.grid,["templateAreas","grid_areas"]),d=0;d<1;d++){var p=s[d];if(u&&n.in_array(p,u))return alert("Area already exists"),!1;r.val("");var f=o+d+1,h={class:"type-area-item "+c.core_gridstack_classes,"data-nth":f,"data-gs-id":f},_=t.stat.grid.find(".grid-canvas"),g=[],m={gridArea:p,coordinates:{x:0,y:0,width:1,height:1}};g[o]=m,t.grid.areas.push(m),c.add_remove_or_update_gridstack_node(o,_,a,g,h,p,!0)}a=c.gridstack.grid.nodes.sort(n.firstBy("id"));var v=c.convert_node_coordinates_to_template_areas(a);if(l.val(v),!t.grid.enabled){var y=r.closest(".group-tag").find(".field-grid-display_grid").find(".property-input");y.val("grid"),t.adjust_comp_span(y,"after")}t.run_input_updated(l)}},format_template_areas_nicely:function(e){var t=c.styles_indent,r=new RegExp(a.reg.quoted({inside:1}),"g"),i={formatted:""};return n.iterate_string(e,r,[{item:function(e,n,r,i){i.formatted+=t+r[0]},args:[]}],i),i.formatted?i.formatted:e},updateArrayConfig:{isArraySafe:1,action:"replace"},convert_node_coordinates_to_template_areas:function(e){for(var r=[],i=0,a="",o=0;o<e.length;o++){for(var s=["y","x"],l=["height","width"],u=e[o],d=(u.id,t.grid.areas[o].gridArea),p={},f=0;f<s.length;f++){var h=s[f],_=l[f],g=u[h],m=g+u[_]-1;p[h]={startIndex:g,endIndex:m}}for(var v=p.y.startIndex;v<=p.y.endIndex;v++)for(var y=p.x.startIndex;y<=p.x.endIndex;y++){n.updateObject(r,[v,y],d,c.updateArrayConfig);var b=r[v].length;b>i&&(i=b)}}for(var w=0;w<r.length;w++)for(var T=0;T<i;T++)n.checkObject(r,[w,T])||n.updateObject(r,[w,T],".",c.updateArrayConfig);for(var x=0;x<r.length;x++)a+=c.styles_indent+'"'+r[x].join("\t")+'"';return a},positions_to_coordinates:function(t,n,r){t.children(":not(script):not(noscript):not(style)").each((function(t){var i=c.get_item_el_data(t,e(this),n);i.coordinates=c.offset_position_to_coordinates(t,i,n),r[t].coordinates=i.coordinates}))},calculate_line_offsets:function(e,t){for(var n={lines:{columns:{offsets:{}},rows:{offsets:{}}},gap:{}},r=["rows","columns"],i=0;i<r.length;i++){var a,o=r[i],s=o.slice(0,-1),l=s+"-gap",u=c.normalise_grid_gap(e[l],s,t),d=e["grid-template-"+o],p=this.parseGridTemplate(d,u),f=p.lineOffsetsArray,h=1,_=0,g=f.length;if(n.gap[s]=u,n.lines[o].names=p.names,g>0){n.lines[o].offsets[c.to_fixed_number(_)]=h;for(var m=0;m<g;m++)h=m+2,(_+=parseFloat(f[m])+u)!==a&&(n.lines[o].offsets[c.to_fixed_number(_)]=h),a=_}n.lines[o].total=h}return n},normalise_grid_gap:function(e,t,r){var i="column"===t?"width":"height";return n.convertUnit().toPx(r,e,i)},to_fixed_number:function(e,t){return t=t||0,parseFloat(e.toFixed(t))},util:{lineTypes:["columns","rows"],lineTypesSingular:["column","row"],offsets:["left","top"],axis:["x","y"],dim:["width","height"]},offset_position_to_coordinates:function(e,t,n){for(var r={},i=c.util,a=0;a<i.lineTypes.length;a++){var o=i.lineTypes[a],s=0,l=i.lineTypesSingular[a],u=i.offsets[a],d=i.axis[a],p=i.dim[a],f=n.lines[o].offsets,h=n.gap[l],_=t.relative[u],g=-1,m=1,v=c.to_fixed_number(_),y=this.get_closest_position(v,f);if(y){g=y.value,s=y.correction;var b=this.get_closest_position(c.to_fixed_number(_+t.pos[p]+h+s),f);b&&(m=1,m=b.value-g)}r[d]=g-1,r[p]=m,y.correction&&(f[v]=g,delete f[y.actualKey])}return r},get_closest_position:function(e,t){for(var r=["-","+"],i=0;i<=3;i++)for(var a=0;a<=r.length;a++){var o=parseFloat(r[a]+i),s=e+o,l=t[s];if(n.isDefined(l))return{correction:o,suggestedKey:e,actualKey:s,value:l}}return!1},coordinates_to_offset_position:function(e){},coordinates_to_grid_area:function(e){var t=e.height+e.y+1,n=e.width+e.x+1;return{"grid-row-start":(e.y+1).toString(),"grid-column-start":(e.x+1).toString(),"grid-row-end":t.toString(),"grid-column-end":n.toString()}},core_gridstack_classes:"grid-stack-item ui-draggable ui-resizable ui-resizable-autohide",add_gridstack_widget:function(e,t,n,r){c.gridstack.addWidget(e,t.x,t.y,t.width,t.height,r,void 0,void 0,void 0,void 0,n)},add_remove_or_update_gridstack_node:function(t,r,i,a,o,s,l){var u=t+1,d="mtgi-"+u,p=r.find("#"+d),f=i[t],h=a[t];if(l=l||!1,h){var _=h.coordinates;n.isDomEl(p)?(p.attr(o).find(".grid-stack-item-content").attr("data-label",s),f?c.gridstack.update(p,_.x,_.y,_.width,_.height):c.add_gridstack_widget(p,_,u,l)):c.add_gridstack_widget(e('<div id="'+d+'" data-nth="'+u+'" class="'+o.class+'"><div class="grid-stack-item-content ui-draggable-handle" data-label="'+s+'">'+u+"</div></div>"),_,u,l)}else n.isDomEl(p)&&(c.gridstack.removeWidget(p,!1),p.addClass("mt-node-inactive"))},update_grid_canvas:function(){n.startT(arguments);var e=t.stat.grid,a=e.find(".grid-canvas"),o=e.find(".explicit-grid"),s=e.find(".implicit-grid"),l=t.grid.isSingleItem,u=t.grid.isTemplateAreas,d=t.grid.container,p=u?t.grid.areas:t.grid.items,f=u?"type-area-item":"type-nth-item",h=this.get_gridM(),_=i.get_selector_data(h,"all-devices").data,g="all-devices"===h.tabSlug?_:i.get_selector_data(h,h.tabSlug).data,m=n.isDefined(_.nth_item)?parseInt(_.nth_item):1,v=c.gridstack.grid.nodes.sort(n.firstBy("id")),y=v.length>p.length?v.length:p.length;if(c.itemsLoading=!0,y<1)r.stat.body.find("#mt-grid-highlight").find(".mtoc-line").attr("style","display: none;");else for(var b=0;b<y;b++){var w,T,x=p[b],k=b+1;if(x){var S=f,C=n.regular_escape_quotes(x.title),M=l?0:k,A=n.checkObject(g,["itemsWithValues",M])&&(!l||k===t.grid.singleItemNth);w=u?x.gridArea:k,u||(m===k&&(S+=" in-focus"),A&&(S+=" hasValues"),x.isSingleItem&&(S+=" is-single-item")),T={class:S+" "+c.core_gridstack_classes,title:C,"data-nth":k,"data-gs-id":k}}c.add_remove_or_update_gridstack_node(b,a,v,p,T,w)}s.css({width:d&&d.implicitGrid?d.implicitGrid.width+"px":0,height:d&&d.implicitGrid?d.implicitGrid.height+"px":0}),o.css({width:d&&d.explicitGrid?d.explicitGrid.width+"px":0,height:d&&d.explicitGrid?d.explicitGrid.height+"px":0}),r&&r.update_grid_highlight(t.grid),t.grid.prevGSNodes=[],c.itemsLoading=!1,n.endT(arguments)},update_nth_radios:function(){for(var e=this.get_gridM(),r=t.get_input_stems("all-devices"),a=i.get_selector_data(e,"all-devices").data,o="all-devices"===e.tabSlug?a:i.get_selector_data(e,e.tabSlug).data,s=n.isDefined(a.nth_item)?parseInt(a.nth_item):1,l=t.grid.items,c=t.stat.grid.find(".nth-item-radios"),u=t.templates.icon_inputs.group.nth_option,d=[],p=0;p<=l.length;p++){var f=p+1,h=n.checkObject(o,["itemsWithValues",f]),_=u.replace(/0/g,p).replace("name_placeholder",r.mq+"["+e.sectionSlug+"]["+e.selectorSlug+"][nth_item]");s===p&&(_=_.replace("nth-radio-control","nth-radio-control on")),h&&(_=_.replace("nth-radio-control","nth-radio-control hasValues")),d.push(_)}d.length&&c.find(".fake-radio-parent").html(d),n.forceReflow(c[0])},update_nth_item_focus:function(e,n){var r=c.get_gridM(),i=e.closest(".nth-item-option"),a=i.data("nth");o.quick_save_data(i),t.grid.isAllItems&&c.update_grid_and_radio_item_formatting("focus",{nth:a}),r.group.find("span.grid-item-num").text(": "+a),t.skipGridReflow=n,t.trigger_pg_icon_click()},update_grid_and_radio_item_formatting:function(r,i){(i.doRadio?t.stat.grid.find(".nth-item-option"):t.stat.grid.find(".grid-stack-item")).each((function(){var a=e(this),o=a.data("nth");if("focus"===r)o===i.nth?a.addClass("in-focus"):a.removeClass("in-focus");else if("itemdots"===r||"radiodots"===r){var s=n.checkObject(i,["itemsWithValues",parseInt(o)]),l="itemdots"===r?a:a.find(".fake-radio");t.update_style_signal(l,s)}}))},canvas_item_clicked:function(e){var r=e.closest(".grid-stack-item");if(!r.hasClass("in-focus"))if(t.grid.isAllItems){var i=r.data("nth"),a=t.stat.grid.find("li.nth-item-option-"+i);n.toggle_radio_checkbox(a.find(".fake-radio")),c.update_nth_item_focus(a,!0)}else t.grid.isTemplateAreas},mouseScrollConfig:{},bind_mouse_scroll:function(e,t,n){return!1},unbind_mouse_scroll:function(){},templatePattern:/\s(?![^[("]*])/,parseGridTracks:function(e){var t=new RegExp(a.reg.gridTracks(),"mg"),r={lines:[],sizesDefined:0},i={2:"name",3:"size",4:"name"};return n.iterate_string(e,t,[{item:function(e,t,n,r){for(var a=Object.keys(i),o={name:"",size:""},s=0;s<a.length;s++){var l=a[s],c=i[l];n[l]&&(o[c]=n[l].trim(),4===parseInt(l)&&r.lines[e-1]&&(r.lines[e-1].endLineName=o[c]))}o.size&&++r.sizesDefined,r.lines.push(o)},args:[]}],r),r},parseGridTemplate:function(e,t){t=t?parseFloat(t):0;for(var n=a.split_grid_tracks(e),r=[],i=[],o=[],s=0,l=0;l<n.length;l++){var c=n[l];c.includes("px")&&(n[l-1]&&!n[l-1].includes("px")||o.push(""),i.push(c)),o.push(c)}for(n[n.length-1]&&n[n.length-1].includes("px")&&o.push(""),l=0;l<o.length;l++)if((c=o[l]).includes("px"))s+=parseFloat(c.replace("px",""));else{var u={start:s-1,end:s+1,name:this.getName(c)};0!==l&&l!==o.length-1&&0!==t&&(u.gap=t,s+=t),r.push(u)}return{names:r,lineOffsetsArray:i}},getName:function(e){return e.includes("[")?e.match(/\[(.*)\]/)[1].trim():null},expand_grid:function(){}};return c}()})),jQuery(document).ready((function(e){TvrMT.mod.MTfolder=function(){let t,n,r,i,a,o,s={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave},getFolderLogic:function(e){let t=a.inputs_to_data(e),n=Object.keys(t);for(let e=0;e<n.length;e++){let r=n[e];""===t[r].trim()&&delete t[r]}return t},show_logic_testing_table:function(){e("#logic-testing-wrap").slideDown("fast")},hide_logic_testing_table:function(){e("#logic-testing-wrap").slideUp("fast")},view_test_url:function(){let n=e("#previewPath"),r=e("#testPreviewPath");n.val(r.val()),t.change_preview_url(n)},get_test_url:function(r,i){return r=r||t.format_nonlog_param(t.create_url_from_input_path(e("#testPreviewPath"))),n.append_url_param(r,"test_logic",i.sectionSlug)},extractJsonFromText:function(e){let t=e.substring(e.indexOf("{")),n={analysis:"Error testing logic",load:"No"};try{n=JSON.parse(t)}catch(e){}return n},test_folder_on_current_page:function(e,t){o.simple_ajax_request({skipQueue:1,url:s.get_test_url(r.get_current_url(),e),type:t?"POST":"GET",sendData:t,dataType:"text",cbFunction:function(t){let n=s.extractJsonFromText(t);s.update_styles_disabled_and_menu_classes(e.sectionSlug,!n.result,n)}})},maybeGetLivePostData:function(){if(r){let e=n.checkObject(r.stat.win,["parent","MTblock"]);if(e)return e.getLiveData(e.getBlockList(!0),!0)}return null},test_logic_on_page:function(i,a,l,c){let u=!s.folderNotLoading(i.sectionSlug),d=n.checkObject(t.pref.asset_loading,["conditional",i.sectionSlug]);if((!u||"empty"!==d||a)&&r){let u=e("#testPreviewPath"),d=u.val(),p=r.get_current_url(),f=t.format_nonlog_param(t.create_url_from_input_path(u)),h=n.append_url_param(f,"test_logic",i.sectionSlug),_=document.getElementById("logic-statement-analysis"),g=document.getElementById("logic-load-result"),m=p===f,v=s.maybeGetLivePostData();l&&!m&&s.test_folder_on_current_page(i,v),g.innerHTML="testing...",e(g).attr("data-eval","pending"),_.innerHTML="",o.simple_ajax_request({skipQueue:1,url:h,type:v?"POST":"GET",sendData:v,dataType:"text",plus:a?TvrLang.test_logic:"",minus:a?TvrLang.test_logic_failed:"",cbFunction:function(t){let n=s.extractJsonFromText(t),p=n.num_statements<1?n.error?"ERROR":"Global":n.num_statements+" "+(n.num_statements>1?"statements":"statement");u.val(d||f),g.innerHTML=n.load,e(g).attr("data-eval",n.resultString);let h=n.analysis.replace(/\[(false|true|result|null)]/g,'<span class="mt-test-result eval-statement" data-eval="$1">$1</span>');_.innerHTML='<span class="toggle-popdown-content toggle-logic-analysis" data-forpopup="logicAnalysis"><span class="popdown-label">'+p+'</span><div id="logicAnalysis" class="popdown-content logic-analysis"><div class="heading logic-to-analyse">Logical Condition Analysis</div><div class="condition-analysis">'+h+"</div></div></span>",s.show_logic_testing_table(),m&&s.update_styles_disabled_and_menu_classes(i.sectionSlug,!n.result,n),l&&m&&(c&&o.maybeBroadcastChanges(c),r.select_current_selector_elements({})),a&&a.removeClass("active")}})}},updateAllStyleTagsAndMenuItems:function(){s.updateMenuLoadingClasses(!0)},update_styles_disabled_and_menu_classes:function(t,n,i,a,o){var l=r.getMTDynFrontData().folderLoading,c="not all",u=r.stat.html.find('style[id$="-'+t+'"]'),d=o?u.first().attr("media")===c:s.folderNotLoading(t);(n&&!d||d&&!n)&&(u.each((function(){n?e(this).attr("media",c):e(this).removeAttr("media")})),a||("Not set"===i.logic?delete l[t]:l[t]=i.result?i.empty||i.resultIsString?i.empty?"empty":i.resultIsString:1:0)),a||s.updateMenuLoadingClasses()},reset_logic_fields:function(e){s.updateLogicFields("resetSettings",e,{})},clear_folder_logic:function(e){t.logicTextareaChanged=1,s.reset_logic_fields(e.closest(".cm-edit-folder-options")),s.save_folder_logic(e,!0)},maybeAddLogicAdjustedFlag:function(r,i){let a=n.checkObject(t.uiData.logic);a&&(i.adjusted_logic=e.extend(!0,{slug:r},a))},reorderFolderLoading:function(e){if(t.iframeEditing()){let t=r.getMTDynFrontData().folderLoading,n={};for(let r=0;r<e.length;++r){let i=e[r];void 0!==t[i]&&(n[i]=t[i])}r.setMTDynFrontData("folderLoading",n)}},addSaveLogicCallback:function(e,n,r,i,a){r.runLogicTestCallback=!0,r.cbFunction=function(e,n,r,i,a){TvrMT.data.prog.combo.recent_logic=e.recent_logic,t.pref.recent_logic=TvrMT.data.prog.combo.recent_logic,t.update_cur_item_apply_state(n,"section"),i?s.test_logic_on_page(n,a,r,e):a&&a.removeClass("active")},r.cbfArgs=[e,n,i,a]},save_folder_logic:function(r,a,l,c,u){l=l||s.getFolderLogic(r.closest(".conditional-logic-form")),u=u||{savePackage:[]};let d=(c=c||t.context_menu_data.M).sectionSlug,p=e.extend(!0,{},l,{slug:d,update_recent_logic:1}),f=t.logicTextareaChanged;u.adjusted_logic=f?p:void 0,t.logicTextareaChanged=0,l.expr&&!s.hasGlobalCondition(l.expr)?(c.sectionM.addClass("item-conditional"),n.updateObject(t.pref.asset_loading,["conditional",d],1)):(c.sectionM.removeClass("item-conditional"),n.updateObject(t.pref.asset_loading,["conditional",d],void 0)),t.update_cur_item_apply_state(c,"section"),i.updateObjectAndSavePackage(u.savePackage,{action:"replace",trail:[c.sectionSlug,"this","logic"],data:l}),s.setFolderLogicHiddenInputs(c,l),r&&(u=o.user_action(u,{items:["section"],val:t.title(r),M:c,valTT:l.label?l.label:"global",icon:"mtif mtif-folder"})),r&&r.addClass("active");var h={settings:u,noSaveDelay:1,essentialSave:1};s.addSaveLogicCallback(c,f,h,a,r),o.ajax_save_settings(h)},setFolderLogicHiddenInputs:function(t,n){t.sectionM.find("input.section-logic-input").each((function(){var t=e(this),r=t.attr("name").match(/\[([a-z_]+)]$/)[1],i=void 0!==n[r]?n[r]:"";t.val(i)}))},logic_textarea_changed:function(e){t.logicTextareaChanged=1,n.action_after_timeout("logic_edited",200,{item:function(){let t=e.closest(".conditional-logic-form"),n="mt-has-expr",r=t.hasClass(n),i=e.val().trim();i&&!r?t.addClass(n):""===i&&r&&t.removeClass(n)}})},toggle_advanced_options:function(e){let t=e.closest(".mt-cm-form"),n="show-advanced-options";t.hasClass(n)?t.removeClass(n):t.addClass(n)},toggle_popdown_content:function(e){let t=e.find(".popdown-content");e.data("forpopup");t.hasClass("expanded")?s.hide_popdown_content(t):s.show_popdown_content(t)},copyConditionText:function(){let n=e("#condition-clipboard-icon"),i=t.hoveredConditionItem.text();navigator.clipboard.writeText(i),n.addClass("isClicked"),r.after_animation(n,{cb:function(){n.removeClass("isClicked")}})},show_popdown_content:function(e){e.addClass("expanded").closest(".toggle-popdown-content").addClass("on")},hide_popdown_content:function(e){e.removeClass("expanded").closest(".toggle-popdown-content").removeClass("on")},addLogicalCondition:function(t){let n=e("#logic-to-add"),r=n.val();if(r){let i=t.data("type"),a=e("#logic-search"),o=e("#mt-logic-expressions"),l="first"===i?r:o.val()+" "+i+" "+r;o.val(l),s.logic_textarea_changed(o),n.val(""),a.val("")}},updateLogicFields:function(e,r,i){i.expr=i.expr||"";var a,o=r.find("div.conditional-logic-form"),l=o.find("div.include-or-exclude"),c=l.hasClass("on"),u=o.find("textarea#mt-logic-expressions"),d=u.val(),p=o.find("div.inline-or-stylesheet"),f=p.hasClass("on"),h=o.find("span.mt-async-toggle"),_=h.hasClass("on");i.expr!=d&&(u.val(i.expr),n.isDefined(i.expr)?o.addClass("mt-has-expr"):o.removeClass("mt-has-expr")),Boolean(i.exclude)!==c&&(a=i.exclude?1:0,t.binary_button_clicked(l.find('.binary-button-option[rel="'+a+'"]'))),Boolean(i.css_external)!==f&&(a=i.css_external?1:0,t.binary_button_clicked(p.find('.binary-button-option[rel="'+a+'"]'))),Boolean(i.css_async)!==_&&n.toggle_radio_checkbox(h),"resetSettings"===e&&(o.removeClass("mt-has-expr"),s.hide_logic_testing_table())},updateMenuLoadingClasses:function(n){t.stat.mainMenuInner.find("li.section-tag").each((function(){let t=e(this),r=t.attr("id").replace("strk-",""),i=s.folderNotLoading(r),a="item-not-loading";i?t.addClass(a):t.removeClass(a),n&&s.update_styles_disabled_and_menu_classes(r,i,{},!0,!0)})),t.update_cur_item_apply_state(t.get_selector_in_focus(),"section")},expressionContainsLogic:function(e,t){return void 0!==e&&e.match(new RegExp("(?<!!\\s*)"+n.escapeRegExp(t)))},toggle_include_exclude:function(t,n,r){var i=e("#logic-to-add"),a=i.val().trim();if(a){let e=/(!)?\s*([a-z_]+)\(([^)]*?)\)\s*$/,t=a.match(e);if(t&&(n&&!t[1]||!n&&t[1])){let r=t[0],o=n?"!"+r:""+r.replace("!","");i.val(a.replace(e,o))}}},pushAndAccountForFull:function(e,r){let i=t.checkMaxedFolder(r.slug,1);if(i&&(r.folderFull=i),e.push(r),i){let i=t.ensure_unique_name(r.label,!1,"folderWithSpace"),a=n.convert_to_param(i);t.uiData[a]||e.push({slug:n.convert_to_param(i),expr:r.expr,label:i,priority:r.priority,createNewFolder:1})}},getTrimmedTitle:function(e,t){return e?(t=t||35,e.replace(new RegExp("^(.{"+t+"}\\S*).*"),"$1")):e},strip_redundant_parameters:function(e){if(e){let t=/is_post_or_page\(\d+(,\s*".+")\)/g;e=e.replace(t,((e,t)=>e.replace(t,"")))}return e},matchFolders:function(e){let i=Object.keys(t.uiData).filter((function(t){return"non_section"!==t&&(!e.excludeSection||t!==e.excludeSection)})),a=[],o=s.strip_redundant_parameters(e.logic),l=e.asyncCheck,c=r?r.getMTDynFrontData():{},u=c.logic||null,d=r?s.getTrimmedTitle(c.title):null,p=!1;e.reverseFolderKeys&&i.reverse();for(let r=0;r<i.length;++r){let d=i[r],f=n.checkObject(t.uiData,[d,"this","logic"])||{},h=t.uiData[d].this.label,_=s.strip_redundant_parameters(f.expr),g=!s.folderNotLoading(d),m=s.folderIsEffectivelyGlobal(d,_),v=_===o,y=s.expressionContainsLogic(_,o),b=h.indexOf(e.labelRoot)>-1,w=h===e.labelCounterpart;if(("both"===e.type||"conditional"===e.type&&!m||"global"===e.type&&m)&&("logic"!==e.match||null===o||v||e.contains&&y)&&(!e.checkLoading||g)&&(void 0===l||!!f.css_async===l)&&(!e.folderBlockContext||!s.folderBlockMismatch(d,e.folderBlockContext.triggerElIsInBlockEditor,c))){let n,i=m?"global":"conditional",o=t.pref.prev_folder[i]===d;"logic"===e.match?n=v?1:y?2:3:"label"===e.match&&(n=w?1:b?2:3),s.pushAndAccountForFull(a,{slug:d,expr:_,order:r,isAsync:f.css_async?1:0,global:"global"===i?1:0,curFolder:t.curSec===d,prevFolder:o&&t.uiData[o]?1:0,labelCounterpartMatch:w,label:h,priority:n})}("conditional"===e.type&&u&&u===_||s.expressionContainsLogic(_,u))&&(p=!0)}if(e.returnList){if("conditional"===e.type&&e.addPageLogicIfMissing&&u&&!p){let r=t.ensure_unique_name(d,!1,"folderWithSpace"),i={slug:n.convert_to_param(r),expr:u,label:r,priority:1,createNewFolder:1};if(e.returnNewFolder)return i;a.push(i)}return e.sortCallback&&e.sortCallback(a),a}return e.sortCallback&&e.sortCallback(a),!!a.length&&(e.returnObject?a[0]:a[0].slug)},autoFolderOptions:function(e,r,i){var a="global"===r?TvrLang.set_initial_global_folder:TvrLang.set_initial_conditional_folder;i&&(t.pref.auto_folders_page="global"===r?0:1),t.toggle_context_menu({$clicked:e,filter:".cm-switch-folder-mode",relatedto:"auto_folders_mode",mode:r,title:a,transformOrigin:"bottom-left",noWidthOffset:1,offsetSpacingLeft:0,offsetSpacingBottom:6,before_open:function(e){e.$content.find("div.folder-options-list");let r=e.$content.find(".toggle-move-current-item");t.draftInProgress()?n.check_fake(r):n.uncheck_fake(r),MTlocal.clean_tooltips();let i="",a=s.matchFolders({type:"page"===e.mode?"conditional":"global",match:"logic",logic:null,contains:!0,checkLoading:!0,returnList:!0,addPageLogicIfMissing:!0});for(let e=0;e<a.length;++e){let r=a[e],o="",l="",c="",u="";r.createNewFolder&&(l=" mt-folder-new",o=TvrLang.new,c=' title="Create a new folder to target this page"',u=' data-create-new-folder="1"'),r.folderFull&&(l=" mt-folder-full",o="("+t.maxSelsPerFolder+"/"+t.maxSelsPerFolder+")"),r.curFolder&&(l+=" mt-folder-current",o="("+TvrLang.current+")"),r.expr&&!s.hasGlobalCondition(r.expr)&&(l+=" item-conditional"),i+='<div class="initial-auto-folder'+l+'"'+c+u+' data-expr="'+n.regular_escape_quotes(r.expr)+'" data-slug="'+r.slug+'" data-folder-badge="'+o+'">'+r.label+"</div>"}e.$content.find("div.folder-options-list").html(i)},after_close:function(e){}})},setInitialAutoFolder:function(n){let r=n.sectionSlug,i=n.sectionH;if(t.uiData[r]||(n.logic&&(t.applyLogicToFolder=n.logic),t.add_section(i)),n.move_current){let n=t.get_selector_in_focus(),a=t.draftInProgress();t.modify_selector_if_values_changed(n,a,n,e.extend(!0,{},n,{sectionSlug:r,sectionH:i}))}else t.pref.show_code_editor||(t.update_current_selector_controls(!1,{sectionH:i,selectorH:"Placeholder selector",selectorCode:"#mt-no-element"}),t.create_or_update_draft_selector(!1,!0,{}));n.closeContextMenu&&MTlocal.close_context_menu()},folderBlockMismatch:function(e,r,i){i.isAdminArea&&parseInt(t.pref.admin_asset_editing);let a=n.checkObject(i,["folderLoading",e]),o="blocksOnly"===a;return!(!i.isAdminArea||void 0===a||"empty"===a)&&(!n.in_array(e,t.draftFolders)&&r&&!o||!r&&o)},maybeUseAutoOrAvailableFolder:function(e){let i=e.sectionSlug,a=e.sectionH,o=a,l=i,c=!1,u=!!t.folderNameCustomized&&t.stat.curSecInput.val(),d=!!u&&n.convert_to_param(u);if(parseInt(t.pref.auto_folders)&&r){let p="",f="",h=parseInt(t.pref.auto_folders_page),_=s.folderIsEffectivelyGlobal(l)?0:1,g=s.folderNotLoading(l),m=_!==h,v=r.getMTDynFrontData(),y=r&&r.triggerEl&&r.triggerEl.closest("body.block-editor-iframe__body, div.is-root-container"),b={triggerElIsInBlockEditor:y,mismatch:s.folderBlockMismatch(l,y,v)},w=v.logic;if((m||b.mismatch)&&(e.forceNewFolder=!0),h){if(w){let o=s.getTrimmedTitle(v.title),f=u||o,h=parseInt(t.pref.fold_threshold),_=(r.firstElOverlay&&r.firstElOverlay.containerOffset?r.firstElOverlay.containerOffset:{top:0}).top>=h,m=n.checkObject(t.uiData,[l,"this","logic"])||{},y=s.folderIsAsync(m);if(g||e.forceNewFolder||y!==_){c=!u;let e=u?!!t.uiData[d]&&d:s.matchFolders({type:"conditional",match:"logic",logic:w,contains:!0,checkLoading:!0,folderBlockContext:b,asyncCheck:h?_:void 0,sortCallback:function(e){e.sort(n.firstBy("prevFolder",-1).thenBy("priority"))}});if(e)i=e,a=t.uiData[i].this.label;else{let e=_?" - "+TvrLang.below_fold:"";a=t.ensure_unique_name(f+e,!1,"folderName"),i=n.convert_to_param(a),v.folderLoading[i]="empty",t.applyLogicToFolder={expr:w},_&&(t.applyLogicToFolder.css_async=1,t.applyLogicToFolder.css_external=1),p="(new) "}}else if(!t.uiData[d]){let e=s.matchFolders({type:"conditional",match:"logic",logic:null,contains:!0,checkLoading:!0,returnList:!0,addPageLogicIfMissing:!0,returnNewFolder:!0});e&&e.createNewFolder&&e.slug===d&&(t.applyLogicToFolder={expr:w})}}}else if(g||e.forceNewFolder){let e=v.isBlockEditorScreen&&(!parseInt(t.pref.admin_asset_editing)||y),r=t.pref.prev_folder.global,o=u||(v.isAdminArea&&!e?TvrLang.admin_general:TvrLang.general);!u&&r&&t.uiData[r]&&!s.folderNotLoading(r)?(a=t.uiData[r].this.label,i=r):(a=o,i=n.convert_to_param(a),v.isAdminArea&&!e&&(t.applyLogicToFolder={expr:"is_admin()"})),c=!u,p="global "}t.notifyFolderChanged=!!c&&{short:"Auto folder assignment",long:"<p>The selector was moved to a "+p+"folder so that it targets the current page"+f+", from "+o+" to "+a+'</p><p>To prevent automatic folder assignment, uncheck "Auto folder" at the bottom right of the interface. You can also switch between global and page styles from there.</p>',type:"info"},l=i}return t.uiData[i]&&t.checkMaxedFolder(i,1)&&(a=t.ensure_unique_name(a,!1,"folderWithSpace"),i=n.convert_to_param(a),t.applyLogicToFolder=n.checkObject(t.uiData,[l,"this","logic"]),c||(t.notifyFolderChanged={short:tvrsprintf(TvrLang.notify_folder_limit_short,t.maxSelsPerFolder),long:"<p>"+tvrsprintf(TvrLang.notify_folder_limit_long,a,o)+"</p>",type:"info"})),{sectionSlug:i,rawSecName:a,applyLogicToFolder:t.applyLogicToFolder}},updatePrevFolder:function(e){if(t.uiData[e]){let n=s.folderIsEffectivelyGlobal(e)?"global":"conditional";t.pref.prev_folder[n]=e}},folderIsEffectivelyGlobal:function(e,r){return!s.folderIsConditional(e)||(r=r||n.checkObject(t.uiData,[e,"this","logic","expr"]),s.hasGlobalCondition(r))},hasGlobalCondition:function(e){return!!e&&e.match("^(!?)\\s*(is_admin|\\\\Microthemer\\\\is_public(?:_or_admin)?)\\(\\s*\\)$")},folderIsConditional:function(e){return n.checkObject(t.pref.asset_loading,["conditional",e])},folderIsAsync:function(e){return!!e.css_external&&!!e.css_async},folderIsDisabledForContext:function(e,t,n){let r=!1;return n&&n.isEditor&&!n.hasBlocks&&"blocksOnly"===t&&(r=!0),r},folderNotLoading:function(e,i){if(!r)return!1;let a=r.getMTDynFrontData();if(!a||"Error testing logic"===a.analysis)return!1;var o=a.folderLoading[e],l=void 0!==o,c=!l,u=n.checkObject(r,["stat","win","MTblock"])||{};return l&&!o||c&&a.isAdminArea&&(!a.isBlockEditorScreen||u&&u.isEditor||!t.adminAssetsEnabled())||i&&l&&s.folderIsDisabledForContext(e,o,u)},getFolderSelectorKeys:function(e){return t.uiData[e]?Object.keys(t.uiData[e]).filter((function(e){return"this"!==e})):[]},getSelectorDomIndexes:function(e,i){let a=e.sectionSlug,o=[],l=s.getFolderSelectorKeys(a);if(!l.length)return o;for(let e=0;e<l.length;e++){let i,s=l[e],c=t.uiData[a][s],u=c.label?n.strip_state_pseudo(c.label.split("|")[1]):"";try{i=u&&r.stat.doc.querySelector(u)}catch(e){}o.push({selectorSlug:s,id:"strk-"+a+"-"+s,domIndex:i?r.getElIndex(!1,i,!0):-1})}return i&&o.sort(n.firstBy("domIndex")),o},getPreviousSelectorBasedOnDomIndex:function(e,t){t=t||s.getSelectorDomIndexes(e,!0);let n=null,r=e.selectorM.index();for(let i=0;i<t.length;i++){let a=t[i],o=t[i-1];t.length;e.selectorSlug===a.selectorSlug&&(i===r?n=!1:o&&(n=o.id))}return n},maybeAutoSortSection:function(e,r,a){if(parseInt(t.pref.auto_folders)){if("dom"===e||"both"===e){let e,i=t.stat.mainMenuInner,a=!1,o=r.sectionSlug,l=s.folderIsEffectivelyGlobal(o),c=!l,u=!!(n.checkObject(t.uiData,[o,"this","logic"])||{}).css_async,d=t.uiData[o].this.label,p=d.split(new RegExp("_\\d+|Copy \\d+|- "+TvrLang.below_fold))[0],f=" - "+TvrLang.below_fold,h=u?d.replace(f,""):d+f,_=s.matchFolders({reverseFolderKeys:!0,excludeSection:o,type:c?"conditional":"global",match:"label",labelRoot:p,labelCounterpart:h,returnObject:!0,sortCallback:function(e){e.sort(n.firstBy("global",c?1:-1).thenBy("priority").thenBy("order"))}});if(!1===_)l&&(a=!0,r.sectionM.detach().prependTo(i));else{a=!0,e=r.sectionM.detach();let t="#strk-"+_.slug;c&&_.labelCounterpartMatch&&!u&&_.isAsync?e.insertBefore(t):e.insertAfter(t)}return a&&n.hasValue(t.selInFocusID)&&t.update_prev_next_sel_buttons(t.selInFocusID),a}if("js"===e||"both"===e)return a=i.reorder_after_copy(a,r.sectionM,!0),t.update_prev_next_sel_buttons(t.selInFocusID),a}return!1},maybeAutoSortSelector:function(e,n,r){let a=!1;if(parseInt(t.pref.auto_folders)){if("dom"===e||"both"===e){let e=s.getPreviousSelectorBasedOnDomIndex(n);if(!1!==e){a=!0;let t=n.sectionM.find("ul.selector-sub"),r=n.selectorM.detach();null===e?r.prependTo(t):r.insertAfter("#"+e)}t.scrollIntoView(t.folders_scrollable_area(),n.selectorM)}if("js"===e||"both"===e)return r=i.reorder_after_copy(r,n.selectorM,!0),t.update_prev_next_sel_buttons(t.selInFocusID),r}else"dom"===e&&t.scrollIntoView(t.folders_scrollable_area(),n.selectorM);return a},autoSortfolderListelectors:function(){},updateDraftFolderInSession:function(e,n){let r=n?"&delete_value=1":"";o.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_draft_folder_session=1"+r,sendData:o.serialized_data_with_single_key(JSON.stringify(e)),skipQueue:1})}};return s}()})),jQuery(document).ready((function(e){TvrMT.mod.MThtml=function(){let t,n,r,i,a,o,s,l,c,u={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,s=TvrMT.mod.MTace,l=TvrMT.mod.MTfolder,c=TvrMT.mod.MTai},esbuild:null,refreshPreview(r){r&&r[0].isConnected&&r.removeClass("tvr-pulse");let i=e("div.amender-inspect-buttons").find(".amender-inspect-button.active");n.isDomEl(i)?u.inspectButtonClicked(i):t.change_preview_url(t.stat.settingsMenu.find(".change-preview-url"))},getAspectType:function(e){return this.isAttribute(e)?"attributesString"===e?"attributesString":"attribute":e},checkValidCombo:function(e,t){let n=this.getAspectType(t),r={text:1,html:1,innerHTML:1},i={parentWrapper:1,childWrapper:1},a={css:1,js:1,jsFunction:1};switch(e){case"add":case"prepend":case"append":return!0;case"insertBefore":case"insertAfter":return!i[n];case"replace":case"replaceSubstring":return!i[n]&&!a[n];case"lazyLoad":return"html"===n;case"move":return r[n];case"remove":return!a[n];case"run":return"js"===n||"jsFunction"===n}return!0},generateRandomString(e=12){const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(36*Math.random()));return n},generateSecureKey(e=20){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=new Uint8Array(e);window.crypto.getRandomValues(r);for(let i=0;i<e;i++)n.push(t[r[i]%62]);return n.join("")},attemptXPathConversion:function(e){let t="";try{t=TvrMT.convertToXpath(e)}catch(e){}return t},resolveSelectorXpath:function(e,t){let n=u.attemptXPathConversion(t);return e.val(n),n},resolveLazyId:function(e,t){"lazyLoad"!==t?e.val(""):e.val()||e.val(u.generateSecureKey())},resolveRelativeDom:function(e,t){return e||t?JSON.stringify(a.to_relative_dom_array(e,t,!0)):""},checkValidSnippetAndSetMeta:function(e,t,n,r){let i=t.val(),a=n.val();return a=u.storeSnippetInCache(n,a,u.getOrCreateSnippetName(i,a),i,r),u.snippetChanged=a,""!==i?n.val(a).data("resume-id","").attr("value",a).attr("data-resume-id",""):n.val("").data("resume-id",a).attr("value","").attr("data-resume-id",a),!0},getRelevantSnippets:function(e){let n=t.get_meta(e,"group"),{aspect:r}=u.getFieldValues(n.groupTab,n,!0);return u.getTemplateNameComboData({filter:{key:"aspect",value:r}})},getTemplateNameComboData:function(e){e=e||{};let t=Object.entries(TvrMT.data.dyn.snippets.cache).map((([e,t])=>({...t,id:t.id||e})));t.sort(n.firstBy("aspect"));e.filter;let r=u.relatedAspects;if(e.filter){let i=t.filter((t=>t[e.filter.key]===e.filter.value||r.includes(t[e.filter.key])&&r.includes(e.filter.value)));i.sort(n.firstBy("mysql_date",-1)),i=i.map((e=>({...e,category:e.aspect||"",label:e.name})));let a=[];return e.newItem&&a.push({category:"Create new",label:e.newItem.label,mode:e.newItem.mode}),a.concat(i)}return t.sort(n.firstBy("mysql_date",-1)),t},updateEditorHeight:function(){if(t.doNotUpdateEditorHeight)return;let n=s.eds["snippet-code"];n&&s.editor_update_height(n,e(n.container),17.38*s.getWrappedLineCount(n)+2,1,"snippet-code")},destroyStaleSnippetEditor:function(){s.eds["snippet-code"]&&(s.eds["snippet-code"].destroy(),delete s.eds["snippet-code"])},quickBeautify(e,t){let r="css"===e?"css_beautify":"javascript"===e?"js_beautify":"html_beautify",i="css"===e?{}:"javascript"===e?{space_before_conditional:!0}:n.beautifyHTMLOpts;if("js_beautify"===r)try{const e=TvrMT.ai.beautify.esprima.parse(t,{ecmaVersion:2022,locations:!0});t=TvrMT.ai.beautify.escodegen.generate(e,{format:{indent:{style:"  "},space:" "}})}catch(e){return t}else window[r]&&(t=window[r](t,i));return"css"!==e&&"javascript"!==e||(t=t.replace("{}","{\n\t\n}")),t},updateSnippetEditor:function(r,i){i&&(r.code=u.quickBeautify(r.mode,r.code)),s.update_arbitrary_editor({context:"snippetCode",editorID:"snippet-code",filterClass:"snippet-code",mode:r.mode,directContent:r.code}),u.updateEditorHeight();let a=e("#snippet-code"),o=!!a.length&&t.get_meta(a,"group");if(o){let e=o.groupTab.find(".field-html-aspect").find(".property-input"),n=a.prev("textarea");u.maybeSetAspectFromMode(o,e,r.mode,r.code,r.aspect),n.val(r.code),t.adjust_comp_span(n,"after"),r.presentChoice&&u.displaySnippetChoiceOverlay(o,"display-load-choice",".field-html-snippet pre")}r.selectText&&n.action_after_repaint({item:function(){s.select_text(r.selectText,s.eds["snippet-code"],!0)},args:[]},50,window)},displaySnippetChoiceOverlay:function(t,n="",r=".field-html-text textarea, .field-html-text .wp-editor-wrap"){t.groupTab.find(r).each((function(){e(this).addClass("display-choice "+n)}))},detachSyncedSnippet(r){let i=t.get_meta(r,"property"),a=r.closest(".snippet-header-item");u.snippetChoiceMade(i.property.find(".snippet-choice-clone"),{detachedLater:1}),a.attr("data-sync-state","unsynced"),n.action_after_timeout("detach_snippet",2e3,{item:function(){a[0]&&a[0].isConnected&&a.slideUp("slow",(function(){e(this).removeClass("show").attr("style","").attr("data-sync-state","synced")}))}})},searchSnippetUsage(e){let n=t.get_meta(e,"property"),{snippet_id:r}=u.getFieldValues(n.groupTab,n,!0);t.show_folders_or_settings("folders","left"),t.stat.mainMenu.addClass("user-searching"),t.stat.searchFoldersInput.val(r),t.search_folders(r)},snippetChoiceMade:function(e,r={}){let i=e.data("option"),a=t.get_meta(e,"property"),s=a.property.find("textarea.property-input");const{$snippet_id:l,$snippet:c,$text:d,snippet_id:p,aspect:f,$snippetName:h}=u.getFieldValues(a.groupTab,a,!0);let _=a.property.find(".sync-snippet-options");if("original"===i)r.detachedLater||_.addClass("show");else if("clone"===i){let i=u.generateSecureKey(),c=TvrMT.data.dyn.snippets;if(c.cache[p]){let r=structuredClone(c.cache[p]);if(r.name){let e=r.name.match(/ - duplicate(?: (\d+))?$/);if(e){let t=e[1]?parseInt(e[1],10)+1:2;r.name=r.name.replace(/ - duplicate(?: (\d+))?$/,` - duplicate ${t}`)}else r.name+=" - duplicate";n.updateObject(r,["meta","manual_name"],r.name),h.val(r.name)}c.cache[i]=r,c.cache[i].changed=1,l.val(i),t.skipInputHistory=!0,o.ajax_save_settings({noSaveDelay:1,$property:s,settings:o.user_action({},{items:["property"],val:t.title(e)+": "+p,M:a,pathTT:!0,icon:"mtif mtif-copy"})})}r.detachedLater||_.removeClass("show")}else"change-aspect"===i?(u.updateSnippetAspect(p,f),t.skipInputHistory=!0,o.ajax_save_settings({noSaveDelay:1,$property:s,settings:o.user_action({},{items:["property"],val:t.title(e)+": "+p,M:a,pathTT:!0,icon:"mtif mtif-aspect"})})):"create-snippet"===i&&(u.clearSnippetFields(l,d,c,u.useCodeEditor(f),f,h),t.refresh_comp_css());a.groupTab.find(".display-choice").removeClass("display-choice display-load-choice display-aspect-choice")},clearSnippetFields:function(e,n,r,i,a,o,s=!0){e.val("").data("resume-id",""),n.val(""),t.adjust_comp_span(n,"after"),r.val(""),o.val(""),i?(u.skipEditorChangeSave=!0,u.updateSnippetEditor({code:"",mode:u.getModeFromAspect(a)}),t.adjust_comp_span(r,"after")):u.tinymce.available()&&u.tinymce.update("",!0,!0),s&&t.refresh_comp_css()},beautifyPaste:function(e,r,i,a){let o=s.eds["snippet-code"],l=o.getSession(),c=u.quickBeautify(e.mode,e.code),d=l.getUndoManager().$undoStack;o.setValue(c,-1),o.moveCursorTo(i.row,i.column),o.focus(),t.doNotUpdateEditorHeight=!1,u.updateEditorHeight(),n.action_after_timeout("merge_undo",1,{item:function(){if(d.length>1){const e=d.pop(),t=d[d.length-1];t[0].deltas=t[0].deltas.concat(e[0].deltas)}}})},maybeInitNewSnippet:function(e){e.hasClass("ace_editor")||(u.skipEditorChangeSave=!0,u.updateSnippetEditor({code:"",mode:u.getModeFromAspect(u.getAspect(e))}),s.eds["snippet-code"].focus())},placeHolderSingleFunction:function(){return"function exampleFunction(element, event){\n\t\n}"},placeHolderCSSSelector:function(e){return e+" {\n\t\n}"},loadSnippet:function({M:e,referenceId:r,$snippet:i,group:s,mode:l,aspect:c,presentChoice:d,index:p,attsData:f,$text:h,switchingSnippet:_}){if(!(r=r||n.checkObject(s,["snippet_id","value",p])))return i&&t.adjust_comp_span(i,"after"),void(h&&t.adjust_comp_span(h,"after"));let g=n.checkObject(TvrMT.data.dyn.snippets,["cache",r]),m=!(!g||void 0===g.value)&&g.value;if(!1!==m){const{$aspect:n,$snippet_id:s,groupIndex:l,$snippetField:p,$textField:f}=u.getFieldValues(e.groupTab,e);if(s.val()!==r&&s.val(r).attr("value",r),c!==g.aspect){c=g.aspect,n.val(c),t.adjust_comp_span(n,"after");let r=u.presetTabData(l);u.updateTabData(e,{aspect:c},r),u.maybeAdjustFieldDisplay(e,r)}let v=u.useCodeEditor(c),y=u.snippetsInUse(g);v?(i.val(m),u.skipEditorChangeSave=!0,u.updateSnippetEditor({code:m,mode:u.getModeFromAspect(c),presentChoice:d},!1)):h&&(h.val(m),t.adjust_comp_span(h,"after"),"text"===c&&parseInt(t.pref.mt_rich_text)?u.tinymce.update(m,!0,!0):u.tinymce.unbind(),d&&"text"===c&&u.displaySnippetChoiceOverlay(e,"display-load-choice"));let b=v?p:f;if(this.updateSnippetSyncHeader(b.find(".sync-snippet-options"),y),_){let t=a.dom_to_data({M:e,domDepth:"selector"});o.ajax_save_settings({noSaveDelay:1,$property:v?i:h,settings:o.user_action(t,{items:["property"],val:TvrLang.load_snippet+": "+g.name,M:e,pathTT:!0,icon:"mtif mtif-leaf-solid"})})}}},updateSnippetSyncHeader(e,t){t>1?e.addClass("show"):e.removeClass("show"),e.find(".snippet-usage-count").attr("data-usage-count",t)},codeIsSingleFunction(e){if(!e)return e;let t=e.match(/^\s*(\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\s*function\s+(?<function_name>\w+)\s*\([^)]*\)\s*\{[\s\S]*?\}\s*(\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\s*$/);return!(!t||!t.groups)&&t.groups.function_name},importStatement:function(e,t,n){let r=`npm/${t}.js`;return n&&n.match(r)?"":`import ${e} from '${t}';\n`},updateDeps:function(e,t,n,r){n[t]={importSyntax:e}},findDependenciesFromImports(e){let t,n={},r=u.importStatementRegex();for(;null!==(t=r.exec(e));){const e=t[1].trim(),r=t[2].trim();r.match(/\.jsm?$/)||n[r]||(n[r]={importSyntax:e})}return n},findDependenciesFromVars:function(e,t){const r={};if(!e||"string"!=typeof e||t&&["css"].includes(t))return r;const i=["CustomEase","Draggable","Observer","Flip","MotionPathHelper","SplitText","ScrollSmoother","CustomWiggle","CustomBounce","GSDevTools"],a={"scrollTrigger:":"ScrollTrigger","easel:":"EaselPlugin","motionPath:":"MotionPathPlugin","pixi:":"PixiPlugin","scrollTo:":"ScrollToPlugin","text:":"TextPlugin","morphSVG:":"MorphSVGPlugin","drawSVG:":"DrawSVGPlugin","inertia:":"InertiaPlugin","physics2D:":"Physics2DPlugin","physicsProps:":"PhysicsPropsPlugin","scrambleText:":"ScrambleTextPlugin"},o={strings:["slow","rough"],functions:["SlowMo","RoughEase","ExpoScaleEase"],stringPatterns:[{regex:/\bexpoScale\s*\(/,pluginConcept:"EasePack"}]},s=["GLTFLoader","DRACOLoader","OrbitControls","TransformControls"],l=(t,n=!1)=>{u.updateDeps("gsap","gsap",r,e);let s=null;if(n){const e=t.endsWith(":")?t:t+":";if(a[e])s=a[e];else if(a[t])s=a[t];else{let e=!1;if(o.strings.includes(t))e=!0;else if(o.functions.includes(t))e=!0;else if("string"==typeof t){o.stringPatterns.find((e=>e.regex.test(t)))&&(e=!0)}e&&(s="EasePack")}}else i.includes(t)&&(s=t);s&&u.updateDeps(s,"gsap/"+s,r,e)},c=t=>{if(u.updateDeps("* as THREE","three",r,e),s.includes(t)){const n=u.getPackNameFromAddonName(t,"three/examples/jsm/loaders/"+t+".js");u.updateDeps("{ "+t+" }",n,r,e)}},d=(t=null)=>{if(u.updateDeps("Alpine","alpinejs",r,e),t){let i=t;"trap"===t&&(i="focus"),u.updateDeps(n.capitalizeFL(t),"@alpinejs/"+i,r,e)}};try{!function e(t,n=!1){if(!t||"object"!=typeof t)return;let a=n;switch(t.type){case"Identifier":"gsap"===t.name?l():i.includes(t.name)?l(t.name):o.functions.includes(t.name)&&n?l(t.name,!0):"Alpine"===t.name?d():"THREE"===t.name?c():s.includes(t.name)&&c(t.name);break;case"Literal":n&&"string"==typeof t.value&&l(t.value,!0);break;case"CallExpression":case"NewExpression":let u=t.callee,p=!1;if(u)if(e(t.callee,n),"Identifier"===u.type)"gsap"===u.name?(l(),p=!0):i.includes(u.name)?(l(u.name),p=!0):s.includes(u.name)?c(u.name):o.functions.includes(u.name)&&n&&l(u.name,!0);else if("MemberExpression"===u.type&&u.object&&"Identifier"===u.object.type){const e=u.object.name,t=u.property&&"Identifier"===u.property.type?u.property.name:null;"gsap"===e?(l(),p=!0):"Alpine"===e?d():"THREE"===e?c():"AF"===e&&t&&(r["tvrjs-"+t]={},r.has_func_ref=1)}return a=n||p,void(t.arguments&&t.arguments.forEach((t=>e(t,a))));case"ObjectExpression":return a=n,void(t.properties&&t.properties.forEach((t=>{if("Property"===t.type){e(t.key,a);let n=null;"Identifier"===t.key.type?n=t.key.name:"Literal"===t.key.type&&"string"==typeof t.key.value&&(n=t.key.value),n&&a&&l(n,!0),e(t.value,a)}})))}for(const n in t)if(t.hasOwnProperty(n)){if(!("CallExpression"!==t.type&&"NewExpression"!==t.type||"callee"!==n&&"arguments"!==n))continue;if("ObjectExpression"===t.type&&"properties"===n)continue;if("Property"===t.type&&("key"===n||"value"===n))continue;const r=t[n];Array.isArray(r)?r.forEach((t=>e(t,a))):r&&"object"==typeof r&&e(r,a)}}(TvrMT.ai.beautify.esprima.parseScript(e,{tolerant:!0,loc:!1,range:!1,jsx:!0}))}catch(e){}const p=new RegExp(["\\b(?<alpine_directive>x-[\\w:-]+(?:=['\"][^'\"]*['\"])?)","(?<alpine_event>@\\w+(?:\\.\\w+)*=['\"][^'\"]*['\"])"].join("|"),"g");let f;for(;null!==(f=p.exec(e));)if((f.groups.alpine_directive||f.groups.alpine_event)&&(d(),f.groups.alpine_directive)){const e=f.groups.alpine_directive.match(/x-(mask|intersect|resize|persist|focus|trap|collapse|anchor|morph|sort)/);e&&d(e[1])}return/\bnew\s+Chart\s*\(/.test(e)&&u.updateDeps("{ Chart }","chart.js/auto",r,e),r},getPackNameFromAddonName(e,t){for(const[t,n]of Object.entries(TvrMT.data.prog.native_packages))if(n.addonName===e)return t;return t},getAspect:e=>t.get_meta(e,"group").groupTab.find(".field-html-aspect").find(".property-input").val(),matchCodeType:function(e){let t;let r=e.match(/^(?<customhtml>\s*[^<]*<[\w\W]+>)|(?<css>\s*(\/\*[\s\S]*?\*\/)?\s*(@[\w-]+|[.#\w-]+\s*\{))|(?<javascript>\s*(\/\*[\s\S]*?\*\/)?\s*(class|function|var|let|const|if|for|[\w$]+\s*=))/g);return t=n.checkObject(r,["groups","customhtml"])?"customhtml":n.checkObject(r,["groups","css"])?"css":"javascript",t},getModeFromAspect:function(e,t){let n="customhtml";if(e){let t=e.match(/^(css|js|function)/);t&&(n="css"===t[1]?"css":"javascript")}else t&&(n=u.matchCodeType(t));return n},getAspectFromMode:function(e,t){let n="html";switch(e){case"css":n="css";break;case"javascript":n=u.codeIsSingleFunction(t)?"jsFunction":"js"}return n},setAspectIfDifferent:function(e,n,r){(e.val()||t.defaultTabValues.html.defaults.aspect)!==n&&e.val(n)},maybeSetAspectFromMode:function(n,r,i,a,o){if(s.eds["snippet-code"]){let n=t.get_meta(e("#snippet-code"),"group").groupTab.find(".field-html-aspect").find(".property-input");o?u.setAspectIfDifferent(n,o,a):i!==u.getModeFromAspect(n.val())&&(o=u.getAspectFromMode(i,a),u.setAspectIfDifferent(n,o,a))}},updateSnippetAspect:function(e,t){let n=TvrMT.data.dyn.snippets;e&&n.cache[e]&&(n.cache[e].aspect=t,n.cache[e].changed=1)},switchEditorMode:function(e){let t=s.eds["snippet-code"];if(t){let n=u.getModeFromAspect(e);t.getSession().setMode("ace/mode/"+n)}},maybeAppendSnippets:function(e){let t="";if(TvrMT.data.dyn.ui_config.supportContent){let r=n.checkObject(e,["styles","html","snippet_id","value"]);r&&r.forEach((e=>{if(e){let n=TvrMT.data.dyn.snippets.cache[e];n&&"css"===n.aspect&&(t+="/*^^ css snippet ("+e+") ^^*/\n"+n.value+"\n")}}))}return t},maybeAddSnippetsToPostData:function(e){let t=TvrMT.data.dyn.snippets||{},r=t.cache||{},i={},a=t.deleted,o=a&&n.obj_length(a)?structuredClone(a):null;Object.entries(r).forEach((([e,t])=>{t.changed&&(i[e]=t,delete t.changed)})),o&&Object.entries(o).forEach((([e])=>{delete TvrMT.data.dyn.snippets.deleted[e]})),e.snippet_cache=n.obj_length(i)?i:null,e.snippets_deleted=o},deleteSnippet(e){delete TvrMT.data.dyn.snippets.cache[e],TvrMT.data.dyn.snippets.deleted[e]=1},snippetsInUse:e=>e.meta?.usage?parseInt(e.meta.usage):0,menuDeleteSnippet(e){const r=t.get_pg_meta();let i=e.data();if(r&&i.snippetId){let{$search:s,$snippet_id:l,$text:c,$snippet:d,$snippetName:p,aspect:f}=u.getFieldValues(r.groupTab,r,!0),h=i.snippetId,_=TvrMT.data.dyn.snippets.cache[h];if(!u.snippetsInUse(_)||window.confirm('Snippet "'+h+'" is in use, are you sure you want to delete it?')){u.deleteSnippet(h),l.val()===h&&u.clearSnippetFields(l,c,d,u.useCodeEditor(f),f,p);a.dom_to_data({M:r,domDepth:"selector"});o.ajax_save_settings({noSaveDelay:1,settings:o.user_action({},{items:["property"],val:TvrLang.delete_snippet+": "+h,M:r,pathTT:!0,icon:e.attr("class")})}),n.action_after_timeout("reset_slider_to_computed",150,{item:function(){t.maybeReflowCombo(s,1,1,u.getRelevantSnippets(s),"curVal")}})}else t.maybeReflowCombo(s,1,1,u.getRelevantSnippets(s),"curVal")}},snippetAction:function(e){const n=e.data(),r=t.get_meta(e,"property"),i=r.property.find("textarea.property-input"),{$snippet_id:a,snippet_id:s,$text:l,$snippet:c,aspect:d,snippet:p,text:f,$snippetName:h}=u.getFieldValues(r.groupTab,r,!0),_=u.useCodeEditor(d);if("beautify"===n.action){let e=_?p:f,t=u.getModeFromAspect(d),n=u.quickBeautify(t,e);i.hasClass("snippet-textarea")?u.updateSnippetEditor({code:n,mode:t}):i.val(n)}else"new"!==n.action&&"delete"!==n.action||(u.clearSnippetFields(a,l,c,u.useCodeEditor(d),d,h),"delete"===n.action&&s&&u.deleteSnippet(s));o.ajax_save_settings({noSaveDelay:1,settings:o.user_action({},{displayItems:[t.title(e)],M:r,pathTT:!0,icon:e.attr("class")})})},storeSnippetInCache:function(e,t,r,i,a){t||(t=e.data("resume-id")||u.generateSecureKey(),e&&e.val(t).attr("value",t));let o,s=TvrMT.data.dyn.snippets.cache[t],l=s&&s.meta?s.meta:{usage:1},c=u.findDependenciesFromVars(i,a);return l.auto_script_deps=c,n.obj_length(l.auto_script_deps)||delete l.auto_script_deps,l.imported_script_deps=u.findDependenciesFromImports(i),n.obj_length(l.imported_script_deps)||delete l.imported_script_deps,"jsFunction"===a&&(o=u.codeIsSingleFunction(i),o&&(l.funcName=o)),o||delete l.funcName,TvrMT.data.dyn.snippets.cache[t]={name:r,value:i,meta:l,aspect:a,func_ref:c.has_func_ref?1:0,changed:1,mysql_date:u.getMySQLTimestamp()},t},snippetTemplateSelected:function(e,n,r,i){let a=n.item.id||"",o=n.item.mode,s=o?n.item.label:void 0,l=t.get_meta(r,"property");const{$text:c,$snippet:d,$snippet_id:p}=u.getFieldValues(l.groupTab,l,!0);l.property.find("textarea.property-input");p.val(a),a&&(r.hasClass("mt-load-snippet")&&(n.item.value="",r.val("")),u.loadSnippet({M:l,referenceId:a,$snippet:d,group:null,index:l.groupIndex,mode:o,aspect:s,presentChoice:!!a,$text:c,switchingSnippet:1}))},isValidHTML:function(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("parsererror");let n=null;if(t){const t=document.createElement("div");t.innerHTML=e,n=t.innerHTML}return{error:t,corrected:n}},ensureUniqueFunctionName:function(e,t){let n=Object.values(TvrMT.data.dyn.snippets.cache);n=n.filter((e=>e.id!==t));let r={};n.forEach((e=>{"jsFunction"===e.category&&(r[e.name]=1)}));let i=e,a=2;for(;r[e];)e=i+a,a++;return e},extractJunctureInfo:function(e){let t={};return e.includes("_once")&&(t.once=1,e=e.replace("_once","")),e.includes("_delay")&&(e=e.replace(/(\w+)_delay(?:_(\d+))?/,((e,n,r)=>(t.delay=r?parseInt(r,10):18,n)))),e.includes("_lazy")&&(t.lazy=1,e=e.replace("_lazy","")),t.native=e,t},getCaretPosition(e,t){let n=0;if(t.rangeCount>0){let r=t.getRangeAt(0),i=r.cloneRange();i.selectNodeContents(e),i.setEnd(r.startContainer,r.startOffset),n=i.toString().length}return n},placeholderOverlayClicked(e){let n=t.get_meta(e,"property"),{action:r,aspect:i,$text:a,$snippet_id:o,snippet_id:l,$snippet:c}=u.getFieldValues(n.groupTab,n,!0),d=n.propertySlug,p=n.property.find(".property-input"),f="text"===d,h=a[0],_=e[0],g=window.getSelection(),m=u.getCaretPosition(_,g),v=_.innerText;if(i||(i="html"),f)h.value=v,h.focus(),h.setSelectionRange(m,m),h.scrollTop=0;else{let e=u.getModeFromAspect(i),t="jsFunction"===i;if(u.skipEditorChangeSave=!0,u.updateSnippetEditor({code:v,mode:e,aspect:i,selectText:t?"exampleFunction":null},!1),!t){let e=s.eds["snippet-code"];if(e){let t=e.session.getDocument().indexToPosition(m);e.moveCursorTo(t.row,t.column),e.focus()}}}e.addClass("hidden"),t.adjust_comp_span(p,"after"),u.uiFieldAdjusted(n,p)},presetTabData:function(e,n="html",r=!0){if(r){let r=t.getLastMultiTab(n);if(r&&parseInt(r.index)===e)return r}return t.defaultTabValues.html.values[e]},toggleActionAspect:function(e){let n=parseInt(e.attr("data-showing"))?0:1,r=t.get_meta(e,"group");u.adjustActionAspectDisplay(r,n,e)},updateTabData:function(e,n,r,i="html"){let a=e.groupTab.find(".multi-tab.active");a.length&&(Object.entries(n).forEach((([e,n])=>{n=n||(r?r[e]:t.defaultTabValues.html.defaults[e]),a.find(".mt-tab-txt").attr("data-"+e,n),t.pref.lastMultiTab[i][e]=n})),t.saveMultiTab())},adjustActionAspectDisplay:function(n,r,i){let{$actionField:a,$aspectField:o}=u.getFieldValues(n.groupTab,n),s=a.add(o);r?(s.addClass("show").find(".property-input").each((function(){t.adjust_comp_span(e(this),"after")})),i.attr("data-showing",1),t.refresh_comp_css()):(s.removeClass("show"),i.attr("data-showing","0"))},uiFieldAdjusted:function(e,i){let{groupIndex:a,$action:o,action:s,$aspect:l,aspect:c,$text:d,text:p,$snippet_id:f,snippet_id:h,$snippet:_,snippet:g,$xpath:m,$lazy_id:v,move_to_selector:y,move_to_relative:b,$move_relative_dom:w,$enable:T,enable:x,find:k,tag:S,lazy_id:C,$snippetName:M}=u.getFieldValues(e.groupTab,e,!0),A=u.presetTabData(a);c||(c=A.aspect);let O=u.resolveSelectorXpath(e.selectorM.find("input.selector-xpath"),e.selectorCode),E=e.propertySlug,P=i.val(),D=n.get_js_object_data([e.sectionSlug,e.selectorSlug,"styles",e.groupSlug],e.tabSlug).data;D&&(D=structuredClone(D));let j=n.checkObject(D,["aspect","value",a])||"",I=j!==c;if(n.updateObject(t.uiData,[e.sectionSlug,e.selectorSlug,"xpath"],O),"selector"===E&&u.resolveSelectorXpath(m,P),"action"!==E&&"aspect"!==E||u.updateTabData(e,{[E]:u.actionAspectFallback(P,E,a)},A),"action"===E);else if("aspect"===E){if(I){let i=u.useCodeEditorOrText(j),o=u.useCodeEditorOrText(c),l=u.useCodeEditor(j),m=u.useCodeEditor(c),v=n.checkObject(D,["snippet_id","value",a]),y=v?TvrMT.data.dyn.snippets.cache[v]:null,b=y?y.value:"";if(y)if(o&&o===i)if(l&&!m?(p=b,d.val(b),o&&u.tinymce.available()&&u.tinymce.update(b,!0,!0),t.adjust_comp_span(d,"after")):!l&&m&&(g=b,_.val(b),u.skipEditorChangeSave=!0,u.updateSnippetEditor({code:b,mode:u.getModeFromAspect(c)}),t.adjust_comp_span(_,"after")),u.relatedAspects.includes(j)&&u.relatedAspects.includes(c)){let e=["text","innerHTML"],t=["html"],n=r.triggerEl&&r.triggerEl[0].isConnected?r.triggerEl[0]:null,i=!1;n&&"replace"===s&&(e.includes(j)&&t.includes(c)?(b=n.outerHTML,i=!0):t.includes(j)&&e.includes(c)&&(b=n.innerHTML,i=!0)),u.storeSnippetInCache(f,h,u.getOrCreateSnippetName(b,h),b,c),m?(_.val(b),u.updateSnippetEditor({code:b,mode:u.getModeFromAspect(c)},!0)):(d.val(b),o&&u.tinymce.available()&&u.tinymce.update(b,!0,!0))}else u.displaySnippetChoiceOverlay(e,"display-aspect-choice",m?" .field-html-snippet pre":".field-html-text textarea, .field-html-text .wp-editor-wrap");else p="",g="",u.clearSnippetFields(f,d,_,m,c,M)}}else"snippet"===E||"text"===E?u.checkValidSnippetAndSetMeta(e,"snippet"===E?_:d,f,c):"move_to_selector"!==E&&"move_to_relative"!==E||w.val(u.resolveRelativeDom(y,b));if("snippet"===E||"text"===E||"enable"===E||"find"===E||"tag"===E){let e,n;"enable"===E?e=x:(e="snippet"===E?g:p,n="snippet"===E?_:d,t.adjust_comp_span(n,"after")),A&&(e||""!==k||""!==S?(o.val()||o.val(A.action),l.val()||l.val(A.aspect)):s===A.action&&c===A.aspect&&""===k&&""===S&&(o.val(""),l.val(""),v.val("")),t.adjust_comp_span(o,"after"),t.adjust_comp_span(l,"after"))}u.resolveLazyId(v,o.val());let L=e.groupTab.find(".amender-settings-advice");u.checkValidCombo(s,c)?L.removeClass("show"):L.addClass("show");let R=e.groupTab.find("#no-amends-tab.active");return n.isDomEl(R)&&(t.after_animation(R,{type:"animation",cb:()=>{R.removeClass("flash-warning")}}),R.addClass("flash-warning")),u.maybeAdjustFieldDisplay(e,A),{}},actionAspectFallback(e,n,r,i="html"){if(e)return e;let a=t.defaultTabValues[i].values[r];return a?a[n]:t.defaultTabValues[i].defaults[n]},go_to_amendment:function(e){let n=e.data(),r=t.tvr_iterate_selectors_v(!1,"strk-"+n.id,{scroll:1});r&&t.search_entry_clicked(e,r)},maybeAdjustFieldDisplay:function(r,i,a){i=i||{};let o=r.groupTab.find("div.field-html-action").find(".property-input").val()||i.action||"",s="run"===o?"jsFunction":"html",l=r.groupTab.find("div.field-html-aspect").find(".property-input").val()||i.aspect||s,c="move"!==o&&"remove"!==o&&"lazyLoad"!==o,d=["html","innerHTML","css","js","jsFunction"].includes(l),p=c&&!d,f=r.groupTab.find("#rich-text-toggle-wrap");!a||o&&"none"!==o||"html"!==l||u.adjustActionAspectDisplay(r,!0,r.groupTab.find(".toggle-action-aspect")),r.groupTab.find(".conditional-field").each((function(){let i,a=e(this),s=a.find(".property-input"),h=s.attr("rel");if(o||"action"===h||"aspect"===h)switch(h){case"text":case"load_snippet":case"snippet":case"snippet_name":case"add_dependency":c?"text"===h?i=d?"remove":"add":(i=d?"add":"remove","add_dependency"===h&&"css"===l&&(i="remove")):i="remove";break;case"enable":i="remove"===o||"lazyLoad"===o?"add":"remove";break;case"move_to_selector":case"move_to_relative":case"move_action":i="move"===o?"add":"remove";break;case"find":i="replaceSubstring"===o?"add":"remove";break;case"tag":i="parentWrapper"===l||"childWrapper"===l?"add":"remove";break;case"juncture":case"selector":i="css"===l||"js"===l?"remove":"add"}else i="remove";if(i){a[i+"Class"]("show"),"remove"===i&&s.val("")}if(p){let e="parentWrapper"===l||"childWrapper"===l?"Attributes string":"class"===l?"Classes":n.capitalizeFL(l);r.groupTab.find("div.field-html-text").find(".mt-property-text-label").text(e)}p&&"text"===l?(f.removeClass("hidden"),parseInt(t.pref.mt_rich_text)&&!u.tinymce.available()&&n.action_after_timeout("tinymce_timer_edit_empty_content",50,{item:function(){u.tinymce.available()||u.tinymce.bind()}})):f.addClass("hidden")})),"move"===o&&u.updateMoveDisplayState(r),u.npm.updateSnippetFormFields(r,d||"text"===l)},enableToggleUsed:function(e,n){let r=t.get_meta(e,"property"),i=r.property.find(".property-input"),a=n?1:"";i.val(a),u.uiFieldAdjusted(r,i),t.skipInputHistory=!0;let s=n?"on":"off",l=n?"Enable removal":"Disable removal";o.ajax_save_settings({noSaveDelay:1,$property:i,settings:o.user_action({},{displayItems:[l],M:r,pathTT:!0,icon:"mtif mtif-toggle-"+s+"-solid"})})},updateMoveDisplayState:function(e,t){let n=e.groupTab.find("div.field-html-move_to_display").find(".property-input"),r=parseInt(n.val())?" on":"",i=e.groupTab.find("div.field-html-move_to_selector"),a=e.groupTab.find("div.field-html-move_to_relative");if(t){let e;r?(e=0,r=""):(e=1,r=" on"),n.val(e).attr("value",e)}r?(i.addClass("hidden-binary").find(".property-input").val(""),a.removeClass("hidden-binary")):(a.addClass("hidden-binary").find(".property-input").val(""),i.removeClass("hidden-binary"));const o='Move to: <div class="move-html-display mt-binary-buttons'+r+'" data-run="mod.MThtml.toggleMoveDisplay"><span class="move-selector binary-button-option" rel="0" title="Specicify where to move using a CSS selector">Selector</span><span class="move-relative binary-button-option" rel="1" title="Specicify where to move using a jQuery-style relative expression e.g closest(.container).find(li)">Relative</span></div>';i.add(a).find(".mt-property-text-label").html(o)},getFieldValues:function(e,n,r,i=["action","aspect","text","snippet_id","snippet","junction","selector","xpath","lazy_id","move_to_selector","move_to_relative","move_relative_dom","enable","find","tag"]){let a=t.getGroupIndex(n.sectionSlug,n.selectorSlug,n.groupSlug,n.selectorM),o=u.presetTabData(a),s={groupIndex:a,presetTabData:o,$snippetHeader:e.find(".mt-snippet-header"),$snippetFooter:e.find(".mt-snippet-footer"),$snippetName:e.find(".snippet-name-input"),$search:e.find(".mt-load-snippet")};return i.forEach((t=>{let n=e.find("div.field-html-"+t),i=n.find(".property-input"),a=i.val();a||!r||!o||"action"!==t&&"aspect"!==t||(a=o[t]),s["$"+t+"Field"]=n,s["$"+t]=i,s[t]=a})),s},getInitialFieldValue:function(e,t,i,a,o,s=!0){if(a)return a;let l="",c=r&&n.isDomEl(r.triggerEl)?r.triggerEl[0]:null;return c?"text"===e?"replace"===t&&("text"===i?l=s?u.quickBeautify("customhtml",c.innerHTML):c.innerHTML:"attributesString"===i&&c.attributes?l=Array.from(c.attributes).map((e=>`${e.name}="${e.value}"`)).join(" "):u.isAttribute(i)&&(l=c.getAttribute(i))):"replace"===t?"html"===i?l=s?u.quickBeautify("customhtml",c.outerHTML):c.outerHTML:"innerHTML"===i&&(l=s?u.quickBeautify("customhtml",c.innerHTML):c.innerHTML):"css"===i?l=u.placeHolderCSSSelector(o):"jsFunction"===i&&(l=u.placeHolderSingleFunction()):u.pendingPrepopulateDOMContent=!0,l&&(l=l.replace(n.mtArtificalClassRegex(),"")),l},toggleMoveDisplay:function(e){const n=t.get_meta(e,"property");u.updateMoveDisplayState(n,!0),o.ajax_save_settings({$property:n.property})},collectActiveMods:function(e,r,i,a,o){if(l.folderNotLoading(e.section_key))return;let s=n.checkObject(e.selector,["styles","html"]);if(!s)return;if(r.tab?.disabled||a.disabled||o.this?.disabled)return;let c=e.settings.mqMap[e.recurse.mq_key],d=e.section_key+"-"+e.selector_key,p=u.convertModArrayFormat(s,r),f=a.label.split("|"),h=f?f[1]:"",_=e.settings.frontMods.mods,g=e.settings.modUsage;p.forEach(((e,r)=>{let i=[],a=u.extractJunctureInfo(e.juncture||("jsFunction"===e.aspect?"DOMContentLoaded":"lazyLoad"===e.action?"serverHTMLReady":t.pref.default_amender_event));const o=a.native;delete a.native;const s=e.selector||h,l=e.snippet_id,p=e.aspect,f=[o,c,d,"mods",r].join("|"),m=[o,c,d],v=n.checkObject(_,m),y=n.checkObject(v,["selectorCode"]),b=["mods",r,"mod"],w=n.checkObject(v,b),T=w&&w.selector?w.selector:y,x=l&&g.snippetChanged===l;let k;if(w?s!==T||x||JSON.stringify(e)!==JSON.stringify(w)?k="changed":(k="same",a=v.mods[r].meta,i=v.mods[r].undo):k="added",g.comparison[f]=k,g.events[o]=1,l){let e=n.checkObject(TvrMT.data.dyn.snippets,["cache",l]);if(e){let n=g.snippetsInUse[l]||0;g.snippetsInUse[l]=n+1,"css"!==p&&"js"!==p&&"jsFunction"!==p&&(g.snippets[l]=e.value);let r=u.getTotalScriptDeps(e,!0);Object.entries(r).forEach((([e,n])=>{if(g.npm_dependencies_in_use[e]=1,!t.pref.npm_dependencies_in_use[e]&&!t.pref.npm_dependencies[e]&&!g.npm_dependencies_added[e]){let n=TvrMT.data.prog.native_packages[e];if(n&&n.rel){let e=n.rel;t.pref.npm_dependencies_in_use[e]||t.pref.npm_dependencies[e]||(g.npm_dependencies_in_use[e]=1,g.npm_dependencies_added[e]=1)}g.npm_dependencies_added[e]=1}}))}}n.updateObject(g.mods,[o,c,d,"selectorCode"],h),n.updateObject(g.mods,[o,c,d,"mods",r],{undo:i,meta:a,mod:e})}))},convertModArrayFormat:function(e,t){let r=[];for(const i in e)if(e.hasOwnProperty(i)){const a=e[i];for(const e in a)if(a.hasOwnProperty(e)){const o=a[e];"xpath"!==i&&o.forEach(((e,a)=>{1==n.checkObject(t,["pg_disabled","changehtml",a])||""===e||(r[a]||(r[a]={}),r[a][i]=e)}))}}return r},maybeUpdateAmenderModKeys:function(e,t,n,i){let a=r.stat.win.TvrEventManagerInstance,o=r.stat.win.amender;a&&o.mods&&a.updateModKeys(e,t,n,i)},showInstallPopup(t,n){let r=e("#tvr-install-popup");r.find(" > div").not(t).removeClass("show"),r.find(".install-title").text(n),r.find(t).addClass("show"),r.addClass("show-popup")},async maybeAddNewDependencies(n,r){if(!parseInt(t.pref.npm_dependencies_detect))return;let i=Object.keys(n.npm_dependencies_added),a="",o=!1;if(i=i.filter((e=>TvrMT.data.prog.native_packages[e])),i.length){i.forEach((e=>{let t=TvrMT.data.templates.detected_package_item;a+=t.replace(/\{packName}/g,e).replace(/\{size}/g,TvrMT.data.prog.native_packages[e].size)})),e("#tvr-install-popup").find(".detected-packages").find("ul").html(a),r&&this.showInstallPopup(".detected-packages","Install Detected Packages")}JSON.stringify(t.pref.npm_dependencies_in_use)!==JSON.stringify(n.npm_dependencies_in_use)&&(t.pref.npm_dependencies_in_use=n.npm_dependencies_in_use,o=!0),o&&u.npm.saveDependencies()},async installDetectedPackages(t){let n=!1,r=t.closest(".detected-packages").find("li").toArray();for(const i of r){let r=e(i),a=r.find(".fake-checkbox");if(a.hasClass("on")){a.addClass("hidden");let i=r.find(".mt-loader-icon");i.removeClass("hidden");let o,s=r.data("package"),l=TvrMT.data.prog.native_packages[s];if(l){let t=l.rel||s;l.isAddon&&(t="https://cdn.jsdelivr.net/npm/"+l.cdn),o=await u.npm.addDependency(e("#add-npm-dependency"),t,!1,{},!0)}i.addClass("hidden"),r.find(".detected-dependency-"+(o?"success":"failed")).removeClass("hidden"),o&&(n=!0,t.replaceWith('<span class="done-npm-install">Done!</span>'))}}n&&u.npm.saveDependencies((function(e){u.refreshPreview()}),[])},animateRefreshButton(){let e=t.get_selector_in_focus(),n=e?e.selector.find("span.html-content-refresh"):null;n&&n.addClass("tvr-pulse")},modificationsUpdated:function(e){if(t.retargetSelector)return!1;u.maybeAddNewDependencies(e);let i=r.stat.win.TvrEventManagerInstance,a=r.stat.win.amender;i&&!a.noAmends&&(i.updateMods(e),e.requiresPageRefresh&&u.animateRefreshButton(),n.action_after_timeout("html_mod_updated",100,{item:function(){t.iframeEditing()&&r.select_current_selector_elements({scroll:!1})}})),u.updateSnippetsInUse(e)},updateSnippetsInUse(e){let{snippetsInUse:t}=e,n=TvrMT.data.dyn.snippets.cache;Object.entries(n).forEach((([e,n])=>{let r=t[e];r?(n.meta||(n.meta={}),parseInt(n.meta.usage)!==r&&(n.meta.usage=r,n.changed=1)):""===n.value&&(TvrMT.data.dyn.snippets.deleted[e]=1)}))},getOrCreateSnippetName:function(e,t){let r=TvrMT.data.dyn.snippets.cache[t];if(r){let e=n.checkObject(r,["meta","manual_name"]);if(e)return e}if(!e)return"";let i=u.codeIsSingleFunction(e);return i&&t?i:e.substring(0,50)},getMySQLTimestamp:function(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`},timeAgo:function(e){const t=new Date,n=new Date(e),r=Math.floor((t-n)/1e3);if(r<60)return`${r} seconds ago`;const i=Math.floor(r/60);if(i<60)return`${i} minutes ago`;const a=Math.floor(i/60);if(a<24)return`${a} hours ago`;const o=Math.floor(a/24);if(o<7)return`${o} days ago`;const s=Math.floor(o/7);if(s<4)return`${s} weeks ago`;const l=Math.floor(o/30);if(l<12)return`${l} months ago`;return`${Math.floor(o/365)} years ago`},isAttribute:function(e){return["attributesString","class","id","title","alt","contenteditable","hidden","href","rel","src","style","target","width","height","required","selected","autocomplete","checked","for","type","name","value","onblur","onchange","onclick","onfocus","oninput","onload","onmouseover","onmouseout","onmousemove","onselect","x-data","x-bind","x-on","x-text","x-html","x-model","x-show","x-transition","x-for","x-if","x-init","x-effect","x-ref","x-cloak","x-ignore"].includes(e)},useCodeEditor:function(e){return["html","innerHTML","css","js","jsFunction"].includes(e)},useCodeEditorOrText:function(e){return"text"===e||u.useCodeEditor(e)},relatedAspects:["html","text","innerHTML"],getTotalScriptDeps(t,n){let r=t&&t.meta||{},i=r.auto_script_deps||{},a=n&&r.imported_script_deps||{},o=r.manual_script_deps||{};return e.extend(!0,{},i,o,a)},importStatementRegex:()=>/import[ \t]+([*a-zA-Z0-9{}\-"',\s$]+?)\s+from\s+['"]([^'"]+)['"]/g,closeInstallPopup(t){e("#tvr-install-popup").removeClass("show-popup")},installThemeoverAddon(e){let n=e.data("addon");e.addClass("active"),o.simple_ajax_request({plus:"Installing "+n,minus:"Addon install failed",type:"GET",dataType:"json",url:t.ajaxUrl+"&install_tvr_addon="+n,cbFunction:function(e,n,r){e.success?window.location=t.uiUrl:(n.removeClass("active"),alert("Error installing addon"))},cbfArgs:[e,n]})},inspectButtonClicked(e){let i=e.data("view"),a=e.siblings(),o="data"===i?"debug_amends":"none"===i?"no_amends":"dyn_amends",s=n.strip_page_builder_and_other_params(r.get_current_url());a.removeClass("active flash-warning"),e.addClass("active"),s=n.append_url_param(s,o),s=n.append_url_param(s,"ver",(new Date).getTime()),"dyn_amends"!==o&&(s=n.append_url_param(s,"dyn_amends")),"debug_amends"===o&&(s+="#amender-data"),u.inspectAmendsView=i,t.stat.iframeDoc.location=s},tinymce:{id:"mt-text-editor",editor:null,observer:null,textarea:null,lastHTML:"",initialising:!1,mediaFrame:null,autop:!1,space:{leading:{icon:" ␣ | ",value:""},trailing:{icon:" | ␣ ",value:""}},async bind(){if(!this.available()){if(this.initialising&&this._initPromise)return this._initPromise;this.initialising=!0,n.startT("bind_tinymce"),n.startT("setup_tinymce"),n.startT("init_tinymce"),this._initPromise=new Promise((e=>{let r=(this.autop,"formatselect ");wp.editor.initialize(this.id,{tinymce:{wpautop:this.autop,forced_root_block:!!this.autop&&"p",force_br_newlines:!this.autop,force_p_newlines:this.autop,toolbar1:"toggleEditorMode insertMedia "+r+" bold italic link unlink bullist numlist blockquote autopToggle leadingspace trailingspace",toolbar2:"",block_formats:"Paragraph=p; Heading 1=h1; Heading 2=h2; Heading 3=h3; Preformatted=pre",content_css:[t.pluginUrl+"local-google-font/load-mt-gf.css?v="+TvrMT.data.dyn.ui_config.plugin_version],content_style:this.iframeCSS(parseInt(t.pref.mt_dark_mode)),setup:r=>{this.editor=r,r.addButton("insertMedia",{icon:"image",tooltip:"Add Media",onclick:function(){window.wpActiveEditor=r.id,wp.media.editor.open(r.id)}}),r.addButton("autopToggle",{text:" ¶ ",tooltip:"Toggle auto-paragraph wrapping",icon:!1,onclick:()=>{this.toggleAutop()},onPostRender:function(){this.getEl().innerHTML='<i class="mtif mtif-paragraph-solid"></i>',this.active(u.tinymce.autop)}}),Object.keys(this.space).forEach((e=>{let t=e+"space";r.addButton(t,{tooltip:"Insert "+e+" space",onPostRender:function(){this.getEl().innerHTML='<i class="mtif mtif-terminal-solid icon-'+t+'"></i>',u.tinymce.space[e].button=this},onclick:()=>{const t=r.getContent(),n=this.space[e];n.value=n.value?"":" ",n.button.active(!!n.value),u.tinymce.onChange(r,!0,t)}})})),r.addButton("toggleEditorMode",{tooltip:"Switch to code",onclick:()=>this.switchToCode(),onPostRender:function(){this.getEl().innerHTML='<i class="mtif mtif-code"></i>'}}),window.QTags&&QTags.addButton&&(this.QTagsDone||(QTags.addButton(this.id+"_back_visual","←",this.switchToVisual.bind(this),null,null,"Back to visual editor",1,this.id),this.QTagsDone=!0)),n.endT("setup_tinymce",1),r.on("init",(()=>{this.listen(r),this.removeIframeTitleAttr(),this.initialising=!1,this._initPromise=null,parseInt(t.pref.mt_rich_text_code)&&(this.defaultingToCode=!0,this.switchToCode()),t.pendingComp&&(u.tinymce.pendingUpdate||(t.pendingComp=!1,t.refresh_comp_css()));const{M:i,fieldValues:{$text:a}}=this.domRefs(r);this.textarea=a[0],n.endT("init_tinymce",1),e()}))}},quicktags:!0})})),n.endT("bind_tinymce",1),await this._initPromise}},unbind(){if(this.available()){let e=this.textarea.value;t.cleanTimers(),wp.editor.remove(this.id),this.lastHTML="",this.editor=null,this.initialising=!1,this._initPromise=null,Object.keys(this.space).forEach((e=>{delete u.tinymce.space[e].button})),""===e&&(this.textarea.value="")}},switchToCode(){t.stat.tvr.addClass("mt_rich_text_code"),e("#"+this.id+"-html").trigger("click")},switchToVisual(){t.stat.tvr.removeClass("mt_rich_text_code"),e("#"+this.id+"-tmce").trigger("click")},editorModeTabClicked(e){if(e.data("wp-editor-id")===this.id&&this.available()){const r=this.editor,{M:i,fieldValues:{$text:a,text:s}}=this.domRefs(r),l=e.hasClass("switch-tmce")?"tmce":"html",c=parseInt(t.pref.mt_rich_text_code);s||this.update("",!1,!0),t.pref.mt_rich_text_code="tmce"===l?0:1,n.action_after_repaint({item:function(){if("tmce"===l)u.tinymce.available(!0)&&(u.tinymce.updateIframeState(r),t.refresh_comp_css(!0));else if(u.tinymce.maybeUpdateCompToolbarOffset(),n.action_after_timeout("blur_textarea",100,{item:function(){a.val()||a.trigger("blur")}}),u.tinymce.updateContentAfterDefaultingToCode){const{value:e,triggerOnChange:t,force:n,save:r}=u.tinymce.updateContentAfterDefaultingToCode;u.tinymce.update(e,t,n,r),u.tinymce.updateContentAfterDefaultingToCode=null}},args:[]},0,window),c!==t.pref.mt_rich_text_code&&o.save_multiple_preferences({mt_rich_text_code:t.pref.mt_rich_text_code})}},codeToolbarButtonClicked(e){if(this.available()){if("qt_mt-text-editor_mt-text-editor_back_visual"!==e.attr("id")){this.textarea.value;n.action_after_repaint({item:function(){n.action_after_timeout("editor_cursor_change",20,{item:function(){let e=u.tinymce.textarea.value;u.tinymce.onChange(u.tinymce.editor,!0,e)},args:[]})},args:[]},20,window)}}},maybeUpdateCompToolbarOffset(e={}){if("html"===t.pref.pg_focus)if(parseInt(t.pref.mt_rich_text)&&this.available()){let e=this.editor;if(e.isHidden()){let t=document.getElementById("qt_mt-text-editor_toolbar");if(t){const n=getComputedStyle(t).getPropertyValue("height")||0,{M:r}=this.domRefs(e);r.property.find(".comp-style").css("top",n)}}}else{let e=t.get_pg_focus_obj();e&&e.find(".cprop-text").css("top",0)}},isInlineTag:e=>new Set(["A","ABBR","ACRONYM","B","BDO","BIG","BR","CITE","CODE","DFN","EM","I","IMG","INPUT","KBD","LABEL","MAP","OBJECT","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","TT","VAR","U","BUTTON"]).has(e.tagName),getVars:e=>({bg1Hover:e?"#262626":"#f2f2f2",manualValue:e?"#7bacfd":"#3469c2",mutedText:e?"#a1a1a1":"#878787"}),iframeCSS(e){const{bg1Hover:t,mutedText:n}=this.getVars(e);return`\n\t\t\t\t:root {\n\t\t\t\t\t--bg1Hover: #f2f2f2;\n\t\t\t\t\t--bg2: #f5f5f5;\n\t\t\t\t\t--bg2Hover: #eee;\n\t\t\t\t\t--bdr: #cbcbcb;\n\t\t\t\t\t--primary-text: #878787;\n\t\t\t\t\t--wp-link: #0074a2;\n\t\t\t\t\t--manual-value: #3469c2;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t:root.mt_dark_mode {\n\t\t\t\t\t--bg1Hover: #262626;\n\t\t\t\t\t--bg2: #292929;\n\t\t\t\t\t--bdr: #000;\n\t\t\t\t\t--bg2Hover: #1c1c1c;\n\t\t\t\t\t--primary-text: #a1a1a1;\n\t\t\t\t\t--wp-link: #09b9ff;\n\t\t\t\t\t--manual-value: #7bacfd;\n\t\t\t\t}\n\t\t\t\t:root.user-defined-value {\n\t\t\t\t\t--primary-text: var(--manual-value);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\thtml {\n\t\t\t\t\tbackground-color: ${t};\n\t\t\t\t\tcolor: ${n};\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\toverflow: hidden; \n\t\t\t\t}\n\t\t\t\n\t\t\t\tbody {\n\t\t\t\t\tbackground-color: inherit;\n\t\t\t\t\tcolor: inherit;\n\t\t\t\t\tfont-family: 'Open Sans', sans-serif;\n\t\t\t\t\tfont-weight: inherit;\n\t\t\t\t\tmargin: 10px 14px 21px 14px;\n\t\t\t\t}\n\t\t\t\ta { \n\t\t\t\t\tcolor: var(--wp-link); \n\t\t\t\t}\n\t\t\t\tul, ol {\n\t\t\t\t\tpadding-left: 1em;\n\t\t\t\t}\n\t\t\t\t.mce-content-body a[data-mce-selected] {\n\t\t\t\t\tbackground-color: var(--bg2Hover);\n\t\t\t\t\tbox-shadow: 0 0 0 2px var(--bg2Hover);\n\t\t\t\t\t//display: inline-block;\n\t\t\t\t\t//padding: 1px 3px;\n\t\t\t\t\t//border: 1px solid var(--bdr);\n\t\t\t\t\tborder-radius: 3px;\n  \t\t\t\t}\n\t\t\t`},respondToChange(){let e=u.tinymce.editor;if(e){const t=e.getContent();t!==u.tinymce.lastHTML&&(u.tinymce.lastHTML=t,this.editor.hasFocus()&&u.tinymce.onChange(e,!0,t))}},listen(e){const r=t=>{n.action_after_repaint({item:function(){n.action_after_timeout("tinymce_timer_listen",50,{item:()=>{u.tinymce.respondToChange()}})}},1,e?.iframeElement?.contentWindow)};["input","cut","paste","undo","redo","ExecCommand","ObjectResized","NodeChange"].forEach((t=>e.on(t,r))),e.on("keydown",(t=>{const n=t.key.toLowerCase();"backspace"!==n&&"delete"!==n||e.selection.isCollapsed()||r()})),e.on("focus",(()=>{let t=this.editor.getContent();!this.editor.value&&t&&this.onChange(e,!1,t)})),e.on("blur",(function(){t.refresh_comp_css()}))},domRefs(n){let r=t.get_meta(e(n.container),"property");return{M:r,fieldValues:u.getFieldValues(r.groupTab,r,!0)}},available(e){return window.tinymce&&this.editor&&!this.initialising&&(!e||this.editor.iframeElement?.contentDocument)},toggleDarkMode(e){if(this.available(!0)){let t=this.editor.iframeElement.contentDocument.documentElement;t.style.backgroundColor="var(--bg1Hover)",t.style.color="var(--primary-text)",t.classList.toggle("mt_dark_mode",e)}},getCurrentLineText(e=!0,t=5){const r=this.editor;if(!r||!r.selection)return"";const i=r.selection.getRng();let a=i.startContainer;i.startOffset;a.nodeType===Node.TEXT_NODE&&(a=a.parentNode);let o=r.dom.getParent(a,r.dom.isBlock);if(o||"BODY"!==a.nodeName||(o=a),!o)return"";let s=[],l="",c=!1;!function e(t){if(!c){if(t===i.startContainer)return t.nodeType===Node.TEXT_NODE&&(l+=t.textContent),s.push(l),void(c=!0);if(t.nodeType===Node.TEXT_NODE)l+=t.textContent;else if("BR"===t.nodeName)s.push(l),l="";else if(t.nodeType===Node.ELEMENT_NODE)for(const n of t.childNodes)if(e(n),c)return}}(o);let u=s[s.length-1]||"",d="";u&&(d=u.slice(0,i.startOffset),d.trim()||(d=u.slice(i.startOffset)));return e?n.getLastWords(d.trim(),t):d.trim()},syncTextarea(e,t){let r=e.val();this.space.leading.value&&(t=" "+n.ltrim(t)),this.space.trailing.value&&(t=n.rtrim(t)+" "),t!==r&&e.val(t)},setIframeToInnerHeight(){const e=u.tinymce;if(!e.available(!0))return;const t=e.editor.iframeElement,n=t.contentDocument.documentElement;if(!n)return;const r=parseFloat(getComputedStyle(n).height),i=/height\s*:\s*[\d.]+px\s*;?/i;let a=t.getAttribute("style")||"";a=a.trim().replace(/\s*;?\s*$/,";");const o=i.test(a)?a.replace(i,`height: ${r}px;`):`${a} height: ${r}px;`;t.setAttribute("style",o),t.style.minHeight="180px",t.style.color="red"},removeIframeTitleAttr(){this.editor.iframeElement&&this.editor.iframeElement.removeAttribute("title")},updateIframeState(e){if(this.available(!0)){const{M:n,fieldValues:{$text:r}}=this.domRefs(e),i=!!r.val();this.editor.iframeElement.contentDocument.documentElement.classList.toggle("user-defined-value",i),this.toggleDarkMode(parseInt(t.pref.mt_dark_mode)),this.editor.isHidden()||this.setIframeToInnerHeight()}},onChange(e,r,i){const{M:a,fieldValues:{$text:s}}=this.domRefs(e);this.syncTextarea(s,i),this.updateIframeState(e),r&&n.action_after_timeout("tinymce_timer_save",t.inputTypingInterval,{item:function(){let e=u.tinymce.getCurrentLineText();t.skipInputHistory=!0,o.ajax_save_settings({$property:s,settings:o.user_action({},{displayItems:["Rich text: "+e],M:a,pathTT:!0,icon:"mtif mtif-wordpress"})})}})},async update(e,n,r,i){if(this.available()||(r&&(this.pendingUpdate=!0),await this.bind()),this.available()){if(this.defaultingToCode)return this.updateContentAfterDefaultingToCode={value:e,triggerOnChange:n,force:r,save:i},void(this.defaultingToCode=!1);!r&&this.editor.hasFocus()||(this.editor.setContent(e),Object.keys(this.space).forEach((t=>{const n=this.space[t],r=("leading"===t?/^\s/:/\s$/).test(e);n.value=r?" ":"",n.button.active(r)})),this.lastHTML=e.trim(),n&&u.tinymce.onChange(this.editor,i,e))}r&&(this.pendingUpdate=!1,t.pendingComp&&(t.pendingComp=!1,t.refresh_comp_css()))},whiteSpaceToBreaks:e=>e.replace(/\n/g,"<br />"),parasAndBreaksToWhiteSpace(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("br").forEach((e=>e.replaceWith("\n"))),t.querySelectorAll("p").forEach((e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);t.appendChild(document.createTextNode("\n\n")),e.replaceWith(t)})),t.innerHTML},async toggleAutop(){this.autop=!this.autop;let e=this.available()?this.editor.getContent({format:"html"}):"";this.unbind(),await this.bind(),await this.update(e,!0,!0,!0)}},npm:{async toggleFieldForm(e,n){let r=e.closest(".field-has-form"),i=r.find(".edit-dep-form"),a=r.find(".main-text"),o=r.find(".edit-dependency");if(i.hasClass("hidden")?(i.removeClass("hidden"),o.add(a).addClass("hidden")):(n&&a.text(n),i.addClass("hidden"),o.add(a).removeClass("hidden")),o.hasClass("edit-version")){let e=i.find(".npm-version-input"),n=r.closest(".dependency-row").data("package"),a=n,o=t.pref.npm_dependencies[n];(o.isAddon||o.isAlt)&&(a=o.rel),e.addClass("active",n,r),TvrMT.data.prog.combo.npm_version_input=await this.getPackageVersions(a),e.removeClass("active")}},async updateDependency(e){let n=e.hasClass("update-import-syntax"),r=e.closest(".field-has-form").find(".edit-dep-form").find("input").val(),i=e.closest(".dependency-row").data("package"),a=i,o=t.pref.npm_dependencies[i];if(n)o.importSyntax=r;else{o.isAddon&&(a=o.rel);let t=r;if(!await this.checkMeta(a,t,!0,o))return alert("Invalid version for package: "+t),!1;if(o.isInstalled){let t=await u.npm.getInstallPackages(i,o.isAddon,o,"https://cdn.jsdelivr.net/npm/"+o.cdn,1);t&&t.length&&u.npm.adjustInstall(e,{packages:t},"Updating local version","Update complete")}}u.npm.saveDependencies(),this.toggleFieldForm(e,r)},async deleteDependency(e){let n=e.closest(".dependency-row").data("package"),r=t.pref.npm_dependencies[n];r.isInstalled&&this.adjustInstall(e,{packages:[{install:0,isAddon:r.isAddon?1:0,cdn:r.cdn,local:r.local,package:n}]},"Uninstalling local version","Uninstall complete"),delete t.pref.npm_dependencies[n],u.npm.saveDependencies(),u.npm.updateDependencyTableRows(e.closest(".dependency-table-wrap").find(".dependency-rows"),t.pref.npm_dependencies)},async toggleDepDelivery(e,n){e.addClass("active");let r=e.closest(".dependency-row").find(".package-field").find("a"),i=e.closest(".dependency-row").data("package"),a=t.pref.npm_dependencies[i];n?a.isInstalled=1:delete a.isInstalled,r.attr("href",r.data(n?"local":"cdn"));let o=await u.npm.getInstallPackages(i,a.isAddon,a,"https://cdn.jsdelivr.net/npm/"+a.cdn,n);o&&o.length?u.npm.adjustInstall(e,{packages:o},n?"Installing locally":"Uninstalling locally","Update complete"):e.removeClass("active"),u.npm.saveDependencies()},toggleDefaultDepDelivery(e,n){t.pref.npm_default_local=n?1:0,o.save_multiple_preferences({npm_default_local:t.pref.npm_default_local})},adjustInstall(e,n,r,i,a){a=a||function(e,t){t&&t.removeClass("active"),u.refreshPreview()},o.simple_ajax_request({url:t.ajaxUrl+"&update_npm_install",type:"POST",dataType:"json",plus:r,minus:i,sendData:n,cbFunction:a,cbfArgs:[e]})},isValidUrl(e){try{return new URL(e),e}catch(e){return!1}},extractJSDeliverDetails:e=>e.match(/cdn\.jsdelivr\.net\/npm\/([^@]+)@([^/]+)\/(.+(\.js)|(\+esm))$/),async addDependency(n,r,i=!0,a={},o){let s=e("#mt-npm-search");r=r||s.val();let l=parseInt(t.pref.npm_default_local);if(n.addClass("active"),!r)return a.error="Please choose a library to add",i&&alert(a.error),n.removeClass("active"),!1;let c=this.isValidUrl(r);if(c){const e=this.extractJSDeliverDetails(c);e&&"+esm"===e[5]&&(r=e[1],c=!1)}if(c){const e=this.extractJSDeliverDetails(c);if(!e)return a.error="Please enter a valid URL from jsdelivr.com for a specific file.",i&&alert(a.error),n.removeClass("active"),!1;const[r,o,s,u]=e,d=u.split("/").pop().replace(".js",""),p=`${o}/${u.split(".")[0]}`;if(t.pref.npm_dependencies[p])return a.error="This specific addon has already been installed.",i&&alert(a.error),n.removeClass("active"),!1;const f=!0,h=await this.checkFileSize(c,f),_={cdn:`${o}@${s}/${u}`,importSyntax:this.importSyntaxMap[p]||d,isInstalled:l,local:`${o}/${u}`,value:p,version:s,isAddon:f,addonName:d,size:h,rel:o};if(t.pref.npm_dependencies[p]=_,l){const e=await this.getInstallPackages(p,f,_,c,1);e&&e.length&&(t.pref.npm_dependencies[p].isInstalled=1,this.adjustInstall(n,{packages:e},"Installing local version","Install complete"))}}else{let e=r,o=this.fromSyntaxMap[r]||r;if(t.pref.npm_dependencies[e]||t.pref.npm_dependencies[o])return a.error="Library has already been installed.",i&&alert(a.error),n.removeClass("active"),!1;let s={value:o,rel:e,isAlt:o!==e?1:0},c=await this.checkMeta(o,"latest",!0,s);if(!c)return a.error="Error - package does not support JavaScript modules or could not be found.",i&&alert(a.error),n.removeClass("active"),!1;t.pref.npm_dependencies[o]=c;const u=this.autoAddonMap[o]||[];for(const n of u){const r=n.cdnPathPattern.replace("{{version}}",c.version),i=`https://cdn.jsdelivr.net/npm/${r}`,a={cdn:r,importSyntax:this.importSyntaxMap[n.pkgName]||"",isInstalled:l,local:this.localFileFromPackageName(n.pkgName),value:n.pkgName,version:c.version,isAddon:n.isAddon,size:await this.checkFileSize(i,n.isAddon),rel:e};t.pref.npm_dependencies[n.pkgName]=a}if(l){let e=[];const r=`https://cdn.jsdelivr.net/npm/${c.cdn}`,i=await this.getInstallPackages(o,c.isAddon,c,r,1);e.push(...i),t.pref.npm_dependencies[o].isInstalled=1;for(const n of u){const r=`https://cdn.jsdelivr.net/npm/${t.pref.npm_dependencies[n.pkgName].cdn}`,i=await(await fetch(r)).text();e.push({install:1,local:t.pref.npm_dependencies[n.pkgName].local,cdn:t.pref.npm_dependencies[n.pkgName].cdn,package:n.pkgName,isAddon:n.isAddon,content:i}),t.pref.npm_dependencies[n.pkgName].isInstalled=1}this.adjustInstall(n,{packages:e},"Installing local versions","Install complete")}}return o||this.saveDependencies(),this.updateDependencyTableRows(n.closest(".dependency-table-wrap").find(".dependency-rows"),t.pref.npm_dependencies),n.removeClass("active"),s.val(""),a},async getInstallPackages(e,n,r,i,a){let o;if(a){const r=new c.deps.npmBundler({isAddon:n});if(r){let n=await r.bundle(i);o=n.outputFiles,t.pref.npm_dependencies[e]&&(t.pref.npm_dependencies[e].size=n.totalSize)}}else o=[{install:a?1:0,local:r.local,cdn:r.cdn,package:e,isAddon:n?1:0}];return o},browseAddons(e){let n=e.closest(".dependency-row").data("package"),r=t.pref.npm_dependencies[n],i=e.data("browse").replace("{version}",r.version);window.open(i,"_blank")},copyImportSyntax(e){let n=e.closest(".dependency-row").data("package"),i=t.pref.npm_dependencies[n];navigator.clipboard.writeText(u.importStatement(i.importSyntax,n)),e.addClass("isClicked"),r.after_animation(e,{cb:function(){e.removeClass("isClicked")}})},saveDependencies:function(e,n){o.simple_ajax_request({skipQueue:1,url:t.ajaxUrl+"&update_npm_dependencies=1",type:"POST",sendData:{runEvenIfEmpty:"yes",npm_dependencies:t.pref.npm_dependencies,npm_dependencies_in_use:t.pref.npm_dependencies_in_use},dataType:"json",cbFunction:e,cbfArgs:n})},dependencyInUse:e=>parseInt(t.pref.npm_dependencies_in_use[e]),updateDependencyTableRows(e,r){let i="",a=Object.keys(r).map((e=>({pkgName:e,...r[e]})));a.sort(n.firstBy("value").thenBy("isAddon")),a.forEach((e=>{let n=e.pkgName,r=structuredClone(e),a=TvrMT.data.templates.dependency_row,o=TvrMT.data.prog.npm_addons[n];r.inUse=this.dependencyInUse(n)?"Yes":"No",r.hiddenAddons=o?"":"hidden",r.browseAddons=o&&o.browse?o.browse:"",r.linkToFile=parseInt(r.isInstalled)?t.microUrl+"mt/js/draft/npm/"+r.local:"https://cdn.jsdelivr.net/npm/"+r.cdn,Object.entries(r).forEach((([e,t])=>{let n=new RegExp(`{${e}}`,"g");"size"===e&&t&&(t=parseFloat(t).toFixed(2)),a=a.replace(n,t||"")})),parseInt(r.isInstalled)&&(a=a.replace("mt-binary-buttons","mt-binary-buttons on")),i+=a})),e.html(i)},updateSnippetFormFields(n,r){let{snippet_id:i,aspect:a}=u.getFieldValues(n.groupTab,n,!0),o=n.groupTab.find(".dependency-rows");if(i){let r="",a=TvrMT.data.dyn.snippets.cache[i],s=a&&a.meta?a.meta:{},l=s.auto_script_deps||{},c=s.manual_script_deps||{},u=e.extend(!0,{},l,c);Object.entries(u).forEach((([e,n])=>{let i=structuredClone(n),a=TvrMT.data.templates.snippet_dependency_row,o=t.pref.npm_dependencies[e];i.autoDisabled=i.autoDisabled?"on":"",i.value=e,i.disabledHidden=l[e]?"":"hidden",i.removeHidden=i.disabledHidden?"":"hidden",i.importSyntax=i.importSyntax||(o?o.importSyntax:""),i.importSyntaxPlaceholder=i.importSyntax,i.manualImportSyntax=i.manualImportSyntax||"",i.manualPackName=i.manualPackName||"",i.autoPackName=l[e]?e:"",Object.entries(i).forEach((([e,t])=>{let n=new RegExp(`{${e}}`,"g");a=a.replace(n,t||"")})),r+=a})),o.html(r);let d=n.groupTab.find(".snippet-name-input"),p=s.manual_name||"";a&&a.name&&a.name;d.val(p)}let s=n.groupTab.find(".mt-snippet-footer"),l=e("#toggle-snippet-adv"),c=s.add(l);r?c.removeClass("hidden"):c.addClass("hidden");let d=n.groupTab.find(".snippet-dependency-table-wrap");"js"===a||"jsFunction"===a?d.removeClass("hide-import-field"):d.addClass("hide-import-field")},addSnippetDependency(e){let n=t.get_meta(e,"property"),r=TvrMT.data.templates.snippet_dependency_row.replace("{disabledHidden}","hidden").replace(/\{[^}]+}/g,"");n.property.find(".dependency-rows").append(r)},updateSnippetDependency(r){let i=t.get_meta(r,"group"),a=r.closest(".dependency-rows"),{snippet_id:s,$snippet_id:l,$snippet:c,aspect:d}=u.getFieldValues(i.groupTab,i,!0),p=r.hasClass("snippet-select-package");s||(s=u.storeSnippetInCache(l,"","","",d,!0),l.val(s));let f=TvrMT.data.dyn.snippets.cache[s],h={},_=!1,g="";if(a.find(".snippet-dependency-row").each((function(){let n=e(this),i=n.find(".snippet-import-input").val(),a=n.find(".snippet-select-package"),o=n.find(".snippet-disable-package-icon").hasClass("on"),s=a.val(),l=a.attr("placeholder"),c=s||l,u=c?t.pref.npm_dependencies[c]:null;if(c&&(i||s||o)&&(h[c]={},_=!0,i?(h[c].importSyntax=i,h[c].manualImportSyntax=i):s&&u&&(h[c].importSyntax=u.importSyntax),s&&(h[c].manualPackName=s),o&&(h[c].autoDisabled=1)),p){let e=u?u.importSyntax:"";r.closest(".snippet-dependency-row").find(".snippet-import-input").attr("placeholder",e)}})),f){if(_?n.updateObject(f,["meta","manual_script_deps"],h):n.checkObject(f,["meta","manual_script_deps"])&&delete f.meta.manual_script_deps,r.hasClass("snippet-name-input")){let e=r.val().trim();e?(n.updateObject(f,["meta","manual_name"],e),f.name=e,g="Snippet named"):(n.checkObject(f,["meta","manual_name"])&&delete f.meta.manual_name,f.name=u.getOrCreateSnippetName(f.value,s),g="Snippet name cleared")}f.changed=1}let m=o.user_action({},{items:[g||"Dependency adjusted"],icon:"mtif-code"});g||u.animateRefreshButton(),o.ajax_save_settings({settings:m})},removeSnippetDependency(e){let t=e.closest(".dependency-rows");e.closest(".snippet-dependency-row").remove(),t.find(".snippet-dependency-row").length||t.empty(),u.npm.updateSnippetDependency(t)},disableSnippetDependency(e){let t=e.hasClass("on")?"removeClass":"addClass";e[t]("on"),u.npm.updateSnippetDependency(e)},async search(e,t="latest",n=5,r=!1,i=!1){try{const a=`https://registry.npmjs.org/-/v1/search?text=${encodeURIComponent(e)}&size=${n}`,o=await fetch(a),s=await o.json();if(!s.objects.length)return[];const l=[];for(const e of s.objects){const a=e.package.name;let o={value:a};if((!r||await this.checkMeta(a,t,i,o))&&(l.push(o),l.length>=n))break}return l}catch(e){return[]}},async getMetaData(e){const t=`https://registry.npmjs.org/${e}`,n=await fetch(t);return await n.json()},async getPackageVersions(e,t){return(t=t||await this.getMetaData(e))?Object.keys(t.versions).reverse():[]},localFileFromPackageName:e=>e.replace("@","")+".js",async checkMeta(e,t,n,r){const i=await this.getMetaData(r.rel||e),a="latest"===t?i["dist-tags"].latest:t,o=i.versions[a];if(!o)return!1;let s;if(r.size=o.dist?.unpackedSize?`${(o.dist.unpackedSize/1024).toFixed(2)}`:"unknown",r.isAddon)s=r.cdn.replace(/@([^/]+)/,"@"+a);else{const t=r.rel;s=`${t}@${a}${e.replace(t,"")}/+esm`}const l=`https://cdn.jsdelivr.net/npm/${s}`;try{if(!(await fetch(l,{method:"HEAD"})).ok)return!1;r.cdn=s,r.local=r.isAddon?r.local:u.npm.localFileFromPackageName(e),r.version=a,r.size=await this.checkFileSize(l,r.isAddon)}catch(e){return!1}return n&&(r.importSyntax=await this.getImportSyntax(e,o,a)),r},async checkFileSize(e,t){let n;const r=new c.deps.npmBundler({isAddon:t});if(r){n=(await r.bundle(e)).totalSize}return n},importSyntaxMap:{alpinejs:"Alpine","chart.js/auto":"{ Chart }","chart.js/helpers":"* as chartHelper"},fromSyntaxMap:{"chart.js":"chart.js/auto"},autoAddonMap:{},async getImportSyntax(e,t,n){if(u.npm.importSyntaxMap[e])return u.npm.importSyntaxMap[e];{let t=e.match(/@([a-zA-Z0-9_]+)\/([a-zA-Z0-9_]+)$/);if(t)return t[2]}const r=e.replace(/[^a-zA-Z0-9_]/g,"");try{const t=`https://cdn.jsdelivr.net/npm/${e}@${n}/README.md`,r=await fetch(t),i=await r.text(),a=u.importStatementRegex();let o,s=[],l=null;for(;null!==(o=a.exec(i));)if(s.push(o[1]),o[2].includes(e)){l=o[1];break}let c=l||s[0];if(c)return c}catch(e){}if(t.exports){const e=t.exports;if("string"==typeof e)return`${r}`;if("object"==typeof e){if(e.import){if("string"==typeof e.import||e.import.default)return`${r}`;if(e.import.module)return`* as ${r}`}if(e["."]&&"*"===e["."].import)return`* as ${r}`;if(e["."]&&"object"==typeof e["."])return`{ ${r} }`}}return!t.main||t.module||t.exports,`${r}`},searchNPMLatestTerm:"",npmResultsCache:{},npmResultsCachePrevious:{},returnNPMResults(e,t,n,r){if(u.npm[r+"Previous"]=n,r){u.npm[r][e]=n;var i=Object.keys(u.npm[r]);i.length>9&&delete u.npm[r][i[0]]}t(n)},isJsDelivrUrl:e=>/\/\/cdn\.jsdelivr\.net\/npm\/[^ ]+$/.test(e),extractJsDelivrData(e){const t=e.match(/cdn\.jsdelivr\.net\/npm\/([^@]+)@([^/]+)\/(examples\/jsm\/.+\.js)$/);if(!t)return null;const[n,r,i,a]=t,o=a.split("/").pop().replace(".js","");return{cdn:`${r}@${i}/${a}`,importSyntax:o,isInstalled:"1",local:u.npm.localFileFromPackageName(`${r}-${o}`),value:`${r}-${o}`,version:i,addonFor:r}},searchForCombo(t,r){var i=e("#mt-npm-search"),a=i.parent(),o=i.val(),s=t&&t.term?t.term.toLowerCase():n.isDefined(o)?o:null,l="npmResultsCache";u.npm.searchNPMLatestTerm=s,!s||s.length<2||u.npm.isValidUrl(s)?u.npm.returnNPMResults(s,r,TvrMT.data.prog.combo.npm_dependencies):(u.npm[l][s]?u.npm.returnNPMResults(s,r,u.npm[l][s]):u.npm.returnNPMResults(s,r,u.npm[l+"Previous"]),a.addClass("active"),n.action_after_timeout("npm_search",200,{item:async function(e){const t=await u.npm.search(u.npm.searchNPMLatestTerm,"latest",15);a.removeClass("active"),u.npm.returnNPMResults(u.npm.searchNPMLatestTerm,r,t,l)},args:[{}]}))}}};return u}()})),jQuery(document).ready((function(e){TvrMT.mod.MTai=function(){let t,n,r,i,a,o,s,l,c,u=window.TvrLang;const d=(()=>{const e=!1,t="[MTaiPexelsSimple]",n=(...t)=>e,r=(...t)=>e,i=(...t)=>e,a=(e,t=120)=>e&&e.length>t?e.slice(0,t)+"…":e,o=e=>e.replace(/&amp;/g,"&"),s=(e,t)=>{if(t){const t=e.replace(/&/g,"&amp;");return n(a(t)),t}return e},l=/\b(?<attr>poster|src|srcset|alt|url)\s*(?<eq>=|\()\s*(?<quote>['"])(?<value>[^'"]*https:\/\/pexels-proxy\.odd-resonance-b1b5\.workers\.dev[^'"]*)\k<quote>(?<close>\))?/gi,c=/https:\/\/pexels-proxy\.odd-resonance-b1b5\.workers\.dev\/?\?[^"',\s)]+/gi,u=new Map,d=new Map;function p(e){const t=o(e),n=new URL(t),r=n.searchParams,i=r.get("size")||null,a=r.get("thumbnail")||null,s="video"===r.get("type");r.delete("size"),r.delete("thumbnail");return{base:`${n.origin}${n.pathname}?${r.toString()}`,size:i,thumbnail:a,isVideo:s}}const f=e=>{const t=o(e),r=t+(t.includes("?")?"&get_json=1":"?get_json=1");return n(),r};async function h(e){if(u.has(e))n();else{n();const t=fetch(e,{credentials:"omit"}).then((async e=>{if(n(e.status),!e.ok)return null;const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch(e){return i(),null}})).catch((e=>(i(),null))).then((t=>(null===t&&u.delete(e),t)));u.set(e,t)}return u.get(e)}function _(e,t){if(n(a(t)),"alt"===e){const e=t.replace(c,(e=>{const{base:t,isVideo:i}=p(e);if(i)return r(),e;const o=f(t),s=d.get(o);if(!s)return r(),e;const l=Array.isArray(s?.photos)?s.photos[0]:null,c=(l?.alt||"").trim();if(!c)return r(),e;const u=String(c).replace(/&/g,"&amp;").replace(/"/g,"&quot;");return n(a(u)),u}));return e!==t&&n(),e}if("srcset"===e){const e=t.split(/\s*,\s*/);n(e.length,e.map((e=>a(e))));const i=e.map(((e,t)=>{const i=e.replace(c,(e=>{const t=/&amp;/.test(e),{base:i,size:o,isVideo:l}=p(e),c=f(i),u=d.get(c);if(!u)return r(),e;if(l)return r(),e;const h=Array.isArray(u?.photos)?u.photos[0]:null,_=h?.src?.[(o||"").toLowerCase()]||null;return _?(n(a(_)),s(_,t)):(r(),e)}));return i!==e&&n(),i})),o=i.join(", ");return n(a(o)),o}const i=t.replace(c,(t=>{const i=/&amp;/.test(t),{base:o,size:l,isVideo:c}=p(t),u=f(o),h=d.get(u);if(!h)return r(),t;const _=(l||"").toLowerCase();if(c){const o=Array.isArray(h?.videos)?h.videos[0]:null;if(!o)return r(),t;if("poster"===e){const e=o.image||o.video_pictures?.[0]?.picture||null;return e?(n(a(e)),s(e,i)):(r(),t)}const l=o.video_files||[],c=function(e){const t=(e||"").toLowerCase(),r="large2x"===t||"large"===t?"uhd":"medium"===t?"hd":"small"===t?"sd":"hd";return n(),r}(_),u=function(e,t){let i;return n(),"uhd"===t?i=e.find((e=>2560===e.width))||e.find((e=>"uhd"===e.quality)):"hd"===t?i=e.find((e=>1920===e.width))||e.find((e=>"hd"===e.quality)):"sd"===t&&(i=e.find((e=>1280===e.width))||e.find((e=>"hd"===e.quality))),i||(i=e[0]),i?n((i.quality,i.width,a(i.link,200))):r(),i?i.link:null}(l,c);return u?(n(a(u)),s(u,i)):(r(),t)}const g=Array.isArray(h?.photos)?h.photos[0]:null,m=g?.src?.[_]||null;return m?(n(a(m)),s(m,i)):(r(Object.keys(g?.src||{})),t)}));return i!==t&&n(),i}return{replaceProxyAttributes:async function(e){if(n(e&&e.length),!e||!/pexels-proxy\.odd-resonance-b1b5\.workers\.dev/i.test(e))return n(),e;console.time(`${t} precollect`),await async function(e){let t;for(l.lastIndex=0;null!==(t=l.exec(e));){const e=o(t.groups.value);let i;for(c.lastIndex=0;null!==(i=c.exec(e));){const{base:e}=p(i[0]),t=f(e);if(n(a(i[0])),n(),!d.has(t)){const e=await h(t);e?(n(),d.set(t,e)):r()}}}}(e),console.timeEnd(`${t} precollect`);let i,s=e;const u=[];for(l.lastIndex=0;null!==(i=l.exec(s));){0;const e=i[0],t=i.groups.attr.toLowerCase(),r=i.groups.value;n(a(e));const o=_(t,r);if(o!==r){n();const r="("===i.groups.eq?"(":"=",a=i.groups.quote,s=i.groups.close||"";u.push({from:e,to:`${t}${r}${a}${o}${a}${s}`})}else n()}n(u.length);for(const e of u)s=s.replace(e.from,e.to);return n(),s}}})();let p={lastResponse:null,deps:window.TvrMT.ai,set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,c=TvrMT.mod.MThtml,l=TvrMT.mod.MTace,s=TvrMT.mod.MTfolder},truncate:{zipIt:3e3,regular:1e4,max:5e4},truncateString:(e,t,r)=>{e&&(e=e.replace(n.mtArtificalClassRegex(),"")),r&&(e=c.quickBeautify(r,e));let i=e.length,a=p.truncate[t],o="regular"===t?"default HTML truncated, request `outerHTML` context for the full HTML":"HTML truncated due to maximum send limit";return i>a?e.substring(0,a)+" ... \n[Note: "+o+"]":e},init_ai:function(e){n.ww.assignTask({channel:"revisions",taskName:"getNearestAIRegionTask",cb:{ref:"mod.MTai",funcName:"initAIFunctions"}})},initAIFunctions:function(e,t){if(p.region=e.region||"us-central1",!p.deps)return;p.deps.firebase.functions=p.deps.firebase.getFunctions(p.deps.firebase.app,p.region);p.resumeChatAndSketchPad()},resumeChatAndSketchPad:function(){let e="";p.chatMessages.forEach((t=>{e+=p.formatChatItem(t.role,t.message,t.current_revision)})),t.stat.aiAssistant.find(".ai-chat").find("ul").html(e),p.setEditorState()},setEditorState(){let t=p.sketchpadFocus,n=p.getSketchpadMode(),r=p.sketchpad;p.updateSktechpadBlueDots(r),p.skipAiSync=1,r[t]||"css"===t?p.updateEditor(n,r[t]):p.tabPressed(e("#ai-editor-tabs").find(".ai-tab-css"))},session:!1,backupDone:!1,pendingResponse:{},requestContext:{},taskCategories:[],contextRequestedInPreviousSteps:{},previousPayload:null,requestCount:1,statusEl:document.getElementById("tvr-ai-status"),stylesheetRules:null,sketchpad:TvrMT.data.dyn.ui.non_section?.meta?.aiSketchpad||{css:"",js:"",html:""},sketchpadFocus:TvrMT.data.dyn.ui.non_section?.meta?.aiSketchpadFocus||"css",getRelevantPreferences:(e,t)=>(["mq_device_focus","pg_focus"].forEach((n=>{t[n]&&(e[n]=t[n])})),e),speechManager:null,saveChanges:(e,r="",i)=>{let a={},s=i?"AI prompt":"AI sketchpad";a=o.user_action(a,{items:[s+": "+r],icon:"mtif-chatbot-icon"}),n.updateObject(t.uiData,["non_section","meta","aiChatMessages"],p.chatWithoutSketchpad(!0)),n.updateObject(t.uiData,["non_section","meta","aiSketchpad"],p.sketchpad),n.updateObject(t.uiData,["non_section","meta","aiSketchpadFocus"],p.sketchpadFocus),o.ajax_save_settings({noSaveDelay:1,manualSave:1,settings:a,cbfArgs:[e],skip_revision:i?0:1,cbFunction:function(e,t){i&&t&&t.refreshPage&&c.refreshPreview()}})},voteCast:function(t){if(p.buttonDisabled(t))return;let n=t.data("vote");"down"===n&&(e("#tvr-ai-prompt").val("That didn't work well. Analyse the page further and fix."),p.sendPrompt(t,{applyDeeperPageAnalysis:1,requestContext:p.requestContext})),p.aiErrorReport(t,n),t.addClass("on tvr-el-disabled")},aiErrorReport:(e,n)=>{let r="Themeover "+n+" vote",i="ai-"+n+".js";t.maybe_send_error_report(!0,e,{error:r,file:i,URL:"wp-content/plugins/themeover-ai/",line:1,col:1,error_key:i+"|1|1|"+r,source:"interface",stack:i},!1,n),p.maybeAddResponseToTraining(n)},getSupportedModels(){window.TVR_DEV_MODE,0},maybeAddResponseToTraining(e){if(window.TVR_DEV_MODE&&e&&p.previousPayload&&p.previousPayload.responseId){p.deps.firebase.httpsCallable(p.deps.firebase.functions,"devResponseVote")({folderName:p.previousPayload.responseId,vote:e}).then((e=>{})).catch((e=>{}))}},retryAIUpdate:function(e){let t=e.siblings(".mtif-instant-undo");p.retry={prompt:e.closest(".ai-response-message").prev().html(),$undo:t},p.undoAIUpdate(t)},undoAIUpdate:function(e,n){(n=n||e.data("id"))?t.iterateRevisionStack(e,n):alert("Cannot undo this update")},resetTask:function(t){if(p.resetContext(),p.sketchpad={css:"",js:"",html:""},p.setEditorState(),e("#ai-editor-tabs").find(".ai-tab").each((function(){e(this).removeClass("hasValues")})),p.clearChat(),e("#tvr-ai-prompt").focus(),void 0!==t){p.updateStatus(t);let e={};e=o.user_action(e,{items:[t],icon:"mtif-chatbot-icon"}),o.ajax_save_settings({noSaveDelay:1,manualSave:1,settings:e})}},buttonDisabled:function(e){return e.hasClass("active")||e.hasClass("tvr-el-disabled")},resetContext:()=>{p.requestContext={},p.taskCategories=[],p.contextRequestedInPreviousSteps={},p.requestCount=1},aiSketchpadModeFromTabkey:e=>"html"===e?"customhtml":"js"===e?"javascript":e,getSketchpadMode:function(){let e=TvrMT.data.dyn.ui_config.supportContent&&p.sketchpadFocus?p.sketchpadFocus:"css";return p.aiSketchpadModeFromTabkey(e)},updateEditor:function(e,t){e=e||"css",t=t||p.sketchpad[e],"css"===e&&(t=l.beautify_css_or_scss(t)),l.update_arbitrary_editor({context:"aiCode",mode:e,editorID:"ai_code",data:t,filterClass:"ai_code",readOnly:!1,directContent:t})},supply:function(e,t,n){return t[e]||n[e]},getSnippetContent:function(e){let t={css:"",html:"",js:""};return Object.entries(e).forEach((([e,n])=>{let r="html",i=n.aspect.match(/^(css|js|function)/);i&&(r="css"===i[1]?"css":"js");let a,o,s=`MT [ startSnippet: ${e} | aspect: ${n.aspect}  ]`;"html"===r?(a=`\x3c!--^^ ${s} ^^--\x3e`,o="\x3c!-- endSnippet --\x3e"):(a=`/*^^ ${s} ^^*/`,o="/* endSnippet */"),t[r]+=`\n${a}\n${n.value}\n${o}`})),t},getRelative:function(e,t){let n=t,r=(e=parseInt(e))>0?"childNode":"parentElement",i=Math.abs(e);for(let e=0;e<i;e++)if("parentElement"===r){if(!n.parentElement)break;n=n.parentElement}else{if(!n.hasChildNodes())break;n=n.childNodes[0]}return n},getAIDom:function(e){let n={forAI:!0},i={};r.setup_dom_object(e,n),r.search_parents_and_descendents(e,n),r.domAI.sels=r.default_sels_config();let a=r.generate_selectors(r.domAI,n,i);return r.sort_selector_suggestions(a.sels.final,t.isHighSpecificity()),r.organise_equiv_selectors(a,i),a},getNodeMeta:function(e,t,i,a){if(!r||!n.isDomEl(e))return null;i=i||{};let o=p.getAIDom(e),s=n.checkObject(o,["search","nodes",0]),l={};if(!s)return null;t&&(l.description=t);let c=e[0];if(i.incCompCSS){l.computedCSS=r.getRelevantComputedCSS(e[0]);for(const t of["::before","::after"]){const n=window.getComputedStyle(e[0],t).getPropertyValue("content");n&&"none"!==n&&(l[t]=r.getRelevantComputedCSS(e[0],t))}}let u=p.getExistingSelectorInfo(e,o,a);if(u.length&&(l.existingSelectors=u),i.getRelated){let t=p.getRelatedSelectors(e,u,a);t.length&&(l.relatedSelectors=t)}let d=n.checkObject(o,["sels","final",0,"code"]);return d&&(l.selectorThatTargetsSingleElement=d),i.incSiblings&&(l.siblings=s.siblingsOverview),i.incChildren&&(l.children=s.childrenOverview),i.htmlIfNotToBig&&c?l.outerHTML=p.truncateString(c.outerHTML,i.doNotTruncate?"max":"regular","html"):p.addKeyAttributes(c,l),l},findSnippetIdsInString(e,t){let n,r=/snippet_id\s*\[\d]\s*:\s*([a-zA-Z0-9]+)/g;for(;null!==(n=r.exec(e));){t[n[1]]=1}},getRelatedSelectors:(e,t,n)=>[],getExistingSelectorInfo(e,t,n){let i=[];return t.mSels.length&&t.mSels.forEach((t=>{let a=r.getSelectorStats(t.code,e),o=t.id.split("-"),s=o[1],l=o[2],c=p.getUserSettings({sectionSlug:s,selectorSlug:l},"currentElement");p.findSnippetIdsInString(c,n),i.push({sectionSlug:s,selectorSlug:l,selectorCode:t.code,numElsSelected:a.numElsSelected,css:c})})),i},addKeyAttributes:(e,t)=>{if(!e||!e.tagName)return"";let r=e.tagName.toLowerCase();const i=e.getAttribute("type");i&&(r+=`[type="${i}"]`),e.id&&(r+=`#${e.id}`),e.classList&&e.classList.length&&(r+="."+Array.from(e.classList).join(".").replace(n.mtArtificalClassRegex(),"")),t.keyAtts=r},hasAncestorInSet(e,t){for(let n=e.parentElement;n;n=n.parentElement)if(t.has(n))return!0;return!1},pageAnalysis:function(t,i,a,o,s){const l=new Set;let c=a.pageAnalysis;if(r)return Object.entries(c).forEach((([i,a])=>{(r?r.evaluateXPath(i,t&&!a.documentContextNode?t:r.stat.doc):[]).forEach(((t,r)=>{let a=t.element;o.pageAnalysis||(o.pageAnalysis={}),o.pageAnalysis[i]||(o.pageAnalysis[i]=[]),o.pageAnalysis[i][r]||(o.pageAnalysis[i][r]={}),o.pageAnalysis[i][r].relation=t.relation;let s=!0;if(c[i].outerHTML&&(this.hasAncestorInSet(a,l)||(o.pageAnalysis[i][r].outerHTML=p.truncateString(a.outerHTML,"max","html"),l.add(a),s=!1)),s&&p.addKeyAttributes(a,o.pageAnalysis[i][r]),c[i].computedCSS&&(o.pageAnalysis[i][r].computedCSS=e(a).css(Object.keys(c[i].computedCSS))),c[i].verifiedSelectors){let t=e(a),s=p.getAIDom(t),l=n.checkObject(s,["sels","final"]);l&&l.length&&(o.pageAnalysis[i][r].verifiedSelectors={},l.forEach(((e,t)=>{o.pageAnalysis[i][r].verifiedSelectors[e.code]=e.n})))}}))})),!1},getUserSettings:function(e,t,i){let a="allFolders"===t,o="loadingFolders"===t&&r&&r.stat.win.MTDynFrontData?r.stat.win.MTDynFrontData:0,s="currentFolder"===t;return e?p.getCompiledCSS({includeFolderComment:!1,allSections:a,loadingSections:o,targetSection:e.sectionSlug,allSelectors:i||a||o||s,targetSelector:"currentElement"===t?e.selectorSlug:void 0,cbs:{section:[{item:function(e,t,r){e.existingCSS+=n.get_section_css(e,null,t,r,!0)}}],mq:[{item:function(e,t,r,i){let a=n.get_section_css(e,null,t,r,!0,i);a&&(e.existingCSS+="\n/*( "+TvrMQsCombined[i].label+" )*/\n"+TvrMQsCombined[i].query+" {\n",e.existingCSS+=a,e.existingCSS+="}\n\n")}}]}}):""},getContext:function(i,a){if(!r)return{};let o=0,l=t.get_selector_in_focus(),c={},u=i.requestContext||{},d=!!n.isDomEl(r.triggerEl)&&r.triggerEl[0],f=d?d.tagName.toLowerCase():null,h=r.getMTDynFrontData()||{},_=[],g=[],m=t.stat.iframe,v={path:n.extract_url_path(n.strip_page_builder_and_other_params(r.get_current_url()),t.blog_details),logicToTargetSinglePage:h.logic,id:h.id,title:h.title,isAdminArea:h.isAdminArea,windowSize:m.width()+" x "+m.height()},y=t.get_mq_focus(),b={};"all-devices"!==y&&(t.mediaQueryNotApplying?v.mediaQueryNotApplying=1:v.mediaQueryIsApplying=1),r&&(v.rootFontSize=r.getBaseFontSize()+"px");let w=Object.keys(t.uiData).filter((function(e){return"non_section"!==e})),T=[];for(let e=0;e<w.length;++e){let r=w[e],i=(n.checkObject(t.uiData,[r,"this","logic"])||{}).expr,a=s.folderNotLoading(r)?0:1;a&&T.push(t.get_section_name(r)||r),g.push({name:t.uiData[r].this.label,logic:n.checkObject(t.uiData,[r,"this","logic"])||null,loadsOnPage:a,frontGlobal:s.folderIsEffectivelyGlobal(r,i)?1:0})}Object.entries(window.TvrMQsCombined).forEach((([e,t])=>{"All Devices"!==t.label&&_.push({label:t.label,query:t.query})}));let x=u.editorSettingsScope||"currentElement";if(u.chatHistoryWithSketchpad&&(c.chatHistoryWithSketchpad=p.chatMessages,o=!0),u.completeFolderNames&&(c.completeFolderNames=g),u.pageAnalysis){this.pageAnalysis(d,f,u,c,b)}u.elementCSSRules&&p.styleSheetRules&&(c.elementCSSRules=n.strip_important_prefixes(p.styleSheetRules),o=!0);let k=d?{"./..":[p.getNodeMeta(r.triggerEl.parent(),"Direct parent element",{incCompCSS:1,checkPseudo:1},b)],".":[p.getNodeMeta(r.triggerEl,"Current element",{incCompCSS:1,checkPseudo:1,htmlIfNotToBig:1,getRelated:1},b)],"./*[1]":[p.getNodeMeta(r.triggerEl.children().first(),"First child element",{incCompCSS:1},b)]}:{".":[p.getNodeMeta(r.stat.body,"No element selected, so providing full body HTML",{htmlIfNotToBig:1,doNotTruncate:1},b)]},S=p.chatMessages.length&&!u.chatHistoryWithSketchpad?p.chatWithoutSketchpad():null,C=d?p.extractBreadcrumbs(!0,!0):null,M={currentFolder:{name:l?l.sectionH:null,logic:l&&n.checkObject(t.uiData,[l.sectionSlug,"this","logic"])||null},currentSelector:{name:l?l.selectorH:null,cssSelector:l?l.selectorCode:null},editorSelectors:""};"currentElement"!==x&&(M.editorSelectors=p.getUserSettings(l,x),p.findSnippetIdsInString(M.editorSelectors,b));let A=Object.keys(b);A.length&&(A.forEach((e=>{TvrMT.data.dyn.snippets.cache[e]?b[e]=TvrMT.data.dyn.snippets.cache[e]:delete b[e]})),Object.keys(b)&&(M.editorSnippets=this.getSnippetContent(b)));let O={requestStep:{current:p.requestCount,max:3},domain:t.homeUrl,locale:TvrMT.data.dyn.ui_config.locale||"en-US",contextRequestedInPreviousSteps:p.contextRequestedInPreviousSteps,cumulativeContextRequestedDuringChat:u,chatHistory:S,editorSettingsScope:x,settings:M,loadingFoldersNames:T,mediaQueries:_,pageMeta:v,currentElementXPath:C,pageAnalysis:k};return e.extend(!0,O,c),parseInt(t.pref.tailwind)&&(O.useTailwindClasses=1),{data:O,zipIt:o}},extractBreadcrumbs:function(n,r){let i=[];return t.stat.breadcrumbs.children().each((function(t){let a=e(this),o=a.hasClass("active-crumb")?" (current element)":"",s=a.text();if(r){let e=s;e=e.replace(/#([a-zA-Z0-9_-]+)/g,'[@id="$1"]').replace(/\.([a-zA-Z0-9_-]+)/g,'[contains(@class, "$1")]'),i.push(e)}else i.push(s+o);if(n&&o)return!1})),r?"/"+i.join("/"):i.join(" > ")},getCompiledCSS:function(e){return l.beautify_css_or_scss(n.loopUiData(e,t.uiData,t.get_mq_focus()).existingCSS)},chatMessages:TvrMT.data.dyn.ui.non_section?.meta?.aiChatMessages||[],formatAiMessage:function(e){return e.replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\n/g,"<br />")},formatChatItem:function(e,t,n){let r=TvrMT.data.dyn.ui_config.user_display_name,i=r?r.trim().substring(0,1).toUpperCase():"Me",a='<div class="tvr-ai-feedback"><span class="mtif mtif-thumbs-up-solid ai-feedback-thumb" data-vote="up"></span><span class="mtif mtif-thumbs-down-solid ai-feedback-thumb" data-vote="down"></span><span class="mtif mtif-instant-undo" data-id="'+n+'" data-action="undo" data-mtc="mod.MTai.undoAIUpdate"></span><span class="mtif mtif-sync-alt retry-ai-response" title="Retry" data-mtc="mod.MTai.retryAIUpdate"></span>';return"user"===e?'<li class="ai-prompt-message speech-bubble" data-user-initial="'+i+'">'+t+"</li>":'<li class="ai-response-message">'+p.formatAiMessage(t)+a+"</li>"},addToChat:function(e,n,r,i){i=i||"fast";let a=t.pref.current_revision,o=t.stat.aiAssistant.find(".ai-chat"),s=p.formatChatItem(e,n,a);o.find("ul").append(s);let l=o.find("li").last();l.hide().slideDown(i,(function(){t.scrollIntoView(o,l,-12)}));let c={role:e,message:n,current_revision:a};r&&(c.sketchpad=r),p.chatMessages.push(c)},removeLastChatMessage:function(){let e=t.stat.aiAssistant.find(".ai-chat").find("ul li").last();e.length&&e.slideUp("fast",(function(){e.remove()})),p.chatMessages.length>0&&p.chatMessages.pop()},chatWithoutSketchpad:function(e){let t=[];return p.chatMessages.forEach((n=>{let r={role:n.role,message:n.message};e&&(r.current_revision=n.current_revision),t.push(r)})),t},clearChat:function(){t.stat.aiAssistant.find(".ai-chat ul").html(""),p.chatMessages=[],delete t.uiData.non_section.meta.aiChatMessages,delete t.uiData.non_section.meta.aiSketchpad,delete t.uiData.non_section.meta.aiSketchpadFocus},ensureAuthenticated:async function(){if(!p.deps.firebase||!p.deps.firebase.auth||!p.deps.firebase.authApi.signInAnonymously)return p.updateStatus("Authentication system error.","error"),null;const e=p.deps.firebase.auth;let t=e.currentUser;if(t)return t;p.updateStatus("Initializing...","info");try{return t=(await p.deps.firebase.authApi.signInAnonymously(e)).user,p.updateStatus("Session initialized.","success"),t}catch(e){return p.updateStatus("Error initializing session.","error"),null}},getLLMResources(){let e={};if(TvrMT.data.dyn.ui_config.supportContent){e.availableIDs=[];for(let t=0;t<10;t++)e.availableIDs.push(c.generateSecureKey())}return e},sendPrompt:async function(i,s,l,c){i=i||e("#ai-send-prompt"),s=s||{};const d=await p.ensureAuthenticated();if(!d)return p.updateStatus("Could not establish a connection. Please try again later.","error"),!1;if(r.isAdminArea&&!parseInt(t.pref.ai_admin_access))return t.stat.aiAssistant.find(".toggle-ai-advanced").trigger("click"),alert("The AI assistant is not allowed to access the admin area by default. You can optionally enable this if you do not mind sharing non-public content with AI models (Open AI, Anthropic, Google Gemini)."),!1;if(t.retargetSelector||t.draftSelector.atts.id)t.selInFocusIDChanged=null,t.save_draft_selector(t.retargetSelector,!0,null,null,1);else if(t.selInFocusID&&t.selInFocusIDChanged){t.selInFocusIDChanged=null;let e={savePackage:[{trail:["non_section","meta","last_viewed_selector"],action:"replace",data:t.selInFocusID}]};e=o.user_action(e,{items:["Element selected for AI"],icon:"mtif-target"}),o.ajax_save_settings({noSaveDelay:1,manualSave:1,aiRetryShouldAwaitSave:1,settings:e})}if(p.buttonDisabled(i))return;n.startT("aiAction"),n.startT("sendPrompt");let f=t.stat.aiAssistant.find('textarea[name="ai_prompt"]'),h=f.val()||f[0].value;if(!h||!h.trim())return void alert("Please provide an instruction for the AI assistant.");let _=e("#ai-can").val(),g=p.getContext(s,h),m=e("#ai-model").val();s.applyDeeperPageAnalysis&&(g.applyDeeperPageAnalysis=1),s.supplyingContext||(p.addToChat("user",n.escapeHTML(h)),e("#tvr-ai-prompt").trigger("blur")),l&&p.previousPayload?l&&p.previousPayload&&g.data.pageAnalysis&&(p.previousPayload.context.pageAnalysis=g.data.pageAnalysis):p.previousPayload={plugin_version:TvrMT.data.dyn.ui_config.plugin_version,appName:t.appName,supportGUICSS:TvrMT.data.dyn.ui_config.supportGUICSS?1:0,supportContent:TvrMT.data.dyn.ui_config.supportContent?1:0,importantAlwaysDone:parseInt(t.pref.css_important)?1:0,supportTailwind:parseInt(t.pref.tailwind)?1:0,promptText:h,numPreviousMessages:p.chatMessages.length-1,model:m,ai_can:_,allowMoreContext:s.dissallowMoreContext?0:1,requestCount:s.requestCount||1,taskCategories:p.taskCategories,contextRequestedInPreviousSteps:s.contextRequestedInPreviousSteps,context:g.data,resources:p.getLLMResources()};let v=null;try{v=await d.getIdToken()}catch(e){return p.updateStatus("Authentication error (token).","error"),!1}i.add(i.prev()).addClass("active tvr-el-disabled"),s.supplyingContext||p.updateStatus(u.messaging_ai);let y=p.previousPayload;if(!window.TVR_DEV_MODE){const e=JSON.stringify(p.previousPayload);y={zipped:p.deps.pako.deflate(e)}}p.deps.firebase.httpsCallable(p.deps.firebase.functions,"apiHandler")(y).then((e=>{p.promptComplete(e.data,i)})).catch(((e,t)=>{i.add(i.prev()).removeClass("active tvr-el-disabled"),p.updateStatus("Error - "+e,"error"),p.removeLastChatMessage(),p.contextRequestedInPreviousSteps={},p.requestCount=1,console.warn("We have an error",e,t)})),p.speechManager&&(p.speechManager.transcript=""),s.supplyingContext||(p.styleSheetRules=null,a.update_stylesheet_rules(!0))},updateStatus:function(e,t){this.statusEl.setAttribute("data-status",t),this.statusEl.innerHTML=e},showHiddenChars:e=>Array.from(e).map((e=>({char:e,code:e.charCodeAt(0),hex:"0x"+e.charCodeAt(0).toString(16)}))),cleanJsonWrapText:function(e){let t=e.match(/```json\s*([\s\S]*?)\s*```\s*$/);return(t?t[1]:e).trim().replace(/\0+$/,"")},parseOrRepairJson:function(e){let t={safeParse(e){try{return JSON.parse(e)}catch(e){return null}},jsonRepair:function(e){try{let t=p.deps.jsonrepair(e);return JSON.parse(t)}catch(e){return null}},cleanAndParse(e){try{const t=e.match(/{[\s\S]*}/);if(!t)return null;let n=t[0];return n=n.replace(/\0/g,""),JSON.parse(n)}catch(e){return null}},repairAndParse(e){try{let t=e;return t=t.replace(/}+$/,"}").replace(/,\s*([\]}])/g,"$1").replace(/^[^{]*({[\s\S]*})[^}]*$/,"$1"),JSON.parse(t)}catch(e){return null}}};return t.safeParse(e)||t.jsonRepair(e)||t.cleanAndParse(e)||t.repairAndParse(e)},promptComplete:function(e,t){if(t.add(t.prev()).removeClass("active tvr-el-disabled"),n.endT("sendPrompt",1),e.error)return void p.updateStatus(e.error+": "+e.details,"error");let r,i,a=e.provider,o=p.sketchpad;"gpt"===a?r=["response","choices",0,"message","content"]:"claude"===a?r=["response","content",0,"text"]:"gemini"===a&&(r=["response","candidates",0,"content","parts",0,"text"]);let s=r?n.checkObject(e,r):null;if(s){if(i=p.cleanJsonWrapText(s),i){if(i=p.parseOrRepairJson(i),!i)return void p.updateStatus("AI response was invalid","error");p.previousPayload.responseId=e.responseId,i.responseId=p.previousPayload.responseId,i.payloadSize=e.payloadSize,i.speed=e.speed;let n=i.taskCategories||[],r=!1;1===p.requestCount&&(n.includes("image")&&!p.taskCategories.includes("image")&&(r=!0),TvrMT.data.dyn.ui_config.supportContent?(n.includes("THREE.js")&&!p.taskCategories.includes("THREE.js")||n.includes("video")&&!p.taskCategories.includes("video"))&&(r=!0):(n.includes("move")&&!p.taskCategories.includes("move")||n.includes("animate")&&!p.taskCategories.includes("animate"))&&(r=!0)),p.taskCategories=n,i.requestContext||r?p.requestMoreContext(i,t,r):p.processChangeResponse(o,i)}}else p.updateStatus("AI response was missing","error")},requestMoreContext(t,n,r){p.contextRequestedInPreviousSteps[p.requestCount]=t.requestContext,e.extend(!0,p.requestContext,t.requestContext),p.requestCount++,p.sendPrompt(n,{requestContext:p.requestContext,requestCount:p.requestCount,supplyingContext:1,supplyMoreInstructions:r,dissallowMoreContext:p.requestCount>=3?1:0}),p.updateStatus("Supplying more context")},testAIResponse(e){const n=JSON.parse(e.prev().val());n.requestContext?p.requestMoreContext(n):(p.processChangeResponse(p.sketchpad,n),t.toggle_enabled_buttons())},processChangeResponse:async function(t,r){p.updateStatus("Response received","success");p.getSketchpadMode();let i=e("#tvr-ai-prompt"),a=i.val();p.requestCount=1,p.contextRequestedInPreviousSteps={},p.syncingAICode=!0,t.css=n.checkObject(r,["changeResponse","sketchpad","css"])||"",t.js=n.checkObject(r,["changeResponse","sketchpad","js"])||"",t.html=n.checkObject(r,["changeResponse","sketchpad","html"])||"",await p.postProcessing(t),p.setEditorState(),p.prettyLogJson(t),i.val("").trigger("focus");let o=r?.replyText||r?.changeResponse?.replyText;o=o?n.escapeHTML(o):"AI error - try again",p.addToChat("assistant",o,t),p.syncAICode(t,!0,a,r),n.endT("aiAction",1)},updateSktechpadBlueDots(t){Object.entries(t).forEach((([t,n])=>{e("#ai-editor-tabs").find(".ai-tab-"+t)[n?"addClass":"removeClass"]("hasValues")}))},snippetRegex:/(<!--|\/\*)\^\^\s*MT\s+\[\s*startSnippet:\s*([a-zA-Z0-9_-]+)(?:\s*\|\s*aspect:\s*([a-zA-Z0-9_-]+(?: ?[a-zA-Z0-9_-]+)*))?\s*]\s*\^\^\s*(-->|\*\/)\s*([\s\S]*?)\s*(<!--|\/\*)\s*endSnippet\s*(-->|\*\/)/g,postProcessing:async function(e){for(const t of["css","html","js"]){let n=e[t];n&&(n=await d.replaceProxyAttributes(n),e[t]=n)}},extractSnippets:async function(e){const t=p.snippetRegex,n={};for(const r of["css","html","js"]){let i,a=e[r];if(a)for((t.global||t.sticky)&&(t.lastIndex=0);null!==(i=t.exec(a));){const t=i[2],a=i[5],o=i[3]||("js"===r&&c.codeIsSingleFunction(a)?"jsFunction":r),s=TvrMT.data.dyn.snippets.cache[t];c.storeSnippetInCache(null,t,c.getOrCreateSnippetName(a,t),a,o);const l=TvrMT.data.dyn.snippets.cache[t];s&&l&&s!==l&&(c.snippetChanged=t),n[t]=a,"js"===r&&(e.refreshPage=1)}}return n},syncAICode:async function(s,l,c,u){await p.extractSnippets(s);let d=s.css.replace(p.snippetRegex,""),f=a.parse_css(d,!0),h=n.checkObject(f,["stylesheet","parsingErrors"]);if(h&&h.length)return;let _=a.ast_to_data(f.stylesheet.rules,{ai_sync:1,css_imp_mqs:1,css_imp_sels:1,css_imp_styles:1,css_imp_friendly:1});a.updateMTDataImportedFullCode(_.non_section.m,_,"AI Generated",!0);let g=[];Object.entries(_.non_section.active_queries).forEach((([e,n])=>{t.pref.m_queries[e]||(t.pref.m_queries[e]=n,g.push(e))})),g.length&&(t.updateTvrMQsCombinedData(),t.liveUpdateInterfaceMQs(),o.save_multiple_preferences({m_queries:t.pref.m_queries},!1,"revisions"));let m={allSections:1,allSelectors:1,updatedSections:{},forAISync:1,updatedSelectors:{},addedSelectors:[],settings:{domDepth:"group"},no_style_node_update:1,cbs:{section:[{item:function(r,i,a,o){if(!n.checkObject(t.uiData,r.trail)&&(t.add_section(i.this.label,!1,!0),i.this.disabled)){let n=t.get_meta(e("#strk-"+a),"section");t.input_icon_toggle(n.sectionM.find(".disabled-toggle"))}}}],selector:[{item:function(e,r,i,o,s,l){let c=n.checkObject(t.uiData,e.trail);n.updateObject(t.uiData,e.trail,l),c||(e.addedSelectors.push(i+"-"+s),t.totalSels++),a.selector_groups_to_ast(e,null,{dontUpdateSavePackage:1},!0),e.updatedSections[o]||(e.updatedSections[o]={}),e.updatedSections[o][i]=1,e.updatedSelectors[i+"-"+s]=o}}]}};n.loopUiData(m,_);let v,y=!1;if(u&&u.taskCategories&&u.taskCategories.includes("animateWithCSS")&&(t.pref.pg_focus="animation",y=!0),Object.entries(m.updatedSections).forEach((([i,a])=>{Object.keys(a).forEach((a=>{let o=t.get_meta(e("#strk-"+a),"section");r.update_preview_style_node([i,a],n.get_section_css({},null,n.get_js_object_data([a],i).data,a),"all-devices"!==i&&t.pref.m_queries[i].query),t.load_folder_menu_selectors(o)}))})),i.run_global_scans({},["html_mods","active_events"]),m.addedSelectors.length)v=t.get_meta(e("#strk-"+m.addedSelectors[0]),"selector"),v&&t.tvr_iterate_selectors_v(v.selectorM,!1,{});else if(v=t.get_selector_in_focus(),v){let n=Object.keys(m.updatedSelectors),r=m.updatedSelectors[v.sectionSlug+"-"+v.selectorSlug];if(r||!n.length)t.trigger_pg_icon_click();else if(n.length){let i=n[0];v=t.get_meta(e("#strk-"+i),"selector"),v&&(t.tvr_iterate_selectors_v(v.selectorM,!1,{}),r=m.updatedSelectors[i])}r&&r!==t.get_mq_focus()&&t.mq_tab_pressed(t.stat.res.find(".mq-tab-"+r))}if(y){let e=v.selector.find(".play-anim");n.isDomEl(e)&&e.trigger("click")}p.saveChanges(s,c,l),t.toggle_enabled_buttons(),p.syncingAICode=!1},prettyLogJson:function(e){let t=JSON.stringify(e,null,2);t=t.replace(/\\n/g,"\n").replace(/\\t/g,"\t")},toggleSettings:function(e){t.toggle_context_menu({$clicked:e,filter:".cm-ai-advanced",after_open:function(e){},after_close:function(e){}})},tabPressed:function(e){n.startT(arguments);let r=t.stat.aiEditor,i=r.find(".query-tabs"),a=e.attr("rel"),o=".ai-focus",s="changes"!==r.find(o).val()&&"changes"!==a;p.sketchpadFocus=a,n.updateObject(t.uiData,["non_section","meta","aiSketchpadFocus"],p.sketchpadFocus);let l=p.aiSketchpadModeFromTabkey(a);p.skipAiSync=1,p.updateEditor(l,p.sketchpad[a]),t.update_tab(r,".ai-area",i,a,".ai-tab",o,s),n.endT(arguments)}};return window.TvrMT.ai&&(p.speechManager=new window.TvrMT.ai.SpeechManager(p,e("#user-browser").attr("rel"))),p}()})),jQuery(document).ready((function(e){TvrMT.mod.MTwidget=function(){var t,n,r,i,a,o,s={set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTsave,o=TvrMT.mod.MTdd},stat:{},sliderDragging:!1,portArea:{},defaultConfig:{value:0,blocksInView:5,leftAdjust:0,min:0},operators:{"<":function(e,t){return e<t},">":function(e,t){return e>t},"-":function(e,t){return e-t},"+":function(e,t){return e+t}},get_numbers:function(e,t,r){var i,a={};a.increment=t||(e?{px:1,"%":1,vh:1,vmin:1,vmax:1,vw:1,mm:1,pt:1,deg:1,grad:1,ms:1,cm:.1,ch:.1,em:.1,ex:.1,in:.1,rem:.1,pc:.1,rad:.1,turn:.1,s:.1,fr:.01}[e]:.01);var o=n.checkObject(s.sliderConfig,["slidablePieces","sliderIncrement"]);switch(o&&(a.increment=t=o),a.increment){case 1:var l="px"===e||"ms"===e||1===t;a.minPrecision=l?0:1,a.maxPrecision=l?0:2,i=10;break;case.1:a.minPrecision=1,a.maxPrecision=3,i=10;break;case.05:a.minPrecision=2,a.maxPrecision=3,i=20;break;case.01:a.minPrecision=2,a.maxPrecision=3,i=10}return a.block=a.increment*i,a.valueToPx=r/a.block,a},getMinMax:function(e,t,r,i){var a=n.checkObject(r,["slidablePieces",i]);return void 0!==a&&!1!==a?a:e===Object(e)?e[t]:e},getSliderConfig:function(r){var i=e.extend(!0,{},this.defaultConfig,r),a=s.stat,o=n.isDefined(i.direction)?i.direction:parseInt(t.pref.tape_measure_slider)?-1:1,l=this.operators,c=this.getMinMax(i.min,i.cssUnit,i,"min"),u=this.getMinMax(i.max,i.cssUnit,i,"max"),d=o>0?l[">"]:l["<"],p=o>0?l["<"]:l[">"],f=l["+"],h=o>0?l["<"]:l[">"],_=o>0?l[">"]:l["<"],g=o>0?l["+"]:l["-"],m=o>0?l["+"]:l["-"],v=o>0?l["-"]:l["+"],y=i.blocksInView+1,b=3*y,w=a.port.width(),T=(parseInt(t.pref.tape_measure_slider),30),x=this.get_numbers(i.cssUnit,i.increment,T),k=x.valueToPx,S=w/2;return e.extend(!0,i,{direction:o,maxVisibleBlocks:y,totalBlocks:b,blockPx:T,numbers:x,min:c,max:u,isTimeField:"s"===i.cssUnit||"ms"===i.cssUnit,portBoundingClientRect:s.stat.port[0].getBoundingClientRect(),minAbsCompare:d,maxAbsCompare:h,minOffsetAdjust:f,maxOffsetAdjust:g,minLeftCompare:p,maxLeftCompare:_,leftToValueOffsetAdjust:m,valueToLeftOffsetAdjust:v,px:{left:s.value_to_left(i.value,k,S),port:w,portCenterOffset:S,block:T,buttons:a.buttons.width(),units:a.cssUnitToggle.width(),min:n.isDefined(c)?f(c*k,S):void 0,max:n.isDefined(u)?o*g(u*k,S):void 0,dragAction:{}}})},maybe_update_slidable_pieces:function(e,t){e.hasClass("mt-slider")&&s.update_slider_set(!1,e)},get_slidable_pieces:function(e,i,a){if(a=a||{},!n.isDefined(e))return!1;e=e.toString(),i=i||0;var l=!1,c=s.isInPathString(e),u=(s.isInUrlString(e),c),d="("+o.reg.leng({optUnit:1,mustHaveUnit:1,inc:["top","bottom","center","left","right"]})+")",p=new RegExp(d,"g"),f=n.get_all_matches(e,p,1,{itemObj:1}),h=!1,_=null,g=f.length;if(g)for(var m=0;m<g;m++){var v=f[m],y=i>=v.start&&i<=v.end,b=i<v.start,w=i>v.end,T=0===m,x=m+1===g;if(y){h=v;break}if(b){if(T)h=v;else h=i-_.end<v.start-i?_:v;break}w&&x&&(h=v),_=v}if(h){h.rawValue=h.value;var k=e.slice(0,h.start),S=!1,C=void 0,M=void 0;if(""!==k)k.match(new RegExp(o.reg.anyRGBNum({endOfString:1})))&&(S=1,u=!0,C=0,M=255);if(a.maybeConvert&&!u){var A=a.maybeConvert,O=(A.cssf,A.targetUnit),E=o.separate_value_unit(h.rawValue);if(E)var P=E.unit;if(O!==P){var D=s.convertCSSUnit({prop:A.prop,cssf:A.cssf,value:parseFloat(h.rawValue),sourceUnit:P,targetUnit:O,precision:s.get_numbers(O).maxPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[],baseFontSize:t.iframeEditing()?r.getBaseFontSize():t.baseFontSize});D.conversionFailed||(h.value=D.unitValue)}}h.origLen=h.rawValue.length;var j=e.slice(h.start,h.end);l={cursorPos:i,fullString:e,matches:f,extracted:h,rawValue:h.rawValue,isInPathString:c,unitIsInvalid:u,sliderIncrement:S,min:C,max:M,devDebug:{success:j===h.rawValue,rawValue:h.rawValue,value:h.value,retrieved:j,pattern:d,globalPattern:p,convResult:l,newVal:n.replaceAt(e,h.start,"100000px",h.origLen)}}}return s.sliderConfig.slidablePieces=l,l},unitIsInvalid:function(e){return n.checkObject(e,["slidablePieces","unitIsInvalid"])},isInPathString:function(e){return!!e&&e.match(/^\s*path\(/)},isInUrlString:function(e){return!!e&&e.match(/^\s*url\(/)},resolve_unit:function(e,t,r,i){var a=!i&&o.separate_value_unit(e);return a?a.unit:n.isDefined(t)?t:r},get_config_from_input:function(e){if(n.isDomEl(e)&&e.hasClass("property-input")){var r=t.get_meta(e,"property"),a=e.attr("rel"),l=n.prop_to_cssf(a),c=TvrMT.data.prog.lh[l],u=i.get_property_data(r)||{},d=u.property||{},p=t.get_default_unit(r.groupSlug,r.propertySlug),f=d.unit,h=n.checkObject(c,["sug_values"])||{},_=n.checkObject(c,["special_units"])||!1,g=h.unitless_slider,m=h.min,v=h.max,y=h.increment,b=e.val(),w=!n.isDefined(b),T=w?t.single_comp_value(l):b,x=s.get_slidable_pieces(T,e[0].selectionStart,{maybeConvert:!!w&&{prop:a,cssf:l,targetUnit:s.resolve_unit(T,f,p,w)}}),k=x?x.extracted.value:T,S=s.resolve_unit(k,f,p),C=o.separate_value_unit(k),M=k,A=!1===n.checkObject(TvrMT.data.prog.autoMap,[a,"%"],!0);return k=s.resolve_slider_compatible_value(k,a,l,S,!1,w),{M:r,jsData:u,propertyData:d,group:r.groupSlug,prop:a,cssf:l,$input:e,value:k,rawValue:M,cssUnit:S,slidablePieces:x,excludePercent:A,special_units:_,unitless_slider:g,min:m,max:v,increment:y,unitFromValue:!!C&&S,isVariableField:r.property.hasClass("has-variable-line")}}return{}},resolve_slider_compatible_value:function(e,t,r,i,a,l){if(n.isDefined(e)&&(e=e.split(" ")[0]),!n.isDefined(e)||!n.isNumber(e)){var c=o.separate_value_unit(e);c?e=c.value:l||(e=this.get_value_from_computed(t,r,i),a&&(s.sliderValPendingComp=!0))}return e=parseFloat(e),isNaN(e)&&(e=0),e},get_value_from_computed:function(e,r,i,a){var l=t.single_comp_value(r),c=s.get_slidable_pieces(l);c&&(l=c.extracted.value),"none"===l&&("max-width"===r||"min-width"===r?l=t.compProps.width:"max-height"!==r&&"min-height"!==r||(l=t.compProps.height));var u=o.separate_value_unit(l);if(void 0===i||!u||u.unit===i){if("[ ? ]"===l)return 1;var d=parseFloat(l);return n.isNumber(d)?d:0}var p=parseFloat(u.value),f=u.unit,h=s.convertCSSUnit({prop:e,cssf:r,value:p,sourceUnit:f,targetUnit:i,slidablePieces:c,precision:this.get_numbers(i).minPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[]});return h.conversionFailed&&(h.value=p),a?h:h.value},init_slider:function(){var t=e("#mt-slider-set");this.stat={set:t,port:t.find(".drag-port"),containment:t.find(".drag-containment"),dragBar:t.find("#mtss-dragbar"),buttons:t.find(".mtss-buttons"),plusMinusButton:t.find(".mtss-button"),cssUnitToggle:t.find(".mtss-unit-menu"),cssUnitMenu:e("#mtss-units"),cssUnit:t.find(".mtss-current-unit"),numericValue:t.find(".mtss-numeric-value"),pxEquiv:t.find(".mtss-px-equiv"),pxEquivValue:t.find(".mtss-px-value")},this.enable_jquery_draggable(),this.stat.plusMinusButton.on("mousedown",(function(t){s.start_hold_action(t,!e(this).hasClass("mtss-incr-button"))})).on("mouseup mouseleave",(function(){s.end_hold_action()}))},start_hold_action:function(e,t){s.holding=!0,n.action_after_timeout("increment_hold",100,{item:function(e,t){s.holding&&(s.holdTimeout=setInterval((function(){s.increment_change(e,t)}),30))},args:[e,t]})},end_hold_action:function(){s.holding=!1,clearInterval(s.holdTimeout)},enable_jquery_draggable:function(e){e=e||"x",t.stat.sliderDragbar.MTdraggable({axis:e,start:function(e,n){var r=s.sliderConfig,i=s.stat;e.clientX,r.portBoundingClientRect,n.originalPosition.left;if(t.isForbiddenProperty(r.$input))return!1;i.set.addClass("mt-slider-dragging"),s.clear_comp_set_waiting(),t.get_local_window_function("maybe_hide_mt_highlight")()},stop:function(){t.get_local_window_function("maybe_reinstate_mt_highlight")();var e=s.sliderConfig;s.stat.set.removeClass("mt-slider-dragging"),s.update_drag_slack(e.value),s.renderSliderValue({$property:e.$input,triggeredBySlider:1,draggingStopped:1,noSaveDelay:1})},drag:function(e,t){t.position.left=s.within_min_max(t.position.left);var n=t.position.left,r=s.sliderConfig;if(n!==r.px.left){var i=s.left_to_value(n,r.numbers.valueToPx,r.px.portCenterOffset,r.leftAdjust,r.numbers.minPrecision);s.update_slider_value(i,{updatePreview:1,userSliding:1,noSave:1})}}})},within_min_max:function(e){var t=s.sliderConfig,r=(t.$input,t.px.min),i=t.px.max,a=t.px.dragAction.min,o=t.px.dragAction.max,l=!n.isDefined(a)||n.isDefined(r)&&t.minAbsCompare(r,a)?r:a,c=!n.isDefined(o)||n.isDefined(i)&&t.maxAbsCompare(i,o)?i:o;return n.isDefined(l)&&t.minLeftCompare(e,l)?l:n.isDefined(c)&&t.maxLeftCompare(e,c)?c:e},left_to_value:function(e,t,n,r,i){var a=this.sliderConfig.direction*((e-n)/t);return this.decimal_precision(a,i)},value_to_left:function(e,t,r,i){return(i=n.isDefined(i)?i:this.sliderConfig.direction)*(t*e)+r},sliderConfig:{},show_slider_set:function(t,r){n.startT(arguments);var i=s.stat,a=MTlocal.get_custom_autocomplete(t);if(!a)return!1;var o=e(a.menu.element),l=o[0].getBoundingClientRect(),c=i.set[0].getBoundingClientRect(),u=this.sliderConfig,d="none"!==i.set.css("display");d&&c.top-1===l.top&&c.left-1===l.left||i.set.css("display","grid").offset({top:l.top+1,left:l.left+1}).width(o[0].scrollWidth),d&&t.is(u.$input)||s.update_slider_set(!1,t),n.endT(arguments)},hide_slider_set:function(){s.stat.set.css("display","none"),this.hide_unit_menu()},update_slider_set:function(e,t){n.startT(arguments),e=e||this.get_config_from_input(t),this.sliderConfig=this.getSliderConfig(e);var r=this.sliderConfig,i=r.value,a=r.rawValue,o=r.cssUnit;this.update_css_unit(o,{writeUnitToSlider:1,updateSliderValue:1,positionDragbar:1},i,a),n.endT(arguments)},update_drag_slack:function(e){n.startT(arguments);var r=n.getViewPortDimensions(window);parseInt(t.pref.tape_measure_slider);if(r){var i=this.sliderConfig,a=s.stat,o=a.set[0].getBoundingClientRect(),l=parseFloat(a.dragBar.css("left")),c=i.px.block,u=a.buttons.width(),d=a.port.width(),p=i.px.portCenterOffset,f=o.left+u,h=o.left+u+d+p,_=r.vw+p-f,g=Math.round(h/c),m=Math.round(_/c),v=g+m,y=0,b=i.numbers;if(parseInt(t.pref.tape_measure_slider))var w=e-m*b.block,T=Math.floor(w/b.block)*b.block,x=(b.block,e-T),k=parseFloat(this.value_to_left(x,b.valueToPx,i.px.portCenterOffset)),S=this.sliderConfig.direction*(l-k);else{T=0;var C=e+m*b.block;x=(C=Math.floor(C/b.block)*b.block)-e,S=-1*(l+(k=parseFloat(this.value_to_left(x,b.valueToPx,i.px.portCenterOffset)))-2*i.px.portCenterOffset)}var M=T,A="",O=this.getMinMax(i.min,i.cssUnit,i,"min"),E=this.getMinMax(i.max,i.cssUnit,i,"max");for(y=0;y<v;y++){var P=M;(n.isDefined(O)&&M<O||n.isDefined(E)&&M>E)&&(P=""),A+='<span class="mtss-block" data-label="'+P+'"></span>',M=this.decimal_precision(M+b.block,1)}a.dragBar.html(A),this.stat.dragBar.css("marginLeft",S+"px")}n.endT(arguments)},clear_comp_set_waiting:function(){var e=this.sliderConfig.$input;e&&(t.remove_comp_overlay(e,".tvr-input-wrap"),t.inputWaitingObj=e)},update_slider_value:function(r,i){n.startT(arguments);var a=this.sliderConfig,o=a.$input;a.prop,a.cssf;this.sliderConfig.value=r;var l=this.value_to_left(r,a.numbers.valueToPx,a.px.portCenterOffset);(a.px.left=l,i.positionDragbar)&&(this.stat.dragBar.css("left",l+"px"),"none"!==this.stat.set.css("display")&&this.update_drag_slack(r));if(s.maybe_update_px_equiv(r,"valueChange"),i.updatePreview&&o){if(!a.cssUnit||s.unitIsInvalid(a)||a.unitless_slider||(r+=a.cssUnit),a.slidablePieces){var c=a.slidablePieces,u=n.replaceAt(c.fullString,c.extracted.start,r,c.extracted.origLen);o.val(u),o[0].setSelectionRange(c.extracted.start,c.extracted.start+r.toString().length)}else o.val(r);t.maybe_sync_fields(o),i.userSliding&&a.isTimeField||this.renderSliderValue(e.extend(!0,{$property:a.$input,triggeredBySlider:1},i))}n.endT(arguments)},renderSliderValue:function(e){n.action_after_timeout("slider_adjust",10,{item:a.ajax_save_settings,args:[e],rateLimited:!0})},increment_change:function(e,t){this.clear_comp_set_waiting();var r=s.sliderConfig,i=parseFloat(s.sliderConfig.value),a=r.numbers.increment,o=r.min,l=r.max;e.shiftKey&&(a*=10),t&&(a*=-1);var c=i+a;if(n.isDefined(o)&&c<o||n.isDefined(l)&&c>l)return!1;var u=s.decimal_precision(c,r.numbers.minPrecision);this.update_slider_value(u,{updatePreview:1,positionDragbar:1})},toggle_unit_menu:function(e){var t=s.stat.cssUnitMenu;!this.stat.cssUnitToggle.hasClass("on")||e&&!t.data("$trigger").is(e)?this.show_unit_menu(e):this.hide_unit_menu(e)},show_unit_menu:function(e){var t=s.stat.cssUnitMenu,n=e.hasClass("mt-prop-unit"),r=n?6:0,i=n?0:"3px";t.data("$trigger",e),n&&s.update_slider_set(!1,e.closest(".field-wrap").find(".property-input")),t.position({of:e,my:"left top",at:"left-"+i+" bottom+"+r}),s.stat.cssUnitToggle.add(t).addClass("on expanded")},hide_unit_menu:function(e){s.stat.cssUnitToggle.add(s.stat.cssUnitMenu).removeClass("on expanded")},toggle_unit_menu_shortcut:function(e){s.toggle_unit_menu(e)},css_unit_clicked:function(e){s.clear_comp_set_waiting(),this.update_css_unit(e.data("unit"),{autoConvert:1,updateCopiedSrc:1,updateCopiedSrcReflow:"grid"===s.stat.set.css("display")&&!e.hasClass("mt-prop-unit"),writeUnitToSlider:1,writeUnitToField:1,updateSliderValue:1,positionDragbar:1,updatePreview:1},this.sliderConfig.value,this.sliderConfig.rawValue),this.hide_unit_menu()},ensure_slider_connected:function(e){return e.hasClass("mt-slider")&&!e.is(s.sliderConfig.$input)&&s.update_slider_set(!1,e),"already connected"},absoluteUnitConversion:{px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96},mm:{px:25.4/96},in:{px:1/96},pt:{px:.75},pc:{px:6/96},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},"":{em:1,"%":.01},em:{"":1},"%":{"":100}},getUnitReference:function(e,i){var a=TvrMT.data.prog.autoMap,o=i.nodeCSS,s=i.spacedIndex;switch(e){case"rem":return n.isDefined(i.baseFontSize)?i.baseFontSize:t.iframeEditing()?r.getBaseFontSize():t.baseFontSize;case"em":case"ex":case"ch":var l="font-size"===i.cssf?"parent":"element",c=n.checkObject(o,[l,"font-size"]);return!1!==c&&"em"!==e&&(c=parseFloat(c)/2),parseFloat(c);case"%":var u=n.checkObject(a,[i.prop,e]);if(u===Object(u)){s=n.isDefined(s)?s:0;var d=Array.isArray(u.prop)?u.prop[s]:u.prop,p=n.checkObject(o,[u.node,d]);return!!p&&parseFloat(p)/100}break;case"vh":case"vw":case"vmin":case"vmax":if(t.iframeEditing())return n.getViewPortDimensions(r.stat.win)[e]/100}return!1},getRelativeUnitMultiplier:function(e){var t=e.sourceUnit,n=e.targetUnit,r="px"!==t?t:n,i=this.getUnitReference(r,e);return!!i&&(n===r?1/i:i)},convertToIntermediaryUnit:function(t,n){var r=e.extend(!0,{},t,{targetUnit:n,precision:!1}),i={};i[n]=1;r=this.convertCSSUnit(r,i);return t.sourceUnit=n,t.value=r.value,t.intermediaryMultiplier=r.multiplier,t.value},conversionFailed:function(e){return{value:!1,conversionFailed:!0,origConfig:e,multiplier:!1}},unitCouldBeAdded:function(e,t){return("s"===t||"ms"===t||0!=e&&"0"!==e)&&n.isNumber(e)},convertCSSUnit:function(e,t){n.startT(arguments),t=t||{};var r=e.value,i=e.sourceUnit,a=this.absoluteUnitConversion,o=""===e.sourceUnit||""===e.targetUnit;if(!t.em&&o&&"line-height"===e.cssf&&"em"!==e.sourceUnit&&!1===this.convertToIntermediaryUnit(e,"em"))return this.conversionFailed(e);var s=n.checkObject(a,[e.targetUnit,e.sourceUnit]);if(!t.px&&!s&&"px"!==e.sourceUnit&&!1===this.convertToIntermediaryUnit(e,"px"))return this.conversionFailed(e);var l=n.checkObject(a,[e.targetUnit,e.sourceUnit])?a[e.targetUnit][e.sourceUnit]:this.getRelativeUnitMultiplier(e);if(!1===l||void 0===l)return n.endT(arguments),"fr"===e.targetUnit?{value:1}:"px"===e.targetUnit&&"fr"===e.sourceUnit?{value:100}:this.conversionFailed(e);var c=e.value,u=e.precision,d=this.decimal_precision(l*c,u);return n.endT(arguments),{source:c+e.sourceUnit,origValue:r,origUnit:i,value:d,unitValue:d+e.targetUnit,multiplier:l,intermediaryMultiplier:e.intermediaryMultiplier}},decimal_precision:function(e,t){return!1!==t&&(0===t?e=Math.round(e):(t=Math.pow(10,parseInt(t)),e=Math.round(e*t)/t)),e},update_css_unit:function(e,r,i,a){n.startT(arguments);var o=this.sliderConfig,l=this.stat,c=o.cssUnit,u=o.value,d=!1,p=!1;if(o.unitless_slider)l.set.addClass("is-unitless_slider");else{if(l.set.removeClass("is-unitless_slider"),"none"===e&&(e=""),o.cssUnit=e,o.numbers=this.get_numbers(e,o.increment,o.blockPx),r.autoConvert&&!s.unitIsInvalid(o)){var f=s.convertCSSUnit({prop:o.prop,cssf:o.cssf,value:u,sourceUnit:c,targetUnit:e,precision:this.get_numbers(e).maxPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[]}).value;!1!==f?(i=f,o.value=i):i=u}if(r.writeUnitToField||r.writeUnitToSlider){if("px"!==e&&!s.unitIsInvalid(o)){var h=s.convertCSSUnit({prop:o.prop,cssf:o.cssf,value:i,sourceUnit:e,targetUnit:"px",precision:0,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[]});!1!==h.value&&(d=n.isDefined(h.intermediaryMultiplier)?h.intermediaryMultiplier:h.multiplier,p=h.value)}o.pxEquiv=p,o.pxEquivMultiplier=d}if(r.writeUnitToField){var _=o.M;s.apply_property_unit(i,a,e,o.$input.closest(".field-wrap"),_.groupSlug,_.propertySlug,{writeToLabel:1,writeToInput:1,writeToJS:1,inputEdited:r.inputEdited,trail:o.jsData.propLevels}),t.maybe_sync_fields(o.$input,e)}if(r.writeUnitToSlider){var g=n.checkObject(o,["special_units","type"])||"standard";l.cssUnit.text(e),l.set.attr("data-unit",e).attr("data-unit-type",g),o.excludePercent&&l.set.attr("data-exclude-percent","1"),l.set.attr("data-unit",e),l.cssUnit.text(e),s.maybe_update_px_equiv(i,"unitChange")}}r.updateSliderValue&&this.update_slider_value(i,r),!o.unitless_slider&&r.updateCopiedSrc&&s.apply_unit_to_copied_src(r.updateCopiedSrcReflow,!0),n.endT(arguments)},maybe_update_px_equiv:function(e,t){var n=this.sliderConfig;if(!1!==n.pxEquivMultiplier){var r=s.decimal_precision(e*n.pxEquivMultiplier,0);s.stat.pxEquivValue.text(r)}},apply_unit_to_copied_src:function(i,a){var l=s.sliderConfig,c=l.cssf,u=l.prop,d=t.gatheredCSS.root_cat_keys[u],p=TvrMT.data.prog.lh[c];if(void 0===p||void 0===p.fdu)return!1;for(var f=p.fdu,h=t.pref.my_props.sug_values,_=TvrMT.data.prog.combo[u],g=h[d].copiedSrc,m=l.cssUnit,v=[],y=r?r.getBaseFontSize():t.baseFontSize,b=0;b<g.length;b++){var w=g[b],T=w,x=o.separate_value_unit(w),k=s.unitCouldBeAdded(w,m),S=k?T+f:T,C=x?x.value:w,M=x?x.unit:f,A=!1;(k||x&&!1===n.in_array(w,_))&&(m!==M&&(A=s.convertCSSUnit({prop:u,cssf:c,value:parseFloat(C),sourceUnit:M,targetUnit:m,precision:s.get_numbers(m).maxPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[],baseFontSize:y}).value),w=!1!==A?A+m:S),v.push(w)}h[d].copiedSrc=e.extend(!0,[],v),i&&t.resolve_combobox_source(l.$input,!0,!0,""),a&&o.save_sug_vals({specific:u,triggeredBy:"apply_unit_to_copied_src"})},get_set_or_default_unit:function(e,n,r){return void 0!==e?e:t.get_default_unit(n,r)},apply_property_unit:function(e,r,o,l,c,u,d){if(o=s.get_set_or_default_unit(o,c,u),d.writeToLabel){var p=l.find(".mt-prop-unit");o?p.attr("data-cur-unit",o):p.removeAttr("data-cur-unit")}if(d.writeToInput){var f=l.find(".css_unit-tracker"),h=n.isDefined(r),_=n.isDomEl(f);!d.inputEdited||h?(_||(d.trail||(d.trail=i.get_property_data(d.M).propLevels),l.append(i.get_prepared_icon_template(d.trail,"property","css_unit"))),l.find(".css_unit-tracker").val(o),d.writeToJS&&(n.updateObject(t.uiData,d.trail.concat("unit"),o),t.update_default_unit(c,u,o),t.stat.cssUnitGrid.find('input.custom_css_unit[data-prop="'+u+'"]').val(o),a.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_default_unit=1",sendData:a.serialized_data_with_single_key(JSON.stringify({group:c,prop:u,unit:o}))}))):d.inputEdited&&(_&&f.remove(),d.writeToJS&&n.updateObject(t.uiData,d.trail,!1,{action:"delete",key:"unit"}))}},filter_css_units:function(e,t){return"line_height"===t?(e[0].category=e[1].category,e):e.slice(1)}};return s}()})),jQuery(document).ready((function(e){TvrMT.mod.MTlayout=function(){var t,n,r,i,a,o,s,l={minSidebarSize:200,resizedColumnSize:200,set_vars:function(){n=TvrMT.TvrCom,t=TvrMT.TvrUi,r=TvrMT.MTF,i=TvrMT.mod.MTsave,TvrMT.mod.MTdd,TvrMT.mod.MTint,a=TvrMT.mod.MTace,o=TvrMT.mod.MThtml,s=TvrMT.MTdetached,TvrMT.detachedWin,this.init_dynamic_category_sidebars()},layout_config:function(e){return t.pref.layout[e||"left"]},type_from_key:function(e){return e.match(/dock_(.+?)_(?:left|right)/)[1]},key_from_type:function(e,t){return"dock_"+e+"_"+(t=t||"left")},horizontal_only:function(){return!t.pref.dock_editor_left&&!t.pref.detach_preview},flexible_field_widths:function(){return!t.pref.dock_styles_left},editor_height_auto_settable:function(e){return l.horizontal_only()&&!t.pref.code_manual_resize||"snippet-code"===e},editor_and_gui:function(e){var n=this.layout_config("left"),r=t.pref.dock_folders_left?1:0;return t.pref.detach_preview||t.pref.dock_editor_left&&!t.pref.dock_styles_left||!t.pref.dock_editor_left&&t.pref.dock_styles_left||t.pref.dock_editor_left&&t.pref.dock_styles_left&&(n.num_columns-r>1||!e&&"code"!==t.pref.pg_focus&&t.stat.inlineEditor.hasClass("mt-top-panel"))},editor_showing_left:function(){return t.pref.dock_editor_left&&!t.pref.detach_preview},show_editor_gutter:function(e){let t=this.layout_config("left").items.editor.size_category,n="snippet-code"===e.container.id;return"adaptable-editor"!==e.container.id&&!n||!this.editor_showing_left()||"sm"!==t},editor_only_left:function(){return t.pref.dock_editor_left&&!t.pref.detach_preview&&!t.pref.dock_styles_left},effective_sidebar_size:function(){return this.sidebar_showing()?l.sidebar_size:0},preview_is_detached:function(){return t.pref.detach_preview},sidebar_showing:function(){return!t.pref.detach_preview&&(t.pref.dock_editor_left||t.pref.dock_styles_left)||t.pref.detach_preview&&t.pref.dock_styles_left},maybe_adjust_side_options:function(e){l.sidebar_showing()&&!l.preview_is_detached()&&this.modify_active_editors({resize:!0})},toggle_layout_view:function(e,n,r,i){i=i||{};var a=n?e:e+"_off";t.pref[e]=n,l.update_num_items_docked(r),n&&"detach_preview"!==e&&"dock_folders_left"!==e?this.update_sidebar_z_indexes(this.type_from_key(e),r,!0):"dock_folders_left"===e&&(n?t.show_folders_or_settings("folders","left"):t.hide_folders_or_settings("folders","left")),n||"detach_preview"===e||l.removeDynContainerClass(e),this[a](),i.side=r,this.adjust_preview_margin_and_save_config(i)},update_num_items_docked:function(e){for(var n=Object.keys(this.layout_config(e).items),r=0,i=0;i<n.length;i++){var a=n[i],o=this.key_from_type(a,e);parseInt(t.pref[o])&&++r}return this.layout_config(e).num_items_docked=r,r},removeDynContainerClass:function(e){var t=l.type_from_key(e);n.checkObject(l.dynamic_category_sidebars,[t,"width"])&&n.updateObject(l.dynamic_category_sidebars,[t,"width"],void 0)},dock_folders_left:function(){},dock_folders_left_off:function(){},dock_styles_left:function(){let e=t.get_pg_meta();e&&e.groupTab.find(".pg-inner").css("margin-left","")},dock_styles_left_off:function(){},dock_editor_left:function(){t.stat.inlineEditor.css("height","")},dock_editor_left_off:function(){this.modify_active_editors({resize:!0,updateHeight:!l.preview_is_detached()})},dock_wizard_right:function(){},dock_wizard_right_off:function(){},dock_settings_right:function(){},dock_settings_right_off:function(){},dock_ai_right:function(){},dock_ai_right_off:function(){},switch_layout_classes:function(e,n,r,i){i=i||Object.keys(t.pref.layout[e].items).length;for(var a="mt-"+e+"-"+n+"-",o=a+r,s=[],l=0;l<=i;l++)l!==parseInt(r)&&s.push(a+l);t.stat.tvr.removeClass(s.join(" ")).addClass(o)},set_num_columns:function(e,t){this.layout_config(t).num_columns=parseInt(e),this.adjust_preview_margin_and_save_config({side:t}),a.update_editor_gutter()},set_effective_num_columns:function(e){var t=this.sidebar_meta(e).effective_num_columns;this.layout_config(e).effective_num_columns=t,this.switch_layout_classes(e,"cols",t)},set_effective_top_rows:function(){var e=this.topbar_meta().effective_num_rows;this.layout_config("top").effective_num_rows=e,this.switch_layout_classes("top","rows",e,3)},detach_preview:function(){t.stat.iframe[0].src="about:blank",window.name="MTroot",window.TvrMT.detachedWin=window.open("admin.php?page=tvr-microthemer-preview-wrap.php","detachedPreview");try{window.TvrMT.detachedWin.focus()}catch(e){i.update_full_logs({short:TvrLang.popup_blocked,long:"<p>"+t.appName+" "+TvrLang.popup_blocked_long+"</p>",type:"warning"})}t.stat.inlineEditor.css("height",""),this.modify_active_editors({resize:!0}),l.detached_window_available()&&s.remove_window_inactive_notice()},detach_preview_off:function(){l.editor_showing_left()?this.adjust_preview_margin_and_save_config({side:"left",skipSave:1}):l.horizontal_only()&&this.modify_active_editors({resize:!0,updateHeight:!0}),l.detached_window_available()&&s.deactivate_window(),t.stat.iframeDoc=window.frames.viframe,MTlocal.maybe_load_site_preview(),MTlocal.updateSuggestionsMenuReference()},detached_window_available:function(e){return!(!TvrMT.detachedWin||!window.TvrMT.MTdetached)&&(TvrMT.detachedWin,s=window.TvrMT.MTdetached,!e||e&&t.pref.detach_preview)},retrieve_or_load_detached:function(){window.name="MTroot";var e=window.open("","detachedPreview"),n=!0;if(e&&e.MTdetached){if(n=!1,e.opener=window,e.MTdetached.set_vars(),t.set_vars(),e.MTlocal.update_TvrMT_and_other_vars(window.TvrMT),s=window.TvrMT.MTdetached,!(r=window.TvrMT.MTF))return void e.MTlocal.maybe_load_site_preview();r.stat.win.closed?n=!0:(r.set_vars(),r.setDomChangedSignals(),l.trigger_iframe_loaded(),r.unbind_wizard_hover(),r.bind_wizard_hover())}n&&l.toggle_layout_view("detach_preview",1,"left")},trigger_iframe_loaded:function(){l.iframe_loaded(r.stat.html)},iframe_loaded:function(e){r=window.TvrMT.MTF,t.stat.fHTML=e,parseInt(t.pref.grid_highlight)&&t.stat.fHTML.addClass("grid_highlight"),"grid"===t.pref.pg_focus&&t.stat.fHTML.addClass("showGridControls"),l.detached_window_available(!0)&&s.iframe_loaded()},toolbar_adjusted:function(e,t,r){n.startT("maybe_adjust_side_options"),l.maybe_adjust_side_options("height"),n.endT("maybe_adjust_side_options")},topbar_meta:function(){var e=1;return t.pref.detach_preview?(t.pref.dock_styles_left||(e=3),t.pref.show_code_editor&&(e=1)):(t.pref.dock_editor_left||(e=2),t.pref.dock_styles_left||(e=t.onlyInlineEditor&&t.pref.dock_editor_left?2:3),t.pref.show_code_editor&&(e=t.pref.dock_editor_left?1:2)),{effective_num_rows:e}},sidebar_meta:function(e){e=e||"left";var n=0,r=0,i=this.layout_config(e),a=i.num_items_docked,o=i.num_columns||1,s=i.column_sizes;if("left"===e&&t.pref.detach_preview&&t.pref.dock_editor_left&&(a-=1),"left"===e&&t.pref.show_code_editor){var l=t.pref.dock_editor_left&&!t.pref.detach_preview;a=l?1:0,n=l?s[0]:0}if(a>0)for(var c=0;c<s.length;c++){var u=c+1,d=parseFloat(s[c]);u<=o&&u<=a&&(n+=parseFloat(d),r++)}return{size:{num:n,px:n+"px"},effective_num_columns:r}},dragged_column:function(t){var n=e(t.helper).data(),r=parseInt(n.templateColumn),i=n.side,a="left"===i?r-1:r;return{columnNumber:r,sizeIndex:a,sideColumnSizeIndex:"left"===i?a:r-4,side:i,context:n.context}},get_all_column_sizes:function(n,r){var i=n?"min_column_sizes":"column_sizes";return"main_columns"===r?this.layout_config("left")[i].concat(["1fr"]).concat(t.pref.layout.right[i]):"inspection_columns"===r?e.extend(!0,[],this.layout_config("inspection_columns")[i]):void 0},dynamic_category_sidebars:{},init_dynamic_category_sidebars:function(){this.dynamic_category_sidebars={folders:{$el:t.stat.mainMenu,side:"left"},styles:{$el:t.stat.opts,side:"left"},editor:{$el:t.stat.inlineEditor,side:"left"},ai:{$el:t.stat.aiAssistant,side:"right"},settings:{$el:t.stat.settingsMenu,side:"right"}}},get_dynamic_category_sidebar_widths:function(){for(var e=Object.keys(this.dynamic_category_sidebars),t={},n=0;n<e.length;n++){var r=e[n],i=this.dynamic_category_sidebars[r],a=i.$el;t[r]={$el:a,width:a.outerWidth(),side:i.side}}return this.dynamic_category_sidebars=t,t},update_dynamic_category_sidebar_classes:function(e){for(var t=l.dynamic_category_sidebars,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],a=t[i],o=a.$el.outerWidth();o!==a.width&&l.change_sidebar_size_class(o,i,a.side)}},stopResizingPanel:function(){},make_sidebars_draggable:function(){function r(){t.stat.front.addClass("mt-no-pointer")}function i(r,i,a){if(t.stat.front.removeClass("mt-no-pointer"),i){var o=e(r.helper),s=o;if(a){var l=o.siblings(".mt-width-resizer");s=s.add(l)}s.each((function(){n.forceElReflow(e(this),"left: 99% !important")}))}}t.stat.vis.children(".mt-width-resizer").draggable({axis:"x",start:function(e,n){r();var i=l.dragged_column(n);t.pref.dock_folders_left&&1===i.columnNumber&&t.stat.vis.addClass("panel-being-resized"),l.get_dynamic_category_sidebar_widths()},drag:function(e,t){var n=l.dragged_column(t),r=n.sizeIndex,i=n.side,a=t.offset.left-t.originalPosition.left;"right"===i&&(a*=-1);var o=l.update_sidebar_column_size(t,r,a,n.context);o&&(l.update_main_grid_widths(o),l.update_dynamic_category_sidebar_classes())},stop:function(e,n){var r=l.dragged_column(n),a=r.columnNumber,o=r.side,s=r.sideColumnSizeIndex;t.pref.dock_settings_right||4!==a&&5!==a||(t.doNotCloseSettingsMenu=!0),l.layout_config(o).column_sizes[s]=l.resizedColumnSize,l.adjust_preview_margin_and_save_config({side:r.side}),t.stat.vis.removeClass("panel-being-resized"),i(n,!0,!0)}}),l.gridHeightResizerAdjust=0,t.stat.vis.children(".mt-height-resizer").draggable({axis:"y",containment:"parent",start:function(n,i){r();var a=e(i.helper).data(),o="editor_height"===a.side,s=o?t.stat.inlineEditor:t.stat.inspectionPanes;l.elementHeightAdjust={$el:s,origHeight:s.height(),isCSSEditor:o,directionMultiplier:o?1:-1,offsetFix:i.originalPosition.top,data:a}},drag:function(e,t){var n=l.elementHeightAdjust,r=t.position.top-n.offsetFix,i=n.origHeight+r*n.directionMultiplier;n.$el.height(i),n.newHeight=i,n.isCSSEditor?a.eds["adaptable-editor"].resize():a.eds.wizard_inspector_html.resize()},stop:function(e,n){var r=l.elementHeightAdjust;t.pref.layout[r.data.side].size=r.newHeight,l.save_layout_preferences(),i(n)}}),t.stat.inspectionPanes.children(".mt-width-resizer").draggable({start:function(n,i){r();var a=e(i.helper).data();l.inspectionWidthAdjust={inspectionLeftOffset:t.stat.inspectionPanes.offset().left,originalPositionLeft:i.originalPosition.left,data:a,sizeIndex:parseInt(a.templateColumn)-1}},drag:function(t,r){var i=l.inspectionWidthAdjust,o=-1*(r.offset.left-i.inspectionLeftOffset-r.originalPosition.left),s=l.update_sidebar_column_size(r,i.sizeIndex,o,i.data.context);if(s){for(var c=[],u=0;u<s.length;u++){var d=s[u];n.isNumeric(parseFloat(d))&&(d="minmax(auto, "+d+")"),c.push(d)}var p=".wizard-panes { grid-template-columns:1fr "+c.join(" ")+"; }";e("#inspection-columns").text(p),a.eds.wizard_inspector_html.resize()}},stop:function(e,t){var n=l.inspectionWidthAdjust;l.layout_config(n.data.context).column_sizes[n.sizeIndex]=l.resizedColumnSize,l.save_layout_preferences(),i(t,!0)}})},elementHeightAdjust:{},inspectionWidthAdjust:{},update_sidebar_column_size:function(e,t,r,i){var a=this.get_all_column_sizes(!1,i),o=this.get_all_column_sizes(!0,i),s=a[t],c=parseFloat(s)+parseFloat(r);if(c<o[t]){var u=o[t];return e.position.left=u,l.resizedColumnSize=u,!1}l.resizedColumnSize=c,a[t]=c;for(var d=0;d<a.length;d++){var p=a[d];n.isNumber(p)&&(a[d]=p+"px")}return a},update_main_grid_widths:function(t){for(var r=[],i=[],a=parseInt(l.layout_config("left").effective_num_columns),o=parseInt(l.layout_config("right").effective_num_columns),s=t.length,c=0;c<s;c++){var u=t[c],d=u,p=c+1;n.isNumeric(u)&&(u+="px",d+="px"),(p<4&&p>a||5===p&&o<2)&&(u=0),r.push(u),1===p||6===p?i.push(d):i.push(u)}var f=".visual-view { grid-template-columns: "+r.join(" ")+" }";e("#main-interface-columns").text(f);var h="#advanced-wizard { grid-template-columns: "+i.join(" ")+" }";e("#mt-footer-columns").text(h)},return_another_panel_to_top:function(e,n){for(var r=l.layout_config(n).top_panel.previous,i=l.get_sidebar_containers({exclude:[e],styleWithIcons:1,side:n}),a=[],o=0;o<i.containerArray.length;o++){var s=i.containerArray[o],c="icons"===s.type?"dock_styles_left":s.key;if(t.pref[c]){if(s.type===r)return r;a.push(s.type)}}return!!a.length&&a[0]},update_sidebar_z_indexes:function(e,n,r){if(l.doNotUpdateZIndexes)return l.doNotUpdateZIndexes=!1,!1;var i=this.get_sidebar_container(e,!1,n).$el,a=this.get_sidebar_containers({exclude:[e],styleWithIcons:1,side:n}).$containers,o=a?a.add(i):i,s=o.filter(".mt-top-panel");o.removeClass("mt-top-panel was-top-panel"),s.addClass("was-top-panel"),i.addClass("mt-top-panel"),"left"===n&&"folders"!==e&&t.hide_folders_or_settings("folders",n,!0),"right"===n&&"settings"!==e&&t.hide_folders_or_settings("settings",n,!0);var c=this.layout_config(n).top_panel;c.previous=c.current,c.current=e},back_to_property_groups:function(e){this.update_sidebar_z_indexes("icons","left"),t.stat.tvr.removeClass("showGridControls")},sidebar_sizes_map:{sm:0,md:300,lg:360},sidebar_size_category:function(e){var t=this.sidebar_sizes_map,n="0";for(var r in t)t.hasOwnProperty(r)&&e>=t[r]&&(n=r);return n},modify_active_editors:function(e){var n=t.stat.adaptableEditor;[a.eds["adaptable-editor"],a.eds["snippet-code"],a.eds.ai_code].forEach((function(r){r&&(e.updateHeight&&l.editor_height_auto_settable()?a.editor_update_height(r,n,16*r.session.getLength()):t.pref.dock_editor_left&&t.stat.inlineEditor.css("height",""),e.resize&&(r.resize(),"ai_code"!==r.container.id?a.update_editor_gutter(r):"snippet-code"!==r.container.id&&o.updateEditorHeight()))}))},adjust_preview_margin_and_save_config:function(e){n.startT(arguments),e=e||{},l.update_dynamic_category_sidebar_classes(),l.update_main_grid_widths(l.get_all_column_sizes(!1,"main_columns")),"left"===e.side?(this.set_effective_num_columns("left"),this.set_effective_top_rows(),l.update_editor_and_gui_class(),t.totalSels&&!e.skipPGPress&&(l.doNotUpdateZIndexes=!0,t.loadOrReloadEditor(),l.doNotUpdateZIndexes=!1),this.modify_active_editors({resize:!0,updateHeight:l.horizontal_only()})):this.set_effective_num_columns("right"),l.update_main_grid_widths(l.get_all_column_sizes(!1,"main_columns")),parseInt(t.pref.wizard_expanded)&&a.eds.wizard_inspector_html&&a.eds.wizard_inspector_html.resize(),t.reset_preview_width_for_current_tab(!1,!0,t.rulerManuallyAdjusted),e.skipSave||t.forceNoLayoutSave||this.save_layout_preferences(),n.endT(arguments,0)},save_layout_preferences:function(){n.action_after_timeout("save_layout_preferences",500,{item:function(){i.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_mt_layout=1",sendData:i.serialized_data_with_single_key(JSON.stringify(t.pref.layout))})},args:[]})},update_editor_and_gui_class:function(){this.editor_and_gui(!0)?t.stat.tvr.addClass("editor_and_gui"):t.stat.tvr.removeClass("editor_and_gui")},get_sidebar_container:function(n,r,i){r=r||this.key_from_type(n,i);var a={dock_folders_left:{side:"left",$el:t.stat.mainMenu,$toggle:e("#main-menu-tip-trigger"),$otherToggle:e("#sec-in-focus")},dock_styles_left:{side:"left",$el:t.stat.opts},dock_editor_left:{side:"left",$el:t.stat.inlineEditor},dock_icons_left:{side:"left",$el:t.stat.css_icons},dock_wizard_right:{side:"right",$el:t.stat.inspectionPanes},dock_settings_right:{side:"right",$el:t.stat.settingsMenu,$toggle:e("#program-settings-icon")},dock_ai_right:{side:"right",$el:t.stat.aiAssistant,$toggle:e("#mt-ai-assistant")}};return"all"===r?Object.values(a):a[r]},get_sidebar_containers:function(e){e=e||{};var r=Object.keys(this.layout_config(e.side).items),i=[],a=!1,o=0;e.styleWithIcons&&r.push("icons");for(var s=0;s<r.length;s++){var l=r[s],c=this.key_from_type(l);if((!e.onlyActive||t.pref[c])&&!n.in_array(l,e.exclude)){var u=this.get_sidebar_container(l,!1,e.side);if(u&&(!e.side||e.side===u.side)){var d=u.$el;a=a?a.add(d):d,i.push({type:l,key:c,$container:d}),++o}}}return{containerArray:i,$containers:a,items:o}},change_sidebar_size_class:function(e,t,n){var r=l.sidebar_size_category(e);l.get_sidebar_container(t,!1,n).$el.removeClass("mts-sm mts-md mts-lg").addClass("mts-"+r),l.modify_active_editors({resize:!0}),o.tinymce.maybeUpdateCompToolbarOffset();var i=l.layout_config(n).items[t];i.size=e,i.size_category=r},switch_layout_preset:function(r){n.startT(arguments);var a=r.data("preset"),o=TvrMT.data.prog.suggested_screen_layouts[a],s=t.stat.settingsMenu.children(".mt-view-panel").children(".mt-advanced_layout_options-panel"),c=e("#program-settings-icon"),u=e("#mt-ai-assistant"),d={};t.forceNoLayoutSave=!0,"S"!==a&&"M"!==a||(c.hasClass("on")||t.toggle_program_menu(),u.hasClass("on")||t.toggle_ai_panel()),s.find(".mt-item").add("#wizard-expand-toggle").each((function(r){var i,a,s=e(this);if("view"===s.data("layout-preset")){var c=s.hasClass("mt-toggle"),u=s.hasClass("wizard-expand-toggle");if(c||u){var p=s.hasClass("uit-par")?s:s.find(".uit-par"),f=p.hasClass("on");i=p.data("aspect"),a=o.on[i]||0,(f&&!a||!f&&a)&&(n.startT("click_toggle_"+i),t.toggle_feature(p,i,{noSave:1,skipSave:1}),d[i]=a,n.endT("click_toggle_"+i))}else if(s.hasClass("has-select-menu")){i=s.data("aspect"),a=parseInt(o.on[i]);var h=s.find("select");parseInt(h.val())!==a&&(n.startT("column_change_"+i),h.val(a),l.set_num_columns(a,h.data("side")),d[i]=a,n.endT("column_change_"+i))}}})),l.update_dynamic_category_sidebar_classes(),t.forceNoLayoutSave=!1,d.suggested_layout=a,d.layout=t.pref.layout,i.save_multiple_preferences(d,1),n.endT(arguments,0)}};return l}()}));